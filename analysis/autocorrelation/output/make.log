
 make.py started: 2022-03-21 20:15:00 C:\Users\Usuario\Documents\GitHub\min_wage_rent\analysis\autocorrelation\code 




Execute:  StataMP-64 /e do "./autocorrelation.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.0   Copyright 1985-2019 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      Downloadly.ir     
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 2-core Stata network license expires 20 Aug 2022:
       Serial number:  501609213901
         Licensed to:  DOWNLOADLY.IR 085227746673
                       WwW.DownLoadLy.iR 085227746673

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./autocorrelation.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata\Stata16\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata\Stata16\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "C:\Users\Usuario\ado\personal/"
  [5]  (PLUS)      "C:\Users\Usuario\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "C:\Program Files\Stata\Stata16\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata\Stata16\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "C:\Users\Usuario\ado\personal/"
  [5]  (PLUS)      "C:\Users\Usuario\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. set maxvar 32000 


. 
. program main 
  1. 
.         local instub "../../../drive/derived_large/estimation_samples"
  2.         local outstub "../output"
  3.         
.         define_controls
  4.         local controls "`r(economic_controls)'"
  5. 
.         use "`instub'/zipcode_months", clear
  6.         keep if baseline_sample
  7. 
.         xtset zipcode_num year_month
  8. 
.         reghdfe D.ln_rents D.mw_res D.mw_wkp_tot_17 `controls', ///
>                         absorb(year_month)      ///
>                         vce(cluster statefips) nocons residuals(fd_res)
  9.         
.         reg fd_res L.fd_res, cluster(statefips)
 10.         test (L.fd_res = -0.5) 
 11.         scalar p_val_auto = r(p)
 12. 
.         estimate_stacked_model, depvar(ln_rents)  ///
>         mw_var1(mw_res) mw_var2(mw_wkp_tot_17) controls(`controls') ///
>         absorb(year_month zipcode) cluster(statefips) ///
>         model_name(levels_model) outfolder("../temp")
 13. 
.         estimate_dist_lag_model, depvar(ln_rents) ///
>         dyn_var(mw_wkp_tot_17) w(0) stat_var(mw_res) ///
>         controls(`controls') absorb(year_month) cluster(statefips) ///
>         model_name(baseline_model) outfolder("../temp")
 14.                 
.         use ../temp/estimates_levels_model.dta, clear
 15.         append using ../temp/estimates_baseline_model.dta
 16. 
.         gen p_val = .
 17.         replace p_val = p_val_auto if model == "baseline_model"
 18.          
.         export delimited `outstub'/estimates_autocorrelation.csv, replace
 19. end

. 
. main
(64,239 observations deleted)
       panel variable:  zipcode_num (unbalanced)
        time variable:  year_month, 2010m2 to 2019m12
                delta:  1 month
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    131,487
Absorbing 1 HDFE group                            F(  11,     39) =      15.04
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0210
                                                  Adj R-squared   =     0.0201
                                                  Within R-sq.    =     0.0004
Number of clusters (statefips) =         40       Root MSE        =     0.0290

                             (Std. Err. adjusted for 40 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
  D.ln_rents |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
      mw_res |
         D1. |   -.020569   .0161867    -1.27   0.211    -.0533097    .0121718
             |
mw_wkp_to~17 |
         D1. |   .0524476   .0275736     1.90   0.065    -.0033253    .1082204
             |
ln_emp_biz~v |  -.0009218    .000195    -4.73   0.000    -.0013163   -.0005273
 ln_emp_info |    .000284   .0002434     1.17   0.250    -.0002082    .0007763
  ln_emp_fin |   .0003534   .0002587     1.37   0.180    -.0001699    .0008767
ln_estcoun~v |   .0004244   .0005202     0.82   0.420    -.0006279    .0014767
ln_estcoun~o |   .0003492   .0004056     0.86   0.395    -.0004712    .0011695
ln_estcoun~n |  -.0002338   .0007305    -0.32   0.751    -.0017114    .0012437
ln_avgwwag~v |  -.0002692   .0007371    -0.37   0.717    -.0017601    .0012217
ln_avgwwag~o |   .0004805   .0005628     0.85   0.398    -.0006579    .0016188
ln_avgwwag~n |  -.0013026   .0005729    -2.27   0.029    -.0024613   -.0001438
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+

Linear regression                               Number of obs     =    129,974
                                                F(1, 39)          =    1657.37
                                                Prob > F          =     0.0000
                                                R-squared         =     0.0555
                                                Root MSE          =     .02807

                             (Std. Err. adjusted for 40 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
      fd_res |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
      fd_res |
         L1. |  -.2343779   .0057571   -40.71   0.000    -.2460229    -.222733
             |
       _cons |  -.0000121   .0001263    -0.10   0.924    -.0002676    .0002434
------------------------------------------------------------------------------

 ( 1)  L.fd_res = -.5

       F(  1,    39) = 2128.69
            Prob > F =    0.0000
(MWFE estimator converged in 6 iterations)

HDFE Linear regression                            Number of obs   =    132,819
Absorbing 2 HDFE groups                           F(  11,     39) =       8.11
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9889
                                                  Adj R-squared   =     0.9888
                                                  Within R-sq.    =     0.0665
Number of clusters (statefips) =         40       Root MSE        =     0.0488

                             (Std. Err. adjusted for 40 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
    ln_rents |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
      mw_res |   .0876587    .214123     0.41   0.684     -.345446    .5207633
mw_wkp_to~17 |  -.0680276   .2158169    -0.32   0.754    -.5045584    .3685033
ln_emp_biz~v |   .1130427   .0281445     4.02   0.000      .056115    .1699704
 ln_emp_info |   .0178865   .0093615     1.91   0.063     -.001049    .0368219
  ln_emp_fin |   .0914015   .0342018     2.67   0.011     .0222219    .1605811
ln_estcoun~v |  -.0269963   .0933402    -0.29   0.774    -.2157946    .1618021
ln_estcoun~o |  -.0038413    .025347    -0.15   0.880    -.0551105    .0474278
ln_estcoun~n |   .1439693   .1084994     1.33   0.192    -.0754914      .36343
ln_avgwwag~v |   .0109069    .014309     0.76   0.451    -.0180358    .0398497
ln_avgwwag~o |   .0298108   .0097991     3.04   0.004     .0099902    .0496314
ln_avgwwag~n |   .0026182   .0088991     0.29   0.770    -.0153819    .0206183
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       119           0         119     |
     zipcode |      1344        1344           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

 ( 1)  mw_res - mw_wkp_tot_17 = 0

       F(  1,    39) =    0.14
            Prob > F =    0.7152
(note: file ../temp/estimates.dta not found)
file ../temp/estimates.dta saved
file ../temp/estimates.dta saved

 ( 1)  mw_res + mw_wkp_tot_17 = 0

------------------------------------------------------------------------------
    ln_rents |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0196311   .0739224     0.27   0.792     -.129891    .1691532
------------------------------------------------------------------------------
number of observations will be reset to 1
Press any key to continue, or Break to abort
number of observations (_N) was 0, now 1
(note: file ../temp/estimates_cumsum_from0.dta not found)
file ../temp/estimates_cumsum_from0.dta saved
(133,520 observations deleted)
(0 observations deleted)
(1 missing value generated)
variable var was str6 now str13
(1 real change made)
(2 real changes made)
(note: variable at was byte, now float to accommodate using data's values)
(note: file ../temp/estimates_levels_model.dta not found)
file ../temp/estimates_levels_model.dta saved
(note: file ../temp/estimates_levels_model.csv not found)
file ../temp/estimates_levels_model.csv saved
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    131,306
Absorbing 1 HDFE group                            F(  11,     39) =       3.37
Statistics robust to heteroskedasticity           Prob > F        =     0.0024
                                                  R-squared       =     0.0208
                                                  Adj R-squared   =     0.0199
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         40       Root MSE        =     0.0290

                             (Std. Err. adjusted for 40 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
  D.ln_rents |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_wkp_to~17 |
         D1. |   .0531189   .0284462     1.87   0.069     -.004419    .1106568
             |
      mw_res |
         D1. |  -.0195683   .0168949    -1.16   0.254    -.0537415     .014605
             |
ln_emp_biz~v |
         D1. |    .010977   .0052797     2.08   0.044     .0002977    .0216562
             |
 ln_emp_info |
         D1. |   .0013819   .0037648     0.37   0.716    -.0062331    .0089968
             |
  ln_emp_fin |
         D1. |   .0098246   .0059735     1.64   0.108    -.0022579    .0219071
             |
ln_estcoun~v |
         D1. |   .0014211   .0148199     0.10   0.924    -.0285549    .0313972
             |
ln_estcoun~o |
         D1. |   .0009589   .0052692     0.18   0.857     -.009699    .0116168
             |
ln_estcoun~n |
         D1. |   .0041679    .007385     0.56   0.576    -.0107697    .0191055
             |
ln_avgwwag~v |
         D1. |   .0028159   .0029808     0.94   0.351    -.0032133    .0088451
             |
ln_avgwwag~o |
         D1. |  -.0000463   .0016912    -0.03   0.978    -.0034672    .0033745
             |
ln_avgwwag~n |
         D1. |  -.0019767   .0011081    -1.78   0.082     -.004218    .0002646
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
file ../temp/estimates.dta saved
(133,520 observations deleted)
(0 observations deleted)
(1 missing value generated)
(1 real change made)
(2 real changes made)
(1 real change made)
(note: file ../temp/estimates_baseline_model.dta not found)
file ../temp/estimates_baseline_model.dta saved

 ( 1)  D.mw_wkp_tot_17 + D.mw_res = 0

------------------------------------------------------------------------------
  D.ln_rents |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0335507    .015614     2.15   0.038     .0019684    .0651329
------------------------------------------------------------------------------
number of observations will be reset to 1
Press any key to continue, or Break to abort
number of observations (_N) was 0, now 1
(note: file ../temp/estimates_baseline_model_sumsum_from0.dta not found)
file ../temp/estimates_baseline_model_sumsum_from0.dta saved
(note: variable at was byte, now float to accommodate using data's values)
file ../temp/estimates_baseline_model.dta saved
(note: file ../temp/estimates_baseline_model.csv not found)
file ../temp/estimates_baseline_model.csv saved
(note: variable model was str12, now str14 to accommodate using data's
       values)
(6 missing values generated)
(3 real changes made)
(note: file ../output/estimates_autocorrelation.csv not found)
file ../output/estimates_autocorrelation.csv saved

. 
end of do-file


Execute:  R CMD BATCH --no-save "./table.R" table.Rout

R version 4.1.2 (2021-11-01) -- "Bird Hippie"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R es un software libre y viene sin GARANTIA ALGUNA.
Usted puede redistribuirlo bajo ciertas circunstancias.
Escriba 'license()' o 'licence()' para detalles de distribucion.

R es un proyecto colaborativo con muchos contribuyentes.
Escriba 'contributors()' para obtener más información y
'citation()' para saber cómo citar R o paquetes de R en publicaciones.

Escriba 'demo()' para demostraciones, 'help()' para el sistema on-line de ayuda,
o 'help.start()' para abrir el sistema de ayuda HTML con su navegador.
Escriba 'q()' para salir de R.

> remove(list = ls())
> 
> library(data.table)
> 
> main <- function() {
+   instub <- "../output"
+   outstub <- "../output/"
+   
+   est <- fread(file.path(instub, "estimates_autocorrelation.csv"))
+   est_var <- est[var != "cumsum_from0"]
+   
+   txt <- c("<tab:static>")
+   
+   txt <- c(txt, 
+            paste(est_var[model == "levels_model" & var == "mw_res"]$b, 
+                  est_var[model == "baseline_model" & var == "mw_res"]$b, sep = "\t"), 
+            paste(est_var[model == "levels_model" & var == "mw_res"]$se, 
+                  est_var[model == "baseline_model" & var == "mw_res"]$se, sep = "\t"))
+   
+   txt <- c(txt, 
+            paste(est_var[model == "levels_model" & var == "mw_wkp_tot_17"]$b, 
+                  est_var[model == "baseline_model" & var == "mw_wkp_tot_17"]$b, sep = "\t"), 
+            paste(est_var[model == "levels_model" & var == "mw_wkp_tot_17"]$se,
+                  est_var[model == "baseline_model" & var == "mw_wkp_tot_17"]$se, sep = "\t"))
+   
+   txt <- c(txt, paste(format(round(est_var[model == "baseline_model" & var == "mw_res"]$p_val),nsmall=3)))
+   
+   txt <- c(txt, paste(est_var[model == "levels_model" & var == "mw_res"]$N, 
+                       est_var[model == "baseline_model" & var == "mw_res"]$N, sep = "\t"))
+   
+   fileConn <- file(file.path(outstub, "autocorrelation.txt"))
+   writeLines(txt, fileConn)
+   close(fileConn)
+ }
> 
> main()
> 
> proc.time()
   user  system elapsed 
   0.29    0.07    0.37 

 make.py ended: 2022-03-21 20:15:14
