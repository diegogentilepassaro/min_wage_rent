
 make.py started: 2021-10-27 14:59:24 C:\Users\diegog\Desktop\Diego\min_wage_rent\analysis\twfe_wages\code 




Execute:  StataMP-64 /e do "./estimates.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./estimates.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. 
. program main
  1.     local instub "../../../drive/derived_large/"
  2.     local outstub "../output"
  3. 
.     use "`instub'/zipcode_year/zipcode_year.dta", clear
  4.     xtset zipcode_num year
  5. 
.     add_baseline_zipcodes, instub(`instub')
  6.         
.     define_controls
  7.     local controls "`r(economic_controls)'"
  8.     local cluster "statefips"
  9. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(ln_mw_avg exp_ln_mw_tot_17_avg) controls(" ")
>             ///
>         absorb(zipcode year) cluster(`cluster') model_name(naive)
 10. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(ln_mw_avg exp_ln_mw_tot_17_avg) controls(`con
> trols')     ///
>         absorb(zipcode year) cluster(`cluster') model_name(ctrls)
 11. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(ln_mw_avg exp_ln_mw_tot_17_avg) controls(`con
> trols')     ///
>         absorb(zipcode year#cbsa10_num) cluster(`cluster') model_name(cbsa_ti
> me)
 12. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(ln_mw_avg exp_ln_mw_tot_17_avg) controls(`con
> trols')     ///
>         absorb(zipcode year#county_num) cluster(`cluster') model_name(county_
> time)
 13.     
.     estimate_twfe_model if baseline_sample, ///
>         yvar(ln_wagebill) xvars(ln_mw_avg exp_ln_mw_tot_17_avg) controls(`con
> trols')     ///
>         absorb(zipcode year#cbsa10_num) cluster(`cluster') model_name(cbsa_ti
> me_baseline)
 14. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(ln_mw_avg exp_ln_mw_tot_10_avg) controls(`con
> trols')     ///
>         absorb(zipcode year#cbsa10_num) cluster(`cluster') model_name(exp_mw_
> 10)
 15.     
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(ln_mw_avg exp_ln_mw_tot_18_avg) controls(`con
> trols')     ///
>         absorb(zipcode year#cbsa10_num) cluster(`cluster') model_name(exp_mw_
> 18)
 16.     
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(ln_mw_avg exp_ln_mw_tot_avg) controls(`contro
> ls')       ///
>         absorb(zipcode year#cbsa10_num) cluster(`cluster') model_name(exp_mw_
> varying)
 17.     
.     estimate_twfe_model, ///
>         yvar(ln_dividends) xvars(ln_mw_avg exp_ln_mw_tot_17_avg) controls(`co
> ntrols')    ///
>         absorb(zipcode year#cbsa10_num) cluster(`cluster') model_name(dividen
> ds)
 18. 
.     use `outstub'/estimates_naive.dta, clear
 19.     foreach ff in ctrls cbsa_time county_time cbsa_time_baseline ///
>                   exp_mw_10 exp_mw_18 exp_mw_varying dividends {
 20.         append using `outstub'/estimates_`ff'.dta
 21.     }
 22.     save             `outstub'/estimates_all.dta, replace
 23.     export delimited `outstub'/estimates_all.csv, replace
 24. end

. 
. program add_baseline_zipcodes
  1.     syntax, instub(str)
  2. 
.     preserve
  3.         use `instub'/estimation_samples/baseline_zipcode_months.dta
  4. 
.         keep if !missing(ln_rents)
  5. 
.         keep zipcode year
  6.         bys  zipcode year: keep if _n == 1
  7. 
.         gen baseline_sample = 1
  8. 
.         tempfile zipcode_years_baseline
  9.         save    `zipcode_years_baseline'
 10.     restore
 11. 
.     merge 1:1 zipcode year using `zipcode_years_baseline', assert(1 3) keep(1
>  3) nogen
 12. 
.     replace baseline_sample = 0 if baseline_sample != 1
 13. end

. 
. 
. main
       panel variable:  zipcode_num (strongly balanced)
        time variable:  year, 2010 to 2019
                delta:  1 unit
(27,800 observations deleted)
(122,026 observations deleted)
file C:\Users\diegog\AppData\Local\Temp\3\ST_6dc8_000002.tmp saved

    Result                           # of obs.
    -----------------------------------------
    not matched                       393,306
        from master                   393,306  
        from using                          0  

    matched                            11,574  
    -----------------------------------------
(393,306 real changes made)
1
(dropped 2064 singleton observations)
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =    246,890
Absorbing 2 HDFE groups                           F(   2,     50) =       2.30
Statistics robust to heteroskedasticity           Prob > F        =     0.1110
                                                  R-squared       =     0.9984
                                                  Adj R-squared   =     0.9982
                                                  Within R-sq.    =     0.0153
Number of clusters (statefips) =         51       Root MSE        =     0.0714

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   ln_mw_avg |  -.0385427   .1341086    -0.29   0.775    -.3079077    .2308224
exp~t_17_avg |   .1984748   .1622667     1.22   0.227    -.1274474     .524397
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     zipcode |     27851       27851           0    *|
        year |         9           0           9     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
(note: file ../temp/estimates.dta not found)
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(404,879 missing values generated)
variable var was str9 now str20
(1 real change made)
(404,878 observations deleted)
(note: file ../output/estimates_naive.dta not found)
file ../output/estimates_naive.dta saved
(note: file ../output/estimates_naive.csv not found)
file ../output/estimates_naive.csv saved
1
(dropped 2058 singleton observations)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    226,356
Absorbing 2 HDFE groups                           F(  11,     50) =      23.84
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9986
                                                  Adj R-squared   =     0.9984
                                                  Within R-sq.    =     0.1260
Number of clusters (statefips) =         51       Root MSE        =     0.0665

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   ln_mw_avg |  -.0370183   .1031405    -0.36   0.721     -.244182    .1701455
exp~t_17_avg |   .1630293   .1153952     1.41   0.164    -.0687489    .3948074
ln_emp_biz~g |    .047598    .007274     6.54   0.000     .0329879    .0622082
ln_emp_inf~g |   .0243997   .0053376     4.57   0.000     .0136789    .0351206
ln_emp_fin~g |   .0999214   .0116193     8.60   0.000     .0765834    .1232595
ln_es~rv_avg |   .0970022   .0179153     5.41   0.000     .0610184    .1329861
ln_est~o_avg |   .0287396   .0082109     3.50   0.001     .0122475    .0452317
ln_est~n_avg |   .1260499   .0201379     6.26   0.000     .0856017    .1664981
ln_av~rv_avg |   .0407286   .0065593     6.21   0.000     .0275538    .0539034
ln_avg~o_avg |   .0185225   .0081299     2.28   0.027     .0021931    .0348519
ln_avg~n_avg |   .0879734   .0194272     4.53   0.000     .0489527    .1269942
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     zipcode |     26367       26367           0    *|
        year |         9           0           9     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(404,879 missing values generated)
variable var was str9 now str20
(1 real change made)
(404,878 observations deleted)
(note: file ../output/estimates_ctrls.dta not found)
file ../output/estimates_ctrls.dta saved
(note: file ../output/estimates_ctrls.csv not found)
file ../output/estimates_ctrls.csv saved
1
(dropped 2203 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =    226,211
Absorbing 2 HDFE groups                           F(  11,     50) =      14.95
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9989
                                                  Adj R-squared   =     0.9987
                                                  Within R-sq.    =     0.0259
Number of clusters (statefips) =         51       Root MSE        =     0.0612

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   ln_mw_avg |    .019805   .0726073     0.27   0.786     -.126031     .165641
exp~t_17_avg |   .0893983    .096306     0.93   0.358     -.104038    .2828346
ln_emp_biz~g |   .0260328   .0069832     3.73   0.000     .0120067     .040059
ln_emp_inf~g |   .0135993   .0039113     3.48   0.001     .0057433    .0214553
ln_emp_fin~g |   .0514727   .0086317     5.96   0.000     .0341353    .0688101
ln_es~rv_avg |   .0615981   .0160277     3.84   0.000     .0294054    .0937908
ln_est~o_avg |   .0177808   .0057708     3.08   0.003     .0061898    .0293717
ln_est~n_avg |   .0599487   .0115563     5.19   0.000     .0367372    .0831602
ln_av~rv_avg |   .0241447   .0064272     3.76   0.000     .0112353    .0370542
ln_avg~o_avg |   .0073094   .0055659     1.31   0.195    -.0038701    .0184889
ln_avg~n_avg |   .0561436   .0235172     2.39   0.021     .0089078    .1033793
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     26353       26353           0    *|
   year#cbsa10_num |      8226           0        8226     |
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(404,879 missing values generated)
variable var was str9 now str20
(1 real change made)
(404,878 observations deleted)
(note: file ../output/estimates_cbsa_time.dta not found)
file ../output/estimates_cbsa_time.dta saved
(note: file ../output/estimates_cbsa_time.csv not found)
file ../output/estimates_cbsa_time.csv saved
1
(dropped 2795 singleton observations)
note: ln_emp_bizserv_avg is probably collinear with the fixed effects (all part
> ialled-out values are close to zero; tol = 1.0e-09)
note: ln_emp_info_avg is probably collinear with the fixed effects (all partial
> led-out values are close to zero; tol = 1.0e-09)
note: ln_emp_fin_avg is probably collinear with the fixed effects (all partiall
> ed-out values are close to zero; tol = 1.0e-09)
note: ln_estcount_bizserv_avg is probably collinear with the fixed effects (all
>  partialled-out values are close to zero; tol = 1.0e-09)
note: ln_estcount_info_avg is probably collinear with the fixed effects (all pa
> rtialled-out values are close to zero; tol = 1.0e-09)
note: ln_estcount_fin_avg is probably collinear with the fixed effects (all par
> tialled-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_bizserv_avg is probably collinear with the fixed effects (all
>  partialled-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_info_avg is probably collinear with the fixed effects (all pa
> rtialled-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_fin_avg is probably collinear with the fixed effects (all par
> tialled-out values are close to zero; tol = 1.0e-09)
(MWFE estimator converged in 9 iterations)
note: ln_emp_bizserv_avg omitted because of collinearity
note: ln_emp_info_avg omitted because of collinearity
note: ln_emp_fin_avg omitted because of collinearity
note: ln_estcount_bizserv_avg omitted because of collinearity
note: ln_estcount_info_avg omitted because of collinearity
note: ln_estcount_fin_avg omitted because of collinearity
note: ln_avgwwage_bizserv_avg omitted because of collinearity
note: ln_avgwwage_info_avg omitted because of collinearity
note: ln_avgwwage_fin_avg omitted because of collinearity

HDFE Linear regression                            Number of obs   =    225,619
Absorbing 2 HDFE groups                           F(   2,     50) =      14.59
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9991
                                                  Adj R-squared   =     0.9988
                                                  Within R-sq.    =     0.0010
Number of clusters (statefips) =         51       Root MSE        =     0.0573

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   ln_mw_avg |   .0736476   .0326282     2.26   0.028     .0081119    .1391833
exp~t_17_avg |   .3332817   .1253514     2.66   0.011      .081506    .5850575
ln_emp_biz~g |          0  (omitted)
ln_emp_inf~g |          0  (omitted)
ln_emp_fin~g |          0  (omitted)
ln_es~rv_avg |          0  (omitted)
ln_est~o_avg |          0  (omitted)
ln_est~n_avg |          0  (omitted)
ln_av~rv_avg |          0  (omitted)
ln_avg~o_avg |          0  (omitted)
ln_avg~n_avg |          0  (omitted)
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     26272       26272           0    *|
   year#county_num |     21414       21414           0    *|
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(404,879 missing values generated)
variable var was str9 now str20
(1 real change made)
(404,878 observations deleted)
(note: file ../output/estimates_county_time.dta not found)
file ../output/estimates_county_time.dta saved
(note: file ../output/estimates_county_time.csv not found)
file ../output/estimates_county_time.csv saved
1
(dropped 315 singleton observations)
(MWFE estimator converged in 8 iterations)

HDFE Linear regression                            Number of obs   =      9,835
Absorbing 2 HDFE groups                           F(  11,     35) =      20.59
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9925
                                                  Adj R-squared   =     0.9906
                                                  Within R-sq.    =     0.0340
Number of clusters (statefips) =         36       Root MSE        =     0.0553

                             (Std. Err. adjusted for 36 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   ln_mw_avg |  -.0286795   .1801822    -0.16   0.874    -.3944688    .3371097
exp~t_17_avg |   .2214309   .2425872     0.91   0.368    -.2710473    .7139092
ln_emp_biz~g |   .0534927   .0262301     2.04   0.049     .0002426    .1067427
ln_emp_inf~g |  -.0162833   .0136958    -1.19   0.242    -.0440871    .0115206
ln_emp_fin~g |  -.0413007   .0316662    -1.30   0.201    -.1055866    .0229851
ln_es~rv_avg |   .1917379   .1012992     1.89   0.067    -.0139105    .3973863
ln_est~o_avg |   .0474125   .0212718     2.23   0.032     .0042284    .0905967
ln_est~n_avg |   .2248686   .0916832     2.45   0.019     .0387417    .4109954
ln_av~rv_avg |   .0315749   .0449587     0.70   0.487    -.0596961     .122846
ln_avg~o_avg |   .0046676   .0343036     0.14   0.893    -.0649725    .0743076
ln_avg~n_avg |   .0230256   .0560283     0.41   0.684    -.0907179    .1367692
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |      1301        1301           0    *|
   year#cbsa10_num |       692           0         692     |
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(404,879 missing values generated)
variable var was str9 now str20
(1 real change made)
(404,878 observations deleted)
(note: file ../output/estimates_cbsa_time_baseline.dta not found)
file ../output/estimates_cbsa_time_baseline.dta saved
(note: file ../output/estimates_cbsa_time_baseline.csv not found)
file ../output/estimates_cbsa_time_baseline.csv saved
1
(dropped 2203 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =    226,211
Absorbing 2 HDFE groups                           F(  11,     50) =      14.93
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9989
                                                  Adj R-squared   =     0.9987
                                                  Within R-sq.    =     0.0258
Number of clusters (statefips) =         51       Root MSE        =     0.0612

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   ln_mw_avg |   .0377111   .0700486     0.54   0.593    -.1029857    .1784079
exp~t_10_avg |    .065642   .0916072     0.72   0.477    -.1183565    .2496405
ln_emp_biz~g |   .0260317   .0069957     3.72   0.001     .0119804    .0400831
ln_emp_inf~g |   .0136445   .0039155     3.48   0.001     .0057799    .0215091
ln_emp_fin~g |   .0514156   .0086304     5.96   0.000     .0340809    .0687503
ln_es~rv_avg |   .0615733   .0160313     3.84   0.000     .0293735    .0937732
ln_est~o_avg |   .0177967   .0057721     3.08   0.003      .006203    .0293904
ln_est~n_avg |   .0598503   .0115559     5.18   0.000     .0366396    .0830611
ln_av~rv_avg |   .0241812   .0064338     3.76   0.000     .0112587    .0371038
ln_avg~o_avg |   .0073041    .005565     1.31   0.195    -.0038734    .0184817
ln_avg~n_avg |   .0561397   .0235252     2.39   0.021      .008888    .1033914
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     26353       26353           0    *|
   year#cbsa10_num |      8226           0        8226     |
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(404,879 missing values generated)
variable var was str9 now str20
(1 real change made)
(404,878 observations deleted)
(note: file ../output/estimates_exp_mw_10.dta not found)
file ../output/estimates_exp_mw_10.dta saved
(note: file ../output/estimates_exp_mw_10.csv not found)
file ../output/estimates_exp_mw_10.csv saved
1
(dropped 2203 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =    226,211
Absorbing 2 HDFE groups                           F(  11,     50) =      14.95
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9989
                                                  Adj R-squared   =     0.9987
                                                  Within R-sq.    =     0.0259
Number of clusters (statefips) =         51       Root MSE        =     0.0612

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   ln_mw_avg |   .0214123   .0731247     0.29   0.771    -.1254629    .1682876
exp~t_18_avg |   .0874108   .0962717     0.91   0.368    -.1059567    .2807783
ln_emp_biz~g |     .02603   .0069845     3.73   0.000     .0120012    .0400589
ln_emp_inf~g |   .0135976   .0039131     3.47   0.001      .005738    .0214573
ln_emp_fin~g |   .0514739   .0086325     5.96   0.000     .0341349    .0688129
ln_es~rv_avg |   .0616107   .0160309     3.84   0.000     .0294117    .0938096
ln_est~o_avg |   .0177914   .0057732     3.08   0.003     .0061956    .0293873
ln_est~n_avg |   .0599361   .0115516     5.19   0.000     .0367339    .0831382
ln_av~rv_avg |   .0241512   .0064313     3.76   0.000     .0112335    .0370688
ln_avg~o_avg |   .0073055   .0055671     1.31   0.195    -.0038763    .0184874
ln_avg~n_avg |   .0561417   .0235204     2.39   0.021     .0088995    .1033838
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     26353       26353           0    *|
   year#cbsa10_num |      8226           0        8226     |
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(404,879 missing values generated)
variable var was str9 now str20
(1 real change made)
(404,878 observations deleted)
(note: file ../output/estimates_exp_mw_18.dta not found)
file ../output/estimates_exp_mw_18.dta saved
(note: file ../output/estimates_exp_mw_18.csv not found)
file ../output/estimates_exp_mw_18.csv saved
1
(dropped 2203 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =    226,211
Absorbing 2 HDFE groups                           F(  11,     50) =      14.95
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9989
                                                  Adj R-squared   =     0.9987
                                                  Within R-sq.    =     0.0258
Number of clusters (statefips) =         51       Root MSE        =     0.0612

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   ln_mw_avg |    .039841   .0697151     0.57   0.570     -.100186    .1798679
exp_ln~t_avg |    .064147   .0932952     0.69   0.495    -.1232419     .251536
ln_emp_biz~g |   .0260189   .0069909     3.72   0.001     .0119773    .0400604
ln_emp_inf~g |   .0136273   .0039125     3.48   0.001     .0057688    .0214859
ln_emp_fin~g |   .0514126    .008617     5.97   0.000     .0341048    .0687204
ln_es~rv_avg |   .0616082   .0160357     3.84   0.000     .0293996    .0938169
ln_est~o_avg |   .0178088   .0057619     3.09   0.003     .0062356    .0293819
ln_est~n_avg |   .0597922   .0115479     5.18   0.000     .0365975    .0829869
ln_av~rv_avg |   .0241723   .0064311     3.76   0.000     .0112551    .0370895
ln_avg~o_avg |   .0073023   .0055669     1.31   0.196    -.0038791    .0184837
ln_avg~n_avg |   .0562118   .0235496     2.39   0.021      .008911    .1035127
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     26353       26353           0    *|
   year#cbsa10_num |      8226           0        8226     |
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(404,879 missing values generated)
variable var was str9 now str17
(1 real change made)
(404,878 observations deleted)
(note: file ../output/estimates_exp_mw_varying.dta not found)
file ../output/estimates_exp_mw_varying.dta saved
(note: file ../output/estimates_exp_mw_varying.csv not found)
file ../output/estimates_exp_mw_varying.csv saved
1
(dropped 2129 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =    214,563
Absorbing 2 HDFE groups                           F(  11,     50) =       4.22
Statistics robust to heteroskedasticity           Prob > F        =     0.0002
                                                  R-squared       =     0.9755
                                                  Adj R-squared   =     0.9709
                                                  Within R-sq.    =     0.0013
Number of clusters (statefips) =         51       Root MSE        =     0.3687

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
ln_dividends |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
   ln_mw_avg |  -.1298365   .1332098    -0.97   0.334    -.3973963    .1377234
exp~t_17_avg |   .2218918   .2219617     1.00   0.322    -.2239315     .667715
ln_emp_biz~g |   .0187573   .0144849     1.29   0.201    -.0103365    .0478511
ln_emp_inf~g |   .0305225   .0111409     2.74   0.009     .0081452    .0528997
ln_emp_fin~g |   .0705672   .0285259     2.47   0.017     .0132712    .1278632
ln_es~rv_avg |    .069002   .0489299     1.41   0.165    -.0292766    .1672805
ln_est~o_avg |   .0081416   .0229736     0.35   0.725    -.0380023    .0542855
ln_est~n_avg |   .1481462   .0511481     2.90   0.006     .0454121    .2508803
ln_av~rv_avg |   .0054559   .0258909     0.21   0.834    -.0465474    .0574592
ln_avg~o_avg |   .0303142   .0166861     1.82   0.075    -.0032008    .0638292
ln_avg~n_avg |   .0565053   .0410792     1.38   0.175    -.0260048    .1390154
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     25410       25410           0    *|
   year#cbsa10_num |      8186           0        8186     |
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(404,879 missing values generated)
variable var was str9 now str20
(1 real change made)
(404,878 observations deleted)
(note: file ../output/estimates_dividends.dta not found)
file ../output/estimates_dividends.dta saved
(note: file ../output/estimates_dividends.csv not found)
file ../output/estimates_dividends.csv saved
(note: variable model was str5, now str9 to accommodate using data's values)
(note: variable model was str9, now str11 to accommodate using data's values)
(note: variable model was str11, now str18 to accommodate using data's
       values)
(note: file ../output/estimates_all.dta not found)
file ../output/estimates_all.dta saved
(note: file ../output/estimates_all.csv not found)
file ../output/estimates_all.csv saved

. 
end of do-file


Execute:  R CMD BATCH --no-save "./tables.R" tables.Rout

R version 4.1.1 (2021-08-10) -- "Kick Things"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> remove(list = ls())
> library(data.table)
> 
> main <- function() {
+   
+   instub  <- "../output/"
+   outstub <- "../output/"
+   
+   est <- fread(file.path(instub, "estimates_all.csv"))
+   
+   tab_models <- list(
+     list("static_wages", 
+          c("naive", "ctrls", "cbsa_time", "county_time", "cbsa_time_baseline")),
+     list("static_wages_robustness", 
+          c("exp_mw_10", "exp_mw_18", "exp_mw_varying", "dividends"))
+   )
+   
+   for (model in tab_models) {
+     txt <- c(sprintf("<tab:%s>", model[[1]]))
+     
+     for (stat in c("b", "se", "r2_within", "N")) {
+       for (mm in model[[2]]) {
+         
+         if (mm == model[[2]][1]) {
+           row <- est[model == mm][[stat]]
+         } else {
+           row <- paste(row, est[model == mm][[stat]], sep = "\t")
+         }
+       }
+       
+       txt <- c(txt, row)
+     }
+     
+     fileConn <- file(file.path(outstub, sprintf("%s.txt", model[[1]])))
+     writeLines(txt, fileConn)
+     close(fileConn)
+   }
+ }
> 
> 
> 
> main()
> 
> proc.time()
   user  system elapsed 
   0.42    0.23    0.95 

 make.py ended: 2021-10-27 15:00:46
