
 make.py started: 2022-06-06 15:42:48 C:\Users\diegog\Desktop\Diego\min_wage_rent\analysis\twfe_wages\code 




Execute:  StataMP-64 /e do "./estimates.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.


running c:\ado\personal\profile.do ...

. do ./estimates.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. 
. program main
  1.     local in_est     "../../../drive/derived_large/estimation_samples"
  2.     local in_zip_yr  "../../../drive/derived_large/zipcode_year"
  3.     local outstub "../output"
  4.         
.     local mw_wkp_var "mw_wkp_tot_17"
  5. 
.     use "`in_zip_yr'/zipcode_year.dta", clear
  6.     xtset zipcode_num year
  7. 
.     add_baseline_zipcodes, instub(`in_est')
  8.         destring cbsa, gen(cbsa_num)
  9.         
.     define_controls
 10.     local controls "`r(economic_controls)'"
 11.     local cluster "statefips"
 12. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(" ")            //
> /
>         absorb(zipcode year) cluster(`cluster') model_name(naive)
 13. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year) cluster(`cluster') model_name(ctrls)
 14. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(cbsa_time
> )
 15. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year#county_num) cluster(`cluster') model_name(county_
> time)
 16.     
.     estimate_twfe_model if fullbal_sample_SFCC, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(cbsa_time
> _baseline)
 17. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(mw_wkp_tot_14_avg) controls(`controls')     /
> //
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(mw_wkp_to
> t_14)
 18.     
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(mw_wkp_tot_18_avg) controls(`controls')     /
> //
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(mw_wkp_to
> t_18)
 19.     
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(mw_wkp_tot_tvar_avg) controls(`controls')    
>    ///
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(mw_wkp_to
> t_timvar)
 20.     
.     estimate_twfe_model, ///
>         yvar(ln_dividends) xvars(`mw_wkp_var'_avg) controls(`controls')    //
> /
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(dividends
> )
 21. 
.     use ../temp/estimates_naive.dta, clear
 22.     foreach ff in ctrls cbsa_time county_time cbsa_time_baseline ///
>                   mw_wkp_tot_14 mw_wkp_tot_18 mw_wkp_tot_timvar dividends {
 23.         append using ../temp/estimates_`ff'.dta
 24.     }
 25.     save             `outstub'/estimates_all.dta, replace
 26.     export delimited `outstub'/estimates_all.csv, replace
 27. end

. 
. program add_baseline_zipcodes
  1.     syntax, instub(str)
  2. 
.     preserve
  3.         use `instub'/zipcode_months.dta, clear
  4. 
.         keep if fullbal_sample_SFCC == 1
  5.         bys  zipcode: keep if _n == 1
  6.         keep zipcode fullbal_sample_SFCC
  7. 
.         tempfile zipcode_years_baseline
  8.         save    `zipcode_years_baseline'
  9.     restore
 10. 
.     merge m:1 zipcode using `zipcode_years_baseline', keep(1 3) nogen
 11. 
.     replace fullbal_sample_SFCC = 0 if fullbal_sample_SFCC != 1
 12. end

. 
. 
. main
       panel variable:  zipcode_num (strongly balanced)
        time variable:  year, 2010 to 2020
                delta:  1 unit
(207,690 observations deleted)
(79,355 observations deleted)
file C:\Users\diegog\AppData\Local\Temp\2\ST_16f48_000002.tmp saved

    Result                           # of obs.
    -----------------------------------------
    not matched                       335,291
        from master                   335,291  
        from using                          0  

    matched                            14,795  
    -----------------------------------------
(335,291 real changes made)
cbsa: all characters numeric; cbsa_num generated as long
(dropped 1344 singleton observations)
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =    274,271
Absorbing 2 HDFE groups                           F(   1,     50) =       4.47
Statistics robust to heteroskedasticity           Prob > F        =     0.0395
                                                  R-squared       =     0.9982
                                                  Adj R-squared   =     0.9980
                                                  Within R-sq.    =     0.0165
Number of clusters (statefips) =         51       Root MSE        =     0.0754

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .1487174   .0703572     2.11   0.040     .0074008     .290034
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     zipcode |     27835       27835           0    *|
        year |        10           0          10     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(note: file ../temp/estimates.dta not found)
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(350,085 missing values generated)
(350,085 observations deleted)
(note: file ../temp/estimates_naive.dta not found)
file ../temp/estimates_naive.dta saved
(note: file ../temp/estimates_naive.csv not found)
file ../temp/estimates_naive.csv saved
(dropped 1412 singleton observations)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    247,962
Absorbing 2 HDFE groups                           F(  10,     50) =      26.22
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9984
                                                  Adj R-squared   =     0.9983
                                                  Within R-sq.    =     0.1395
Number of clusters (statefips) =         51       Root MSE        =     0.0697

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .1110895   .0405127     2.74   0.008     .0297175    .1924616
ln_emp_biz~v |    .047545   .0066256     7.18   0.000     .0342372    .0608529
 ln_emp_info |   .0251666   .0051591     4.88   0.000     .0148042     .035529
  ln_emp_fin |   .0950151   .0106617     8.91   0.000     .0736005    .1164297
ln_estcou~rv |   .1070814   .0170192     6.29   0.000     .0728974    .1412654
ln_estcoun~o |   .0282848    .007247     3.90   0.000     .0137287    .0428409
ln_estcoun~n |   .1396362   .0195764     7.13   0.000     .1003158    .1789566
ln_avgwwa~rv |   .0350365   .0062872     5.57   0.000     .0224083    .0476648
ln_avgwwag~o |   .0125185   .0060998     2.05   0.045     .0002667    .0247703
ln_avgwwag~n |   .0598326   .0134823     4.44   0.000     .0327526    .0869125
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     zipcode |     26252       26252           0    *|
        year |        10           0          10     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(350,085 missing values generated)
(350,085 observations deleted)
(note: file ../temp/estimates_ctrls.dta not found)
file ../temp/estimates_ctrls.dta saved
(note: file ../temp/estimates_ctrls.csv not found)
file ../temp/estimates_ctrls.csv saved
(dropped 1522 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    247,852
Absorbing 2 HDFE groups                           F(  10,     50) =      19.06
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9987
                                                  Adj R-squared   =     0.9985
                                                  Within R-sq.    =     0.0266
Number of clusters (statefips) =         51       Root MSE        =     0.0639

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .1083556   .0389619     2.78   0.008     .0300984    .1866128
ln_emp_biz~v |   .0236634   .0068969     3.43   0.001     .0098105    .0375163
 ln_emp_info |   .0120452    .003092     3.90   0.000     .0058347    .0182557
  ln_emp_fin |   .0395668    .007744     5.11   0.000     .0240126     .055121
ln_estcou~rv |   .0714718    .014344     4.98   0.000     .0426609    .1002827
ln_estcoun~o |   .0199168   .0040442     4.92   0.000     .0117939    .0280397
ln_estcoun~n |   .0703287   .0107154     6.56   0.000     .0488062    .0918513
ln_avgwwa~rv |   .0191403   .0054958     3.48   0.001     .0081018    .0301789
ln_avgwwag~o |   .0057697   .0042953     1.34   0.185    -.0028576     .014397
ln_avgwwag~n |    .039539   .0153213     2.58   0.013     .0087653    .0703128
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     26243       26243           0    *|
   year#cbsa_num |      9085           0        9085     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(350,085 missing values generated)
(350,085 observations deleted)
(note: file ../temp/estimates_cbsa_time.dta not found)
file ../temp/estimates_cbsa_time.dta saved
(note: file ../temp/estimates_cbsa_time.csv not found)
file ../temp/estimates_cbsa_time.csv saved
(dropped 2100 singleton observations)
note: ln_emp_bizserv is probably collinear with the fixed effects (all partiall
> ed-out values are close to zero; tol = 1.0e-09)
note: ln_emp_info is probably collinear with the fixed effects (all partialled-
> out values are close to zero; tol = 1.0e-09)
note: ln_emp_fin is probably collinear with the fixed effects (all partialled-o
> ut values are close to zero; tol = 1.0e-09)
note: ln_estcount_bizserv is probably collinear with the fixed effects (all par
> tialled-out values are close to zero; tol = 1.0e-09)
note: ln_estcount_info is probably collinear with the fixed effects (all partia
> lled-out values are close to zero; tol = 1.0e-09)
note: ln_estcount_fin is probably collinear with the fixed effects (all partial
> led-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_bizserv is probably collinear with the fixed effects (all par
> tialled-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_info is probably collinear with the fixed effects (all partia
> lled-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_fin is probably collinear with the fixed effects (all partial
> led-out values are close to zero; tol = 1.0e-09)
(MWFE estimator converged in 9 iterations)
note: ln_emp_bizserv omitted because of collinearity
note: ln_emp_info omitted because of collinearity
note: ln_emp_fin omitted because of collinearity
note: ln_estcount_bizserv omitted because of collinearity
note: ln_estcount_info omitted because of collinearity
note: ln_estcount_fin omitted because of collinearity
note: ln_avgwwage_bizserv omitted because of collinearity
note: ln_avgwwage_info omitted because of collinearity
note: ln_avgwwage_fin omitted because of collinearity

HDFE Linear regression                            Number of obs   =    247,274
Absorbing 2 HDFE groups                           F(   1,     50) =      10.56
Statistics robust to heteroskedasticity           Prob > F        =     0.0021
                                                  R-squared       =     0.9990
                                                  Adj R-squared   =     0.9987
                                                  Within R-sq.    =     0.0009
Number of clusters (statefips) =         51       Root MSE        =     0.0603

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .3679797   .1132117     3.25   0.002     .1405873     .595372
ln_emp_biz~v |          0  (omitted)
 ln_emp_info |          0  (omitted)
  ln_emp_fin |          0  (omitted)
ln_estcou~rv |          0  (omitted)
ln_estcoun~o |          0  (omitted)
ln_estcoun~n |          0  (omitted)
ln_avgwwa~rv |          0  (omitted)
ln_avgwwag~o |          0  (omitted)
ln_avgwwag~n |          0  (omitted)
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     26169       26169           0    *|
   year#county_num |     23220       23220           0    *|
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(350,085 missing values generated)
(350,085 observations deleted)
(note: file ../temp/estimates_county_time.dta not found)
file ../temp/estimates_county_time.dta saved
(note: file ../temp/estimates_county_time.csv not found)
file ../temp/estimates_county_time.csv saved
(dropped 395 singleton observations)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =     12,943
Absorbing 2 HDFE groups                           F(  10,     34) =       7.37
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9886
                                                  Adj R-squared   =     0.9863
                                                  Within R-sq.    =     0.0376
Number of clusters (statefips) =         35       Root MSE        =     0.0673

                             (Std. Err. adjusted for 35 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .1310932   .0916485     1.43   0.162     -.055159    .3173453
ln_emp_biz~v |   .0572562   .0317372     1.80   0.080    -.0072417     .121754
 ln_emp_info |  -.0110446   .0191732    -0.58   0.568    -.0500091      .02792
  ln_emp_fin |  -.0510289   .0420744    -1.21   0.234    -.1365345    .0344766
ln_estcou~rv |   .2891269   .1673339     1.73   0.093    -.0509365    .6291903
ln_estcoun~o |   .0164862    .044962     0.37   0.716    -.0748875      .10786
ln_estcoun~n |    .176053   .0947539     1.86   0.072    -.0165101     .368616
ln_avgwwa~rv |   .0655594   .0419599     1.56   0.127    -.0197134    .1508321
ln_avgwwag~o |   .0292773    .027984     1.05   0.303     -.027593    .0861476
ln_avgwwag~n |   .0089952   .0402364     0.22   0.824    -.0727751    .0907654
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |      1303        1303           0    *|
   year#cbsa_num |       888           0         888     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(350,085 missing values generated)
(350,085 observations deleted)
(note: file ../temp/estimates_cbsa_time_baseline.dta not found)
file ../temp/estimates_cbsa_time_baseline.dta saved
(note: file ../temp/estimates_cbsa_time_baseline.csv not found)
file ../temp/estimates_cbsa_time_baseline.csv saved
(dropped 1522 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    247,857
Absorbing 2 HDFE groups                           F(  10,     50) =      18.92
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9987
                                                  Adj R-squared   =     0.9985
                                                  Within R-sq.    =     0.0266
Number of clusters (statefips) =         51       Root MSE        =     0.0639

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_14_avg |   .1077403   .0389849     2.76   0.008     .0294369    .1860437
ln_emp_biz~v |   .0236755   .0068971     3.43   0.001     .0098223    .0375288
 ln_emp_info |   .0120676   .0030937     3.90   0.000     .0058538    .0182815
  ln_emp_fin |   .0396178   .0077388     5.12   0.000      .024074    .0551616
ln_estcou~rv |   .0714307   .0143409     4.98   0.000      .042626    .1002353
ln_estcoun~o |   .0199134   .0040475     4.92   0.000     .0117836    .0280431
ln_estcoun~n |   .0701827   .0107332     6.54   0.000     .0486244    .0917409
ln_avgwwa~rv |   .0191828   .0055011     3.49   0.001     .0081335     .030232
ln_avgwwag~o |   .0057676   .0043058     1.34   0.186    -.0028809    .0144161
ln_avgwwag~n |   .0395627   .0153156     2.58   0.013     .0088005    .0703249
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     26243       26243           0    *|
   year#cbsa_num |      9085           0        9085     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(350,085 missing values generated)
(350,085 observations deleted)
(note: file ../temp/estimates_mw_wkp_tot_14.dta not found)
file ../temp/estimates_mw_wkp_tot_14.dta saved
(note: file ../temp/estimates_mw_wkp_tot_14.csv not found)
file ../temp/estimates_mw_wkp_tot_14.csv saved
(dropped 1524 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    247,857
Absorbing 2 HDFE groups                           F(  10,     50) =      19.03
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9987
                                                  Adj R-squared   =     0.9985
                                                  Within R-sq.    =     0.0265
Number of clusters (statefips) =         51       Root MSE        =     0.0639

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_18_avg |   .1077183   .0386892     2.78   0.008     .0300089    .1854278
ln_emp_biz~v |    .023667   .0068989     3.43   0.001     .0098101    .0375238
 ln_emp_info |    .012059   .0030926     3.90   0.000     .0058473    .0182706
  ln_emp_fin |   .0396627   .0077473     5.12   0.000     .0241018    .0552237
ln_estcou~rv |    .071479   .0143525     4.98   0.000     .0426512    .1003069
ln_estcoun~o |   .0199397   .0040411     4.93   0.000     .0118228    .0280566
ln_estcoun~n |   .0701895   .0107239     6.55   0.000     .0486498    .0917292
ln_avgwwa~rv |   .0191708   .0054992     3.49   0.001     .0081254    .0302162
ln_avgwwag~o |   .0057752   .0043044     1.34   0.186    -.0028704    .0144208
ln_avgwwag~n |   .0395496   .0153145     2.58   0.013     .0087896    .0703096
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     26243       26243           0    *|
   year#cbsa_num |      9085           0        9085     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(350,085 missing values generated)
(350,085 observations deleted)
(note: file ../temp/estimates_mw_wkp_tot_18.dta not found)
file ../temp/estimates_mw_wkp_tot_18.dta saved
(note: file ../temp/estimates_mw_wkp_tot_18.csv not found)
file ../temp/estimates_mw_wkp_tot_18.csv saved
(dropped 1543 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    222,991
Absorbing 2 HDFE groups                           F(  10,     50) =      18.78
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9989
                                                  Adj R-squared   =     0.9987
                                                  Within R-sq.    =     0.0243
Number of clusters (statefips) =         51       Root MSE        =     0.0607

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
m~t_tvar_avg |   .1068973   .0461272     2.32   0.025     .0142481    .1995465
ln_emp_biz~v |   .0236834    .007361     3.22   0.002     .0088984    .0384684
 ln_emp_info |    .010459   .0027784     3.76   0.000     .0048785    .0160396
  ln_emp_fin |    .043324   .0085832     5.05   0.000     .0260841    .0605638
ln_estcou~rv |   .0636681   .0141494     4.50   0.000     .0352481    .0920881
ln_estcoun~o |   .0191217   .0043716     4.37   0.000     .0103412    .0279023
ln_estcoun~n |   .0646872   .0101141     6.40   0.000     .0443725    .0850019
ln_avgwwa~rv |   .0189768   .0049833     3.81   0.000     .0089676    .0289861
ln_avgwwag~o |    .004767   .0047383     1.01   0.319    -.0047501     .014284
ln_avgwwag~n |   .0444351   .0154796     2.87   0.006     .0133435    .0755268
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     26151       26151           0    *|
   year#cbsa_num |      8170           0        8170     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(350,085 missing values generated)
(350,085 observations deleted)
(note: file ../temp/estimates_mw_wkp_tot_timvar.dta not found)
file ../temp/estimates_mw_wkp_tot_timvar.dta saved
(note: file ../temp/estimates_mw_wkp_tot_timvar.csv not found)
file ../temp/estimates_mw_wkp_tot_timvar.csv saved
(dropped 1842 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    235,193
Absorbing 2 HDFE groups                           F(  10,     50) =       7.31
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9764
                                                  Adj R-squared   =     0.9724
                                                  Within R-sq.    =     0.0018
Number of clusters (statefips) =         51       Root MSE        =     0.3593

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
ln_dividends |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .0261267   .0840843     0.31   0.757    -.1427616     .195015
ln_emp_biz~v |   .0152673   .0142261     1.07   0.288    -.0133067    .0438413
 ln_emp_info |   .0218747   .0099202     2.21   0.032     .0019493    .0418001
  ln_emp_fin |   .0651971   .0254455     2.56   0.013     .0140884    .1163059
ln_estcou~rv |   .0900311   .0462293     1.95   0.057    -.0028232    .1828853
ln_estcoun~o |   .0344909   .0199526     1.73   0.090     -.005585    .0745668
ln_estcoun~n |   .1767431    .041574     4.25   0.000     .0932393    .2602469
ln_avgwwa~rv |  -.0089877   .0207362    -0.43   0.667    -.0506376    .0326622
ln_avgwwag~o |   .0160817   .0115573     1.39   0.170    -.0071318    .0392953
ln_avgwwag~n |   .0279853   .0337549     0.83   0.411    -.0398133    .0957839
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     25296       25296           0    *|
   year#cbsa_num |      9036           0        9036     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(350,085 missing values generated)
(350,085 observations deleted)
(note: file ../temp/estimates_dividends.dta not found)
file ../temp/estimates_dividends.dta saved
(note: file ../temp/estimates_dividends.csv not found)
file ../temp/estimates_dividends.csv saved
(note: variable model was str5, now str9 to accommodate using data's values)
(note: variable model was str9, now str11 to accommodate using data's values)
(note: variable model was str11, now str18 to accommodate using data's
       values)
(note: variable var was str17, now str19 to accommodate using data's values)
(note: file ../output/estimates_all.dta not found)
file ../output/estimates_all.dta saved
(note: file ../output/estimates_all.csv not found)
file ../output/estimates_all.csv saved

. 
end of do-file


Execute:  R CMD BATCH --no-save "./tables.R" tables.Rout

R version 4.1.1 (2021-08-10) -- "Kick Things"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> remove(list = ls())
> library(data.table)
> 
> main <- function() {
+   
+   instub  <- "../output/"
+   outstub <- "../output/"
+   
+   est <- fread(file.path(instub, "estimates_all.csv"))
+   
+   tab_models <- list(
+     list("static_wages", 
+          c("naive", "ctrls", "cbsa_time", "cbsa_time_baseline", "dividends")),
+     list("static_wages_robustness", 
+          c("mw_wkp_tot_14", "mw_wkp_tot_18", "mw_wkp_tot_timvar", "county_time"))
+   )
+   
+   for (model in tab_models) {
+     txt <- c(sprintf("<tab:%s>", model[[1]]))
+     
+     for (stat in c("b", "se", "r2_within", "N")) {
+       for (mm in model[[2]]) {
+         
+         if (mm == model[[2]][1]) {
+           row <- est[model == mm][[stat]]
+         } else {
+           row <- paste(row, est[model == mm][[stat]], sep = "\t")
+         }
+       }
+       
+       txt <- c(txt, row)
+     }
+     
+     fileConn <- file(file.path(outstub, sprintf("%s.txt", model[[1]])))
+     writeLines(txt, fileConn)
+     close(fileConn)
+   }
+ }
> 
> 
> 
> main()
> 
> proc.time()
   user  system elapsed 
   0.48    0.21    0.92 

 make.py ended: 2022-06-06 15:45:33
