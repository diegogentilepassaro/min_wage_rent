
 make.py started: 2023-06-20 10:23:49 C:\Users\diegog\Desktop\Diego\min_wage_rent\analysis\twfe_wages\code 




Execute:  StataMP-64 /e do "./estimates.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.


running c:\ado\personal\profile.do ...

. do ./estimates.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. 
. program main
  1.     local in_est     "../../../drive/derived_large/estimation_samples"
  2.     local in_zip_yr  "../../../drive/derived_large/zipcode_year"
  3.     local incross    "../../../drive/derived_large/zipcode"
  4.     local outstub    "../output"
  5.         
.     local mw_wkp_var "mw_wkp_tot_17"
  6. 
.     use "`in_zip_yr'/zipcode_year.dta", clear
  7.     xtset zipcode_num year
  8. 
.     keep if year >= 2014    // To be consistent with baseline
  9. 
.     add_baseline_zipcodes, instub(`in_est')
 10.     add_share_mw_workers,  instub(`incross')
 11. 
.     define_controls
 12.     local controls "`r(economic_controls)'"
 13.     local cluster "statefips"
 14. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(" ")            //
> /
>         absorb(zipcode year) cluster(`cluster') model_name(naive)
 15. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year) cluster(`cluster') model_name(ctrls)
 16. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(cbsa_time
> )
 17. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg c.`mw_wkp_var'_avg##c.std_sh
> _mw_wkrs_statutory) ///
>         controls(`controls') absorb(zipcode year#cbsa_num) cluster(`cluster')
>  ///
>         model_name(cbsa_time_het)
 18. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year#county_num) cluster(`cluster') model_name(county_
> time)
 19.     
.     estimate_twfe_model if fullbal_sample_SFCC, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(cbsa_time
> _baseline)
 20. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(mw_wkp_tot_14_avg) controls(`controls')     /
> //
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(mw_wkp_to
> t_14)
 21.     
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(mw_wkp_tot_18_avg) controls(`controls')     /
> //
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(mw_wkp_to
> t_18)
 22.     
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(mw_wkp_tot_tvar_avg) controls(`controls')    
>    ///
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(mw_wkp_to
> t_timvar)
 23.     
.     estimate_twfe_model, ///
>         yvar(ln_dividends) xvars(`mw_wkp_var'_avg) controls(`controls')    //
> /
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(dividends
> )
 24. 
.     use ../temp/estimates_naive.dta, clear
 25.     foreach ff in ctrls cbsa_time cbsa_time_het cbsa_time_baseline ///
>                   county_time mw_wkp_tot_14 mw_wkp_tot_18 mw_wkp_tot_timvar d
> ividends {
 26.         append using ../temp/estimates_`ff'.dta
 27.     }
 28.     save             `outstub'/estimates_all.dta, replace
 29.     export delimited `outstub'/estimates_all.csv, replace
 30. end

. 
. program add_baseline_zipcodes
  1.     syntax, instub(str)
  2. 
.     preserve
  3.         use `instub'/zipcode_months.dta, clear
  4. 
.         keep if fullbal_sample_SFCC == 1
  5.         bys  zipcode: keep if _n == 1
  6.         keep zipcode fullbal_sample_SFCC
  7. 
.         tempfile zipcode_years_baseline
  8.         save    `zipcode_years_baseline'
  9.     restore
 10. 
.     merge m:1 zipcode using `zipcode_years_baseline', keep(1 3) nogen
 11. 
.     replace fullbal_sample_SFCC = 0 if fullbal_sample_SFCC != 1
 12.     
.     destring cbsa, gen(cbsa_num)
 13. end

. 
. program add_share_mw_workers
  1.     syntax, instub(str)
  2. 
.     merge m:1 zipcode using "`instub'/zipcode_cross.dta", nogen       ///
>         keep(3) keepusing(sh_mw_wkrs_statutory)
  3. 
.     foreach var in sh_mw_wkrs_statutory {
  4.         qui sum `var'
  5.         local avg_`var' = r(mean)
  6.         local sd_`var' = r(sd)
  7.         gen std_`var' = (`var' - `avg_`var'')/`sd_`var''
  8.     }
  9. end

. 
. 
. 
. main
       panel variable:  zipcode_num (strongly balanced)
        time variable:  year, 2010 to 2020
                delta:  1 unit
(127,304 observations deleted)
(274,409 observations deleted)
(79,355 observations deleted)
file C:\Users\diegog\AppData\Local\Temp\4\ST_964c_000002.tmp saved

    Result                           # of obs.
    -----------------------------------------
    not matched                       213,367
        from master                   213,367  
        from using                          0  

    matched                             9,415  
    -----------------------------------------
(213,367 real changes made)
cbsa: all characters numeric; cbsa_num generated as long

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           222,782  
    -----------------------------------------
(5,866 missing values generated)
(dropped 1344 singleton observations)
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =    163,417
Absorbing 2 HDFE groups                           F(   1,     50) =       5.96
Statistics robust to heteroskedasticity           Prob > F        =     0.0182
                                                  R-squared       =     0.9990
                                                  Adj R-squared   =     0.9989
                                                  Within R-sq.    =     0.0158
Number of clusters (statefips) =         51       Root MSE        =     0.0577

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .1274509   .0521967     2.44   0.018     .0226108    .2322909
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     zipcode |     27722       27722           0    *|
        year |         6           0           6     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(note: file ../temp/estimates.dta not found)
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(222,781 missing values generated)
(222,781 observations deleted)
(note: file ../temp/estimates_naive.dta not found)
file ../temp/estimates_naive.dta saved
(note: file ../temp/estimates_naive.csv not found)
file ../temp/estimates_naive.csv saved
(dropped 1550 singleton observations)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    146,824
Absorbing 2 HDFE groups                           F(  10,     50) =      24.16
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9991
                                                  Adj R-squared   =     0.9989
                                                  Within R-sq.    =     0.0953
Number of clusters (statefips) =         51       Root MSE        =     0.0545

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .0909171   .0336007     2.71   0.009     .0234281    .1584062
ln_emp_biz~v |   .0368204   .0059326     6.21   0.000     .0249045    .0487363
 ln_emp_info |   .0182655   .0040717     4.49   0.000     .0100873    .0264436
  ln_emp_fin |   .0681668   .0120378     5.66   0.000     .0439882    .0923453
ln_estcou~rv |   .0986174   .0166938     5.91   0.000     .0650868     .132148
ln_estcoun~o |   .0170553   .0053004     3.22   0.002     .0064091    .0277014
ln_estcoun~n |   .1148327   .0168575     6.81   0.000     .0809735    .1486919
ln_avgwwa~rv |   .0280084   .0075369     3.72   0.001     .0128701    .0431466
ln_avgwwag~o |   .0081887   .0035519     2.31   0.025     .0010545    .0153229
ln_avgwwag~n |   .0378935   .0103651     3.66   0.001     .0170745    .0587125
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     zipcode |     25641       25641           0    *|
        year |         6           0           6     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(222,781 missing values generated)
(222,781 observations deleted)
(note: file ../temp/estimates_ctrls.dta not found)
file ../temp/estimates_ctrls.dta saved
(note: file ../temp/estimates_ctrls.csv not found)
file ../temp/estimates_ctrls.csv saved
(dropped 1615 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    146,759
Absorbing 2 HDFE groups                           F(  10,     50) =      21.39
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9993
                                                  Adj R-squared   =     0.9991
                                                  Within R-sq.    =     0.0165
Number of clusters (statefips) =         51       Root MSE        =     0.0502

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .1013499    .027383     3.70   0.001     .0463494    .1563503
ln_emp_biz~v |   .0169808   .0044372     3.83   0.000     .0080684    .0258933
 ln_emp_info |    .007011   .0024468     2.87   0.006     .0020965    .0119255
  ln_emp_fin |   .0199864   .0062672     3.19   0.002     .0073983    .0325745
ln_estcou~rv |   .0637136   .0115668     5.51   0.000      .040481    .0869463
ln_estcoun~o |   .0130041   .0040265     3.23   0.002     .0049166    .0210916
ln_estcoun~n |   .0552619   .0100845     5.48   0.000     .0350067    .0755172
ln_avgwwa~rv |   .0140242     .00501     2.80   0.007     .0039613    .0240871
ln_avgwwag~o |    .003538   .0029037     1.22   0.229    -.0022944    .0093703
ln_avgwwag~n |   .0113612    .008164     1.39   0.170    -.0050366    .0277591
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     25631       25631           0    *|
   year#cbsa_num |      5440           0        5440     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(222,781 missing values generated)
(222,781 observations deleted)
(note: file ../temp/estimates_cbsa_time.dta not found)
file ../temp/estimates_cbsa_time.dta saved
(note: file ../temp/estimates_cbsa_time.csv not found)
file ../temp/estimates_cbsa_time.csv saved
(dropped 1601 singleton observations)
note: std_sh_mw_wkrs_statutory is probably collinear with the fixed effects (al
> l partialled-out values are close to zero; tol = 1.0e-09)
(MWFE estimator converged in 10 iterations)
note: mw_wkp_tot_17_avg omitted because of collinearity
note: std_sh_mw_wkrs_statutory omitted because of collinearity

HDFE Linear regression                            Number of obs   =    143,752
Absorbing 2 HDFE groups                           F(  11,     49) =      21.79
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9993
                                                  Adj R-squared   =     0.9991
                                                  Within R-sq.    =     0.0170
Number of clusters (statefips) =         50       Root MSE        =     0.0500

                             (Std. Err. adjusted for 50 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .1012729   .0271876     3.72   0.001     .0466374    .1559084
mw_~t_17_avg |          0  (omitted)
std_sh_mw_~y |          0  (omitted)
             |
          c. |
mw_~t_17_avg#|
          c. |
std_sh_mw_~y |   .0216309   .0089637     2.41   0.020     .0036177    .0396441
             |
ln_emp_biz~v |   .0169233    .004436     3.81   0.000     .0080088    .0258378
 ln_emp_info |   .0072545   .0024421     2.97   0.005     .0023469    .0121621
  ln_emp_fin |   .0196329   .0062268     3.15   0.003     .0071197    .0321461
ln_estcou~rv |   .0631085   .0115536     5.46   0.000     .0398908    .0863263
ln_estcoun~o |   .0122675    .003923     3.13   0.003      .004384     .020151
ln_estcoun~n |    .055253   .0100052     5.52   0.000     .0351468    .0753592
ln_avgwwa~rv |   .0137059   .0049454     2.77   0.008     .0037677    .0236442
ln_avgwwag~o |   .0036742   .0029228     1.26   0.215    -.0021995    .0095479
ln_avgwwag~n |   .0099325   .0082524     1.20   0.235    -.0066514    .0265164
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     25114       25114           0    *|
   year#cbsa_num |      5422           0        5422     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(222,781 missing values generated)
variable var was str17 now str47
(1 real change made)
(222,780 observations deleted)
(note: file ../temp/estimates_cbsa_time_het.dta not found)
file ../temp/estimates_cbsa_time_het.dta saved
(note: file ../temp/estimates_cbsa_time_het.csv not found)
file ../temp/estimates_cbsa_time_het.csv saved
(dropped 1945 singleton observations)
note: ln_emp_bizserv is probably collinear with the fixed effects (all partiall
> ed-out values are close to zero; tol = 1.0e-09)
note: ln_emp_info is probably collinear with the fixed effects (all partialled-
> out values are close to zero; tol = 1.0e-09)
note: ln_emp_fin is probably collinear with the fixed effects (all partialled-o
> ut values are close to zero; tol = 1.0e-09)
note: ln_estcount_bizserv is probably collinear with the fixed effects (all par
> tialled-out values are close to zero; tol = 1.0e-09)
note: ln_estcount_info is probably collinear with the fixed effects (all partia
> lled-out values are close to zero; tol = 1.0e-09)
note: ln_estcount_fin is probably collinear with the fixed effects (all partial
> led-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_bizserv is probably collinear with the fixed effects (all par
> tialled-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_info is probably collinear with the fixed effects (all partia
> lled-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_fin is probably collinear with the fixed effects (all partial
> led-out values are close to zero; tol = 1.0e-09)
(MWFE estimator converged in 8 iterations)
note: ln_emp_bizserv omitted because of collinearity
note: ln_emp_info omitted because of collinearity
note: ln_emp_fin omitted because of collinearity
note: ln_estcount_bizserv omitted because of collinearity
note: ln_estcount_info omitted because of collinearity
note: ln_estcount_fin omitted because of collinearity
note: ln_avgwwage_bizserv omitted because of collinearity
note: ln_avgwwage_info omitted because of collinearity
note: ln_avgwwage_fin omitted because of collinearity

HDFE Linear regression                            Number of obs   =    146,429
Absorbing 2 HDFE groups                           F(   1,     50) =      10.19
Statistics robust to heteroskedasticity           Prob > F        =     0.0024
                                                  R-squared       =     0.9994
                                                  Adj R-squared   =     0.9992
                                                  Within R-sq.    =     0.0006
Number of clusters (statefips) =         51       Root MSE        =     0.0482

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .2440213   .0764591     3.19   0.002     .0904486    .3975939
ln_emp_biz~v |          0  (omitted)
 ln_emp_info |          0  (omitted)
  ln_emp_fin |          0  (omitted)
ln_estcou~rv |          0  (omitted)
ln_estcoun~o |          0  (omitted)
ln_estcoun~n |          0  (omitted)
ln_avgwwa~rv |          0  (omitted)
ln_avgwwag~o |          0  (omitted)
ln_avgwwag~n |          0  (omitted)
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     25570       25570           0    *|
   year#county_num |     13690       13690           0    *|
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(222,781 missing values generated)
(222,781 observations deleted)
(note: file ../temp/estimates_county_time.dta not found)
file ../temp/estimates_county_time.dta saved
(note: file ../temp/estimates_county_time.csv not found)
file ../temp/estimates_county_time.csv saved
(dropped 237 singleton observations)
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =      7,745
Absorbing 2 HDFE groups                           F(  10,     34) =       4.62
Statistics robust to heteroskedasticity           Prob > F        =     0.0004
                                                  R-squared       =     0.9940
                                                  Adj R-squared   =     0.9922
                                                  Within R-sq.    =     0.0219
Number of clusters (statefips) =         35       Root MSE        =     0.0506

                             (Std. Err. adjusted for 35 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .0110565   .0857598     0.13   0.898    -.1632284    .1853413
ln_emp_biz~v |   .0433532   .0299697     1.45   0.157    -.0175525    .1042589
 ln_emp_info |   -.000765   .0136258    -0.06   0.956     -.028456    .0269259
  ln_emp_fin |  -.0356002   .0544879    -0.65   0.518     -.146333    .0751326
ln_estcou~rv |   .2681709   .1190467     2.25   0.031      .026239    .5101029
ln_estcoun~o |  -.0106037   .0301476    -0.35   0.727    -.0718711    .0506636
ln_estcoun~n |     .11483   .0752806     1.53   0.136    -.0381586    .2678186
ln_avgwwa~rv |    .026068   .0383647     0.68   0.501    -.0518984    .1040343
ln_avgwwag~o |   .0365127   .0260287     1.40   0.170     -.016384    .0894093
ln_avgwwag~n |  -.0246495   .0375542    -0.66   0.516    -.1009687    .0516697
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |      1303        1303           0    *|
   year#cbsa_num |       531           0         531     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(222,781 missing values generated)
(222,781 observations deleted)
(note: file ../temp/estimates_cbsa_time_baseline.dta not found)
file ../temp/estimates_cbsa_time_baseline.dta saved
(note: file ../temp/estimates_cbsa_time_baseline.csv not found)
file ../temp/estimates_cbsa_time_baseline.csv saved
(dropped 1615 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    146,762
Absorbing 2 HDFE groups                           F(  10,     50) =      21.37
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9993
                                                  Adj R-squared   =     0.9991
                                                  Within R-sq.    =     0.0165
Number of clusters (statefips) =         51       Root MSE        =     0.0502

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_14_avg |   .1005483   .0273882     3.67   0.001     .0455376     .155559
ln_emp_biz~v |   .0169699   .0044382     3.82   0.000     .0080555    .0258843
 ln_emp_info |   .0070055    .002447     2.86   0.006     .0020905    .0119205
  ln_emp_fin |   .0199387   .0062607     3.18   0.002     .0073637    .0325138
ln_estcou~rv |   .0636167   .0115791     5.49   0.000     .0403595    .0868739
ln_estcoun~o |   .0130483   .0040331     3.24   0.002     .0049475     .021149
ln_estcoun~n |   .0551989   .0100924     5.47   0.000     .0349278    .0754701
ln_avgwwa~rv |   .0140409   .0050141     2.80   0.007     .0039698    .0241119
ln_avgwwag~o |   .0035339   .0029042     1.22   0.229    -.0022994    .0093672
ln_avgwwag~n |   .0113098   .0081648     1.39   0.172    -.0050896    .0277092
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     25631       25631           0    *|
   year#cbsa_num |      5440           0        5440     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(222,781 missing values generated)
(222,781 observations deleted)
(note: file ../temp/estimates_mw_wkp_tot_14.dta not found)
file ../temp/estimates_mw_wkp_tot_14.dta saved
(note: file ../temp/estimates_mw_wkp_tot_14.csv not found)
file ../temp/estimates_mw_wkp_tot_14.csv saved
(dropped 1617 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    146,762
Absorbing 2 HDFE groups                           F(  10,     50) =      21.40
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9993
                                                  Adj R-squared   =     0.9991
                                                  Within R-sq.    =     0.0165
Number of clusters (statefips) =         51       Root MSE        =     0.0502

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_18_avg |   .1009927   .0273149     3.70   0.001     .0461291    .1558563
ln_emp_biz~v |   .0169624   .0044366     3.82   0.000     .0080512    .0258737
 ln_emp_info |   .0069961   .0024443     2.86   0.006     .0020866    .0119057
  ln_emp_fin |   .0199962   .0062662     3.19   0.002     .0074103    .0325822
ln_estcou~rv |   .0636718   .0115846     5.50   0.000     .0404036    .0869401
ln_estcoun~o |   .0130572   .0040317     3.24   0.002     .0049593    .0211551
ln_estcoun~n |   .0552266   .0100959     5.47   0.000     .0349483    .0755048
ln_avgwwa~rv |   .0140379   .0050081     2.80   0.007     .0039788    .0240969
ln_avgwwag~o |   .0035466   .0029056     1.22   0.228    -.0022895    .0093827
ln_avgwwag~n |    .011314   .0081702     1.38   0.172    -.0050963    .0277242
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     25631       25631           0    *|
   year#cbsa_num |      5440           0        5440     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(222,781 missing values generated)
(222,781 observations deleted)
(note: file ../temp/estimates_mw_wkp_tot_18.dta not found)
file ../temp/estimates_mw_wkp_tot_18.dta saved
(note: file ../temp/estimates_mw_wkp_tot_18.csv not found)
file ../temp/estimates_mw_wkp_tot_18.csv saved
(dropped 1649 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    121,886
Absorbing 2 HDFE groups                           F(  10,     50) =      17.79
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9994
                                                  Adj R-squared   =     0.9992
                                                  Within R-sq.    =     0.0148
Number of clusters (statefips) =         51       Root MSE        =     0.0465

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
m~t_tvar_avg |   .0983351   .0314028     3.13   0.003     .0352608    .1614094
ln_emp_biz~v |   .0177369    .004606     3.85   0.000     .0084854    .0269883
 ln_emp_info |   .0061864   .0026368     2.35   0.023     .0008902    .0114826
  ln_emp_fin |   .0281837   .0082629     3.41   0.001     .0115872    .0447802
ln_estcou~rv |   .0509215   .0110668     4.60   0.000     .0286931    .0731499
ln_estcoun~o |    .013381   .0045359     2.95   0.005     .0042703    .0224916
ln_estcoun~n |   .0486217   .0103277     4.71   0.000     .0278779    .0693655
ln_avgwwa~rv |   .0152903   .0053783     2.84   0.006     .0044877    .0260928
ln_avgwwag~o |    .000654   .0035393     0.18   0.854    -.0064548    .0077628
ln_avgwwag~n |   .0143364   .0081528     1.76   0.085     -.002039    .0307119
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     25475       25475           0    *|
   year#cbsa_num |      4525           0        4525     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(222,781 missing values generated)
(222,781 observations deleted)
(note: file ../temp/estimates_mw_wkp_tot_timvar.dta not found)
file ../temp/estimates_mw_wkp_tot_timvar.dta saved
(note: file ../temp/estimates_mw_wkp_tot_timvar.csv not found)
file ../temp/estimates_mw_wkp_tot_timvar.csv saved
(dropped 1264 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    138,286
Absorbing 2 HDFE groups                           F(  10,     50) =       5.37
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9931
                                                  Adj R-squared   =     0.9912
                                                  Within R-sq.    =     0.0016
Number of clusters (statefips) =         51       Root MSE        =     0.2039

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
ln_dividends |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .0168847   .0653393     0.26   0.797    -.1143531    .1481226
ln_emp_biz~v |   .0092703   .0104524     0.89   0.379    -.0117239    .0302645
 ln_emp_info |   .0105215   .0077084     1.36   0.178    -.0049612    .0260042
  ln_emp_fin |   .0130445   .0186423     0.70   0.487    -.0243995    .0504886
ln_estcou~rv |   .0770408   .0302256     2.55   0.014     .0163308    .1377507
ln_estcoun~o |   .0252665   .0110201     2.29   0.026     .0031319     .047401
ln_estcoun~n |   .1222607   .0254134     4.81   0.000     .0712164     .173305
ln_avgwwa~rv |   .0208397   .0167018     1.25   0.218    -.0127068    .0543863
ln_avgwwag~o |    .010962   .0076119     1.44   0.156     -.004327     .026251
ln_avgwwag~n |   .0119505   .0161203     0.74   0.462     -.020428    .0443291
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     24221       24221           0    *|
   year#cbsa_num |      5409           0        5409     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(222,781 missing values generated)
(222,781 observations deleted)
(note: file ../temp/estimates_dividends.dta not found)
file ../temp/estimates_dividends.dta saved
(note: file ../temp/estimates_dividends.csv not found)
file ../temp/estimates_dividends.csv saved
(note: variable model was str5, now str9 to accommodate using data's values)
(note: variable model was str9, now str13 to accommodate using data's values)
(note: variable var was str17, now str47 to accommodate using data's values)
(note: variable model was str13, now str18 to accommodate using data's
       values)
(note: file ../output/estimates_all.dta not found)
file ../output/estimates_all.dta saved
(note: file ../output/estimates_all.csv not found)
file ../output/estimates_all.csv saved

. 
end of do-file


Execute:  R CMD BATCH --no-save "./tables.R" tables.Rout

R version 4.1.1 (2021-08-10) -- "Kick Things"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> remove(list = ls())
> library(data.table)
> 
> main <- function() {
+   
+   instub  <- "../output/"
+   outstub <- "../output/"
+   
+   est <- fread(file.path(instub, "estimates_all.csv"))
+   
+   tab_models <- list(
+     list("static_wages", 
+          c("naive", "ctrls", "cbsa_time", "cbsa_time_het", "dividends"))
+   )
+   
+   for (tab in tab_models) {
+     txt <- c(sprintf("<tab:%s>", tab[[1]]))
+     
+     models <- tab[[2]]
+     
+     i = 1
+     for (stat in c("b", "se", "r2_within", "N")) {
+       for (mm in models) {
+         
+         if (mm == models[1]) {
+           row <- est[model == mm & var == "mw_wkp_tot_17_avg"][[stat]]
+         } else {
+           row <- paste(row, est[model == mm & var == "mw_wkp_tot_17_avg"][[stat]], sep = "\t")
+         }
+       }
+       txt <- c(txt, row)
+       i = i + 1
+       
+       if (i == 3 & tab[[1]] == "static_wages") {     # Add heterogeneity model
+         row <- est[model == "cbsa_time_het" 
+                    & var == "c.mw_wkp_tot_17_avg##c.std_sh_mw_wkrs_statutory"][["b"]]
+         txt <- c(txt, row)
+         
+         row <- est[model == "cbsa_time_het" 
+                    & var == "c.mw_wkp_tot_17_avg##c.std_sh_mw_wkrs_statutory"][["se"]]
+         txt <- c(txt, row)
+       }
+     }
+     
+     fileConn <- file(file.path(outstub, sprintf("%s.txt", tab[[1]])))
+     writeLines(txt, fileConn)
+     close(fileConn)
+   }
+ }
> 
> 
> 
> main()
> 
> proc.time()
   user  system elapsed 
   0.50    0.17    0.65 

 make.py ended: 2023-06-20 10:25:46
