
 make.py started: 2022-03-23 19:41:55 C:\Users\diegog\Desktop\Diego\min_wage_rent\analysis\twfe_wages\code 




Execute:  StataMP-64 /e do "./estimates.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.


running c:\ado\personal\profile.do ...

. do ./estimates.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. 
. program main
  1.     local in_est     "../../../drive/derived_large/estimation_samples"
  2.     local in_zip_yr  "../../../drive/derived_large/zipcode_year"
  3.     local outstub "../output"
  4.         
.     local mw_wkp_var "mw_wkp_tot_17"
  5. 
.     use "`in_zip_yr'/zipcode_year.dta", clear
  6.     xtset zipcode_num year
  7. 
.     add_baseline_zipcodes, instub(`in_est')
  8.         destring cbsa, gen(cbsa_num)
  9.         
.     define_controls
 10.     local controls "`r(economic_controls)'"
 11.     local cluster "statefips"
 12. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(" ")            //
> /
>         absorb(zipcode year) cluster(`cluster') model_name(naive)
 13. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year) cluster(`cluster') model_name(ctrls)
 14. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(cbsa_time
> )
 15. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year#county_num) cluster(`cluster') model_name(county_
> time)
 16.     
.     estimate_twfe_model if baseline_sample, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(cbsa_time
> _baseline)
 17. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(mw_wkp_tot_10_avg) controls(`controls')     /
> //
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(mw_wkp_to
> t_10)
 18.     
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(mw_wkp_tot_18_avg) controls(`controls')     /
> //
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(mw_wkp_to
> t_18)
 19.     
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(mw_wkp_tot_tvar_avg) controls(`controls')    
>    ///
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(mw_wkp_to
> t_timvar)
 20.     
.     estimate_twfe_model, ///
>         yvar(ln_dividends) xvars(`mw_wkp_var'_avg) controls(`controls')    //
> /
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(dividends
> )
 21. 
.     use `outstub'/estimates_naive.dta, clear
 22.     foreach ff in ctrls cbsa_time county_time cbsa_time_baseline ///
>                   mw_wkp_tot_10 mw_wkp_tot_18 mw_wkp_tot_timvar dividends {
 23.         append using `outstub'/estimates_`ff'.dta
 24.     }
 25.     save             `outstub'/estimates_all.dta, replace
 26.     export delimited `outstub'/estimates_all.csv, replace
 27. end

. 
. program add_baseline_zipcodes
  1.     syntax, instub(str)
  2. 
.     preserve
  3.         use `instub'/zipcode_months.dta, clear
  4. 
.         keep if baseline_sample == 1
  5.         bys  zipcode: keep if _n == 1
  6.         keep zipcode baseline_sample
  7. 
.         tempfile zipcode_years_baseline
  8.         save    `zipcode_years_baseline'
  9.     restore
 10. 
.     merge m:1 zipcode using `zipcode_years_baseline', keep(1 3) nogen
 11. 
.     replace baseline_sample = 0 if baseline_sample != 1
 12. end

. 
. 
. main
       panel variable:  zipcode_num (strongly balanced)
        time variable:  year, 2010 to 2019
                delta:  1 unit
(64,378 observations deleted)
(132,255 observations deleted)
file C:\Users\diegog\AppData\Local\Temp\2\ST_9e88_000002.tmp saved

    Result                           # of obs.
    -----------------------------------------
    not matched                       304,810
        from master                   304,810  
        from using                          0  

    matched                            13,450  
    -----------------------------------------
(304,810 real changes made)
cbsa: all characters numeric; cbsa_num generated as long
(dropped 1344 singleton observations)
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =    274,271
Absorbing 2 HDFE groups                           F(   1,     50) =       4.44
Statistics robust to heteroskedasticity           Prob > F        =     0.0401
                                                  R-squared       =     0.9982
                                                  Adj R-squared   =     0.9980
                                                  Within R-sq.    =     0.0164
Number of clusters (statefips) =         51       Root MSE        =     0.0754

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .1490011    .070679     2.11   0.040     .0070381    .2909641
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     zipcode |     27835       27835           0    *|
        year |        10           0          10     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(note: file ../temp/estimates.dta not found)
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_naive.dta not found)
file ../output/estimates_naive.dta saved
(note: file ../output/estimates_naive.csv not found)
file ../output/estimates_naive.csv saved
(dropped 1412 singleton observations)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    247,962
Absorbing 2 HDFE groups                           F(  10,     50) =      26.09
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9984
                                                  Adj R-squared   =     0.9983
                                                  Within R-sq.    =     0.1395
Number of clusters (statefips) =         51       Root MSE        =     0.0697

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .1114634   .0407128     2.74   0.009     .0296894    .1932375
ln_emp_biz~v |    .047532   .0066224     7.18   0.000     .0342304    .0608335
 ln_emp_info |    .025163   .0051581     4.88   0.000     .0148025    .0355234
  ln_emp_fin |   .0949981   .0106536     8.92   0.000     .0735997    .1163965
ln_estcou~rv |   .1070922   .0170224     6.29   0.000     .0729016    .1412828
ln_estcoun~o |   .0283164   .0072429     3.91   0.000     .0137686    .0428641
ln_estcoun~n |   .1397091   .0195678     7.14   0.000     .1004061    .1790121
ln_avgwwa~rv |   .0350432   .0062851     5.58   0.000     .0224192    .0476673
ln_avgwwag~o |   .0125442   .0061058     2.05   0.045     .0002804     .024808
ln_avgwwag~n |   .0598143   .0134709     4.44   0.000     .0327573    .0868714
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     zipcode |     26252       26252           0    *|
        year |        10           0          10     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_ctrls.dta not found)
file ../output/estimates_ctrls.dta saved
(note: file ../output/estimates_ctrls.csv not found)
file ../output/estimates_ctrls.csv saved
(dropped 1522 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    247,852
Absorbing 2 HDFE groups                           F(  10,     50) =      19.02
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9987
                                                  Adj R-squared   =     0.9985
                                                  Within R-sq.    =     0.0266
Number of clusters (statefips) =         51       Root MSE        =     0.0639

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .1084865   .0390316     2.78   0.008     .0300892    .1868838
ln_emp_biz~v |   .0236526   .0068955     3.43   0.001     .0098025    .0375026
 ln_emp_info |   .0120468   .0030922     3.90   0.000     .0058359    .0182577
  ln_emp_fin |   .0395708   .0077439     5.11   0.000     .0240167    .0551248
ln_estcou~rv |   .0715093   .0143369     4.99   0.000     .0427128    .1003057
ln_estcoun~o |   .0199198   .0040453     4.92   0.000     .0117946    .0280449
ln_estcoun~n |   .0703285   .0107132     6.56   0.000     .0488105    .0918466
ln_avgwwa~rv |   .0191496   .0054966     3.48   0.001     .0081092    .0301899
ln_avgwwag~o |   .0057738   .0042963     1.34   0.185    -.0028556    .0144033
ln_avgwwag~n |   .0395115   .0153158     2.58   0.013     .0087487    .0702742
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     26243       26243           0    *|
   year#cbsa_num |      9085           0        9085     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_cbsa_time.dta not found)
file ../output/estimates_cbsa_time.dta saved
(note: file ../output/estimates_cbsa_time.csv not found)
file ../output/estimates_cbsa_time.csv saved
(dropped 2100 singleton observations)
note: ln_emp_bizserv is probably collinear with the fixed effects (all partiall
> ed-out values are close to zero; tol = 1.0e-09)
note: ln_emp_info is probably collinear with the fixed effects (all partialled-
> out values are close to zero; tol = 1.0e-09)
note: ln_emp_fin is probably collinear with the fixed effects (all partialled-o
> ut values are close to zero; tol = 1.0e-09)
note: ln_estcount_bizserv is probably collinear with the fixed effects (all par
> tialled-out values are close to zero; tol = 1.0e-09)
note: ln_estcount_info is probably collinear with the fixed effects (all partia
> lled-out values are close to zero; tol = 1.0e-09)
note: ln_estcount_fin is probably collinear with the fixed effects (all partial
> led-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_bizserv is probably collinear with the fixed effects (all par
> tialled-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_info is probably collinear with the fixed effects (all partia
> lled-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_fin is probably collinear with the fixed effects (all partial
> led-out values are close to zero; tol = 1.0e-09)
(MWFE estimator converged in 9 iterations)
note: ln_emp_bizserv omitted because of collinearity
note: ln_emp_info omitted because of collinearity
note: ln_emp_fin omitted because of collinearity
note: ln_estcount_bizserv omitted because of collinearity
note: ln_estcount_info omitted because of collinearity
note: ln_estcount_fin omitted because of collinearity
note: ln_avgwwage_bizserv omitted because of collinearity
note: ln_avgwwage_info omitted because of collinearity
note: ln_avgwwage_fin omitted because of collinearity

HDFE Linear regression                            Number of obs   =    247,274
Absorbing 2 HDFE groups                           F(   1,     50) =       9.71
Statistics robust to heteroskedasticity           Prob > F        =     0.0030
                                                  R-squared       =     0.9990
                                                  Adj R-squared   =     0.9987
                                                  Within R-sq.    =     0.0009
Number of clusters (statefips) =         51       Root MSE        =     0.0603

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .3653283   .1172506     3.12   0.003     .1298235    .6008332
ln_emp_biz~v |          0  (omitted)
 ln_emp_info |          0  (omitted)
  ln_emp_fin |          0  (omitted)
ln_estcou~rv |          0  (omitted)
ln_estcoun~o |          0  (omitted)
ln_estcoun~n |          0  (omitted)
ln_avgwwa~rv |          0  (omitted)
ln_avgwwag~o |          0  (omitted)
ln_avgwwag~n |          0  (omitted)
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     26169       26169           0    *|
   year#county_num |     23220       23220           0    *|
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_county_time.dta not found)
file ../output/estimates_county_time.dta saved
(note: file ../output/estimates_county_time.csv not found)
file ../output/estimates_county_time.csv saved
(dropped 395 singleton observations)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =     12,943
Absorbing 2 HDFE groups                           F(  10,     34) =       7.27
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9886
                                                  Adj R-squared   =     0.9863
                                                  Within R-sq.    =     0.0377
Number of clusters (statefips) =         35       Root MSE        =     0.0673

                             (Std. Err. adjusted for 35 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .1377182   .0963013     1.43   0.162    -.0579895     .333426
ln_emp_biz~v |   .0571552   .0316793     1.80   0.080    -.0072249    .1215353
 ln_emp_info |  -.0111266   .0191437    -0.58   0.565    -.0500313     .027778
  ln_emp_fin |  -.0506772   .0421258    -1.20   0.237    -.1362872    .0349328
ln_estcou~rv |   .2893902   .1673838     1.73   0.093    -.0507747    .6295551
ln_estcoun~o |   .0166991   .0449613     0.37   0.713    -.0746732    .1080714
ln_estcoun~n |   .1758288   .0947532     1.86   0.072     -.016733    .3683905
ln_avgwwa~rv |   .0652395   .0418697     1.56   0.128      -.01985     .150329
ln_avgwwag~o |   .0293261   .0279984     1.05   0.302    -.0275735    .0862257
ln_avgwwag~n |   .0091492   .0402627     0.23   0.822    -.0726745    .0909728
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |      1303        1303           0    *|
   year#cbsa_num |       888           0         888     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_cbsa_time_baseline.dta not found)
file ../output/estimates_cbsa_time_baseline.dta saved
(note: file ../output/estimates_cbsa_time_baseline.csv not found)
file ../output/estimates_cbsa_time_baseline.csv saved
(dropped 1526 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    247,816
Absorbing 2 HDFE groups                           F(  10,     50) =      19.01
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9987
                                                  Adj R-squared   =     0.9985
                                                  Within R-sq.    =     0.0265
Number of clusters (statefips) =         51       Root MSE        =     0.0638

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_10_avg |   .1042581   .0381681     2.73   0.009     .0275952     .180921
ln_emp_biz~v |    .023661   .0069031     3.43   0.001     .0097957    .0375262
 ln_emp_info |   .0121317   .0030982     3.92   0.000     .0059089    .0183546
  ln_emp_fin |   .0396459   .0077407     5.12   0.000     .0240983    .0551934
ln_estcou~rv |   .0714205   .0143381     4.98   0.000     .0426217    .1002194
ln_estcoun~o |   .0198645   .0040424     4.91   0.000     .0117451    .0279839
ln_estcoun~n |   .0700748   .0107073     6.54   0.000     .0485685    .0915811
ln_avgwwa~rv |    .019163   .0055008     3.48   0.001     .0081144    .0302116
ln_avgwwag~o |   .0058511    .004298     1.36   0.180    -.0027817    .0144839
ln_avgwwag~n |   .0394923   .0153098     2.58   0.013     .0087416    .0702429
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     26238       26238           0    *|
   year#cbsa_num |      9085           0        9085     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_mw_wkp_tot_10.dta not found)
file ../output/estimates_mw_wkp_tot_10.dta saved
(note: file ../output/estimates_mw_wkp_tot_10.csv not found)
file ../output/estimates_mw_wkp_tot_10.csv saved
(dropped 1524 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    247,857
Absorbing 2 HDFE groups                           F(  10,     50) =      18.98
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9987
                                                  Adj R-squared   =     0.9985
                                                  Within R-sq.    =     0.0265
Number of clusters (statefips) =         51       Root MSE        =     0.0639

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_18_avg |   .1078947   .0387759     2.78   0.008     .0300111    .1857783
ln_emp_biz~v |   .0236561   .0068973     3.43   0.001     .0098026    .0375097
 ln_emp_info |   .0120612   .0030926     3.90   0.000     .0058496    .0182728
  ln_emp_fin |   .0396596   .0077463     5.12   0.000     .0241007    .0552185
ln_estcou~rv |   .0715096    .014348     4.98   0.000     .0426908    .1003284
ln_estcoun~o |   .0199375   .0040418     4.93   0.000     .0118194    .0280556
ln_estcoun~n |   .0701939   .0107211     6.55   0.000     .0486601    .0917278
ln_avgwwa~rv |   .0191791   .0055001     3.49   0.001     .0081319    .0302264
ln_avgwwag~o |   .0057819   .0043054     1.34   0.185    -.0028658    .0144295
ln_avgwwag~n |   .0395171   .0153072     2.58   0.013     .0087716    .0702626
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     26243       26243           0    *|
   year#cbsa_num |      9085           0        9085     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_mw_wkp_tot_18.dta not found)
file ../output/estimates_mw_wkp_tot_18.dta saved
(note: file ../output/estimates_mw_wkp_tot_18.csv not found)
file ../output/estimates_mw_wkp_tot_18.csv saved
(dropped 1543 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    222,991
Absorbing 2 HDFE groups                           F(  10,     50) =      18.75
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9989
                                                  Adj R-squared   =     0.9987
                                                  Within R-sq.    =     0.0242
Number of clusters (statefips) =         51       Root MSE        =     0.0607

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
m~t_tvar_avg |   .1067573   .0462342     2.31   0.025     .0138932    .1996214
ln_emp_biz~v |   .0236733     .00736     3.22   0.002     .0088904    .0384563
 ln_emp_info |   .0104623   .0027794     3.76   0.000     .0048798    .0160449
  ln_emp_fin |   .0433257   .0085821     5.05   0.000     .0260879    .0605634
ln_estcou~rv |   .0637028   .0141445     4.50   0.000     .0352928    .0921128
ln_estcoun~o |   .0191275   .0043725     4.37   0.000     .0103451      .02791
ln_estcoun~n |    .064677   .0101141     6.39   0.000     .0443622    .0849919
ln_avgwwa~rv |   .0189847   .0049839     3.81   0.000     .0089742    .0289952
ln_avgwwag~o |   .0047671   .0047381     1.01   0.319    -.0047497    .0142838
ln_avgwwag~n |   .0444186   .0154772     2.87   0.006     .0133317    .0755055
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     26151       26151           0    *|
   year#cbsa_num |      8170           0        8170     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_mw_wkp_tot_timvar.dta not found)
file ../output/estimates_mw_wkp_tot_timvar.dta saved
(note: file ../output/estimates_mw_wkp_tot_timvar.csv not found)
file ../output/estimates_mw_wkp_tot_timvar.csv saved
(dropped 1842 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    235,193
Absorbing 2 HDFE groups                           F(  10,     50) =       7.30
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9764
                                                  Adj R-squared   =     0.9724
                                                  Within R-sq.    =     0.0018
Number of clusters (statefips) =         51       Root MSE        =     0.3593

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
ln_dividends |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .0236933   .0839525     0.28   0.779    -.1449303    .1923169
ln_emp_biz~v |    .015248   .0142293     1.07   0.289    -.0133324    .0438283
 ln_emp_info |   .0218908   .0099237     2.21   0.032     .0019585    .0418232
  ln_emp_fin |   .0652244   .0254472     2.56   0.013     .0141122    .1163366
ln_estcou~rv |    .090079   .0462191     1.95   0.057    -.0027549    .1829128
ln_estcoun~o |   .0345481   .0199461     1.73   0.089    -.0055148    .0746111
ln_estcoun~n |   .1765953   .0415799     4.25   0.000     .0930797     .260111
ln_avgwwa~rv |  -.0089674    .020744    -0.43   0.667    -.0506329     .032698
ln_avgwwag~o |   .0160737    .011553     1.39   0.170    -.0071312    .0392787
ln_avgwwag~n |   .0279631   .0337577     0.83   0.411    -.0398412    .0957675
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     25296       25296           0    *|
   year#cbsa_num |      9036           0        9036     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_dividends.dta not found)
file ../output/estimates_dividends.dta saved
(note: file ../output/estimates_dividends.csv not found)
file ../output/estimates_dividends.csv saved
(note: variable model was str5, now str9 to accommodate using data's values)
(note: variable model was str9, now str11 to accommodate using data's values)
(note: variable model was str11, now str18 to accommodate using data's
       values)
(note: variable var was str17, now str19 to accommodate using data's values)
(note: file ../output/estimates_all.dta not found)
file ../output/estimates_all.dta saved
(note: file ../output/estimates_all.csv not found)
file ../output/estimates_all.csv saved

. 
end of do-file


Execute:  R CMD BATCH --no-save "./tables.R" tables.Rout

R version 4.1.1 (2021-08-10) -- "Kick Things"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> remove(list = ls())
> library(data.table)
> 
> main <- function() {
+   
+   instub  <- "../output/"
+   outstub <- "../output/"
+   
+   est <- fread(file.path(instub, "estimates_all.csv"))
+   
+   tab_models <- list(
+     list("static_wages", 
+          c("naive", "ctrls", "cbsa_time", "county_time", "cbsa_time_baseline")),
+     list("static_wages_robustness", 
+          c("mw_wkp_tot_10", "mw_wkp_tot_18", "mw_wkp_tot_timvar", "dividends"))
+   )
+   
+   for (model in tab_models) {
+     txt <- c(sprintf("<tab:%s>", model[[1]]))
+     
+     for (stat in c("b", "se", "r2_within", "N")) {
+       for (mm in model[[2]]) {
+         
+         if (mm == model[[2]][1]) {
+           row <- est[model == mm][[stat]]
+         } else {
+           row <- paste(row, est[model == mm][[stat]], sep = "\t")
+         }
+       }
+       
+       txt <- c(txt, row)
+     }
+     
+     fileConn <- file(file.path(outstub, sprintf("%s.txt", model[[1]])))
+     writeLines(txt, fileConn)
+     close(fileConn)
+   }
+ }
> 
> 
> 
> main()
> 
> proc.time()
   user  system elapsed 
   0.45    0.20    0.60 

 make.py ended: 2022-03-23 19:44:04
