
 make.py started: 2021-11-01 06:54:46 C:\Users\diegog\Desktop\Diego\min_wage_rent\analysis\twfe_wages\code 




Execute:  StataMP-64 /e do "./estimates.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./estimates.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. 
. program main
  1.     local instub "../../../drive/derived_large/"
  2.     local outstub "../output"
  3. 
.     use "`instub'/zipcode_year/zipcode_year.dta", clear
  4.     xtset zipcode_num year
  5. 
.     add_baseline_zipcodes, instub(`instub')
  6.         
.     define_controls
  7.     local controls "`r(economic_controls)'"
  8.     local cluster "statefips"
  9. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(exp_ln_mw_tot_17_avg) controls(" ")          
>   ///
>         absorb(zipcode year) cluster(`cluster') model_name(naive)
 10. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(exp_ln_mw_tot_17_avg) controls(`controls')   
>   ///
>         absorb(zipcode year) cluster(`cluster') model_name(ctrls)
 11. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(exp_ln_mw_tot_17_avg) controls(`controls')   
>   ///
>         absorb(zipcode year#cbsa10_num) cluster(`cluster') model_name(cbsa_ti
> me)
 12. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(exp_ln_mw_tot_17_avg) controls(`controls')   
>   ///
>         absorb(zipcode year#county_num) cluster(`cluster') model_name(county_
> time)
 13.     
.     estimate_twfe_model if baseline_sample, ///
>         yvar(ln_wagebill) xvars(exp_ln_mw_tot_17_avg) controls(`controls')   
>   ///
>         absorb(zipcode year#cbsa10_num) cluster(`cluster') model_name(cbsa_ti
> me_baseline)
 14. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(exp_ln_mw_tot_10_avg) controls(`controls')   
>   ///
>         absorb(zipcode year#cbsa10_num) cluster(`cluster') model_name(exp_mw_
> 10)
 15.     
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(exp_ln_mw_tot_18_avg) controls(`controls')   
>   ///
>         absorb(zipcode year#cbsa10_num) cluster(`cluster') model_name(exp_mw_
> 18)
 16.     
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(exp_ln_mw_tot_avg) controls(`controls')      
>  ///
>         absorb(zipcode year#cbsa10_num) cluster(`cluster') model_name(exp_mw_
> varying)
 17.     
.     estimate_twfe_model, ///
>         yvar(ln_dividends) xvars(exp_ln_mw_tot_17_avg) controls(`controls')  
>   ///
>         absorb(zipcode year#cbsa10_num) cluster(`cluster') model_name(dividen
> ds)
 18. 
.     use `outstub'/estimates_naive.dta, clear
 19.     foreach ff in ctrls cbsa_time county_time cbsa_time_baseline ///
>                   exp_mw_10 exp_mw_18 exp_mw_varying dividends {
 20.         append using `outstub'/estimates_`ff'.dta
 21.     }
 22.     save             `outstub'/estimates_all.dta, replace
 23.     export delimited `outstub'/estimates_all.csv, replace
 24. end

. 
. program add_baseline_zipcodes
  1.     syntax, instub(str)
  2. 
.     preserve
  3.         use `instub'/estimation_samples/baseline_zipcode_months.dta
  4. 
.         keep if !missing(ln_rents)
  5. 
.         keep zipcode year
  6.         bys  zipcode year: keep if _n == 1
  7. 
.         gen baseline_sample = 1
  8. 
.         tempfile zipcode_years_baseline
  9.         save    `zipcode_years_baseline'
 10.     restore
 11. 
.     merge 1:1 zipcode year using `zipcode_years_baseline', assert(1 3) keep(1
>  3) nogen
 12. 
.     replace baseline_sample = 0 if baseline_sample != 1
 13. end

. 
. 
. main
       panel variable:  zipcode_num (strongly balanced)
        time variable:  year, 2010 to 2020
                delta:  1 unit
(27,800 observations deleted)
(122,026 observations deleted)
file C:\Users\diegog\AppData\Local\Temp\3\ST_6f90_000002.tmp saved

    Result                           # of obs.
    -----------------------------------------
    not matched                       433,783
        from master                   433,783  
        from using                          0  

    matched                            11,574  
    -----------------------------------------
(433,783 real changes made)
1
(dropped 2064 singleton observations)
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =    246,890
Absorbing 2 HDFE groups                           F(   1,     50) =       4.58
Statistics robust to heteroskedasticity           Prob > F        =     0.0373
                                                  R-squared       =     0.9984
                                                  Adj R-squared   =     0.9982
                                                  Within R-sq.    =     0.0153
Number of clusters (statefips) =         51       Root MSE        =     0.0714

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
exp~t_17_avg |   .1587453   .0741875     2.14   0.037     .0097354    .3077552
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     zipcode |     27851       27851           0    *|
        year |         9           0           9     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
(note: file ../temp/estimates.dta not found)
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(445,356 missing values generated)
(445,356 observations deleted)
(note: file ../output/estimates_naive.dta not found)
file ../output/estimates_naive.dta saved
(note: file ../output/estimates_naive.csv not found)
file ../output/estimates_naive.csv saved
1
(dropped 2058 singleton observations)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    226,347
Absorbing 2 HDFE groups                           F(  10,     50) =      23.62
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9986
                                                  Adj R-squared   =     0.9984
                                                  Within R-sq.    =     0.1258
Number of clusters (statefips) =         51       Root MSE        =     0.0665

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
exp~t_17_avg |   .1249717   .0462247     2.70   0.009     .0321266    .2178168
ln_emp_biz~g |   .0475258   .0073028     6.51   0.000     .0328577     .062194
ln_emp_inf~g |   .0244255   .0053393     4.57   0.000     .0137012    .0351499
ln_emp_fin~g |   .1000989   .0115359     8.68   0.000     .0769284    .1232694
ln_es~rv_avg |   .0970584   .0178855     5.43   0.000     .0611343    .1329826
ln_est~o_avg |   .0286518     .00821     3.49   0.001     .0121614    .0451421
ln_est~n_avg |   .1257199   .0201922     6.23   0.000     .0851626    .1662772
ln_av~rv_avg |   .0405623   .0065104     6.23   0.000     .0274858    .0536388
ln_avg~o_avg |   .0185795   .0081609     2.28   0.027     .0021878    .0349712
ln_avg~n_avg |   .0873691    .019477     4.49   0.000     .0482483    .1264899
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     zipcode |     26367       26367           0    *|
        year |         9           0           9     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(445,356 missing values generated)
(445,356 observations deleted)
(note: file ../output/estimates_ctrls.dta not found)
file ../output/estimates_ctrls.dta saved
(note: file ../output/estimates_ctrls.csv not found)
file ../output/estimates_ctrls.csv saved
1
(dropped 2194 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =    226,211
Absorbing 2 HDFE groups                           F(  10,     50) =      16.37
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9989
                                                  Adj R-squared   =     0.9987
                                                  Within R-sq.    =     0.0258
Number of clusters (statefips) =         51       Root MSE        =     0.0612

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
exp~t_17_avg |   .1119773   .0528668     2.12   0.039     .0057913    .2181633
ln_emp_biz~g |   .0258673   .0069781     3.71   0.001     .0118514    .0398833
ln_emp_inf~g |   .0135977   .0039279     3.46   0.001     .0057083    .0214872
ln_emp_fin~g |   .0518589   .0085367     6.07   0.000     .0347125    .0690052
ln_es~rv_avg |   .0617156   .0160606     3.84   0.000      .029457    .0939742
ln_est~o_avg |   .0176929    .005776     3.06   0.004     .0060914    .0292945
ln_est~n_avg |   .0597393   .0115784     5.16   0.000     .0364833    .0829952
ln_av~rv_avg |   .0241346   .0064231     3.76   0.000     .0112335    .0370357
ln_avg~o_avg |   .0072807   .0055592     1.31   0.196    -.0038854    .0184467
ln_avg~n_avg |   .0556332   .0234127     2.38   0.021     .0086075    .1026589
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     26354       26354           0    *|
   year#cbsa10_num |      8235           0        8235     |
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(445,356 missing values generated)
(445,356 observations deleted)
(note: file ../output/estimates_cbsa_time.dta not found)
file ../output/estimates_cbsa_time.dta saved
(note: file ../output/estimates_cbsa_time.csv not found)
file ../output/estimates_cbsa_time.csv saved
1
(dropped 2780 singleton observations)
note: ln_emp_bizserv_avg is probably collinear with the fixed effects (all part
> ialled-out values are close to zero; tol = 1.0e-09)
note: ln_emp_info_avg is probably collinear with the fixed effects (all partial
> led-out values are close to zero; tol = 1.0e-09)
note: ln_emp_fin_avg is probably collinear with the fixed effects (all partiall
> ed-out values are close to zero; tol = 1.0e-09)
note: ln_estcount_bizserv_avg is probably collinear with the fixed effects (all
>  partialled-out values are close to zero; tol = 1.0e-09)
note: ln_estcount_info_avg is probably collinear with the fixed effects (all pa
> rtialled-out values are close to zero; tol = 1.0e-09)
note: ln_estcount_fin_avg is probably collinear with the fixed effects (all par
> tialled-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_bizserv_avg is probably collinear with the fixed effects (all
>  partialled-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_info_avg is probably collinear with the fixed effects (all pa
> rtialled-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_fin_avg is probably collinear with the fixed effects (all par
> tialled-out values are close to zero; tol = 1.0e-09)
(MWFE estimator converged in 9 iterations)
note: ln_emp_bizserv_avg omitted because of collinearity
note: ln_emp_info_avg omitted because of collinearity
note: ln_emp_fin_avg omitted because of collinearity
note: ln_estcount_bizserv_avg omitted because of collinearity
note: ln_estcount_info_avg omitted because of collinearity
note: ln_estcount_fin_avg omitted because of collinearity
note: ln_avgwwage_bizserv_avg omitted because of collinearity
note: ln_avgwwage_info_avg omitted because of collinearity
note: ln_avgwwage_fin_avg omitted because of collinearity

HDFE Linear regression                            Number of obs   =    225,625
Absorbing 2 HDFE groups                           F(   1,     50) =       9.77
Statistics robust to heteroskedasticity           Prob > F        =     0.0030
                                                  R-squared       =     0.9991
                                                  Adj R-squared   =     0.9988
                                                  Within R-sq.    =     0.0009
Number of clusters (statefips) =         51       Root MSE        =     0.0573

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
exp~t_17_avg |   .3875243   .1239791     3.13   0.003     .1385048    .6365437
ln_emp_biz~g |          0  (omitted)
ln_emp_inf~g |          0  (omitted)
ln_emp_fin~g |          0  (omitted)
ln_es~rv_avg |          0  (omitted)
ln_est~o_avg |          0  (omitted)
ln_est~n_avg |          0  (omitted)
ln_av~rv_avg |          0  (omitted)
ln_avg~o_avg |          0  (omitted)
ln_avg~n_avg |          0  (omitted)
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     26274       26274           0    *|
   year#county_num |     21429       21429           0    *|
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(445,356 missing values generated)
(445,356 observations deleted)
(note: file ../output/estimates_county_time.dta not found)
file ../output/estimates_county_time.dta saved
(note: file ../output/estimates_county_time.csv not found)
file ../output/estimates_county_time.csv saved
1
(dropped 315 singleton observations)
(MWFE estimator converged in 8 iterations)

HDFE Linear regression                            Number of obs   =      9,835
Absorbing 2 HDFE groups                           F(  10,     35) =      14.23
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9925
                                                  Adj R-squared   =     0.9906
                                                  Within R-sq.    =     0.0341
Number of clusters (statefips) =         36       Root MSE        =     0.0553

                             (Std. Err. adjusted for 36 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
exp~t_17_avg |    .180286   .0885739     2.04   0.049     .0004715    .3601005
ln_emp_biz~g |   .0540147   .0262657     2.06   0.047     .0006924     .107337
ln_emp_inf~g |  -.0161288     .01357    -1.19   0.243    -.0436773    .0114197
ln_emp_fin~g |  -.0418369   .0316073    -1.32   0.194    -.1060032    .0223293
ln_es~rv_avg |   .1897849   .0966003     1.96   0.057    -.0063242    .3858941
ln_est~o_avg |   .0474577   .0216802     2.19   0.035     .0034445    .0914709
ln_est~n_avg |   .2264057   .0904067     2.50   0.017     .0428704    .4099411
ln_av~rv_avg |   .0302767     .04494     0.67   0.505    -.0609563    .1215096
ln_avg~o_avg |   .0058693   .0347638     0.17   0.867     -.064705    .0764435
ln_avg~n_avg |   .0218368   .0561167     0.39   0.700    -.0920862    .1357599
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |      1301        1301           0    *|
   year#cbsa10_num |       692           0         692     |
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(445,356 missing values generated)
(445,356 observations deleted)
(note: file ../output/estimates_cbsa_time_baseline.dta not found)
file ../output/estimates_cbsa_time_baseline.dta saved
(note: file ../output/estimates_cbsa_time_baseline.csv not found)
file ../output/estimates_cbsa_time_baseline.csv saved
1
(dropped 2194 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =    226,211
Absorbing 2 HDFE groups                           F(  10,     50) =      16.29
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9989
                                                  Adj R-squared   =     0.9987
                                                  Within R-sq.    =     0.0257
Number of clusters (statefips) =         51       Root MSE        =     0.0612

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
exp~t_10_avg |   .1077437   .0517831     2.08   0.043     .0037344    .2117531
ln_emp_biz~g |   .0258791   .0069885     3.70   0.001     .0118423    .0399159
ln_emp_inf~g |   .0136386   .0039312     3.47   0.001     .0057425    .0215347
ln_emp_fin~g |   .0518347   .0085405     6.07   0.000     .0346806    .0689888
ln_es~rv_avg |   .0616572   .0160752     3.84   0.000     .0293692    .0939451
ln_est~o_avg |   .0177206    .005772     3.07   0.003     .0061273     .029314
ln_est~n_avg |   .0596461   .0115712     5.15   0.000     .0364048    .0828875
ln_av~rv_avg |   .0241636   .0064288     3.76   0.000      .011251    .0370762
ln_avg~o_avg |   .0072625   .0055608     1.31   0.198    -.0039067    .0184317
ln_avg~n_avg |   .0555881   .0234238     2.37   0.022       .00854    .1026361
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     26354       26354           0    *|
   year#cbsa10_num |      8235           0        8235     |
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(445,356 missing values generated)
(445,356 observations deleted)
(note: file ../output/estimates_exp_mw_10.dta not found)
file ../output/estimates_exp_mw_10.dta saved
(note: file ../output/estimates_exp_mw_10.csv not found)
file ../output/estimates_exp_mw_10.csv saved
1
(dropped 2194 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =    226,211
Absorbing 2 HDFE groups                           F(  10,     50) =      16.37
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9989
                                                  Adj R-squared   =     0.9987
                                                  Within R-sq.    =     0.0258
Number of clusters (statefips) =         51       Root MSE        =     0.0612

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
exp~t_18_avg |   .1118402   .0527865     2.12   0.039     .0058153     .217865
ln_emp_biz~g |   .0258648   .0069805     3.71   0.001     .0118441    .0398856
ln_emp_inf~g |   .0135932     .00393     3.46   0.001     .0056995    .0214869
ln_emp_fin~g |   .0518647   .0085367     6.08   0.000     .0347183    .0690111
ln_es~rv_avg |   .0617297    .016065     3.84   0.000     .0294622    .0939972
ln_est~o_avg |   .0177079   .0057799     3.06   0.004     .0060987     .029317
ln_est~n_avg |    .059726   .0115734     5.16   0.000     .0364802    .0829718
ln_av~rv_avg |   .0241406   .0064264     3.76   0.000     .0112329    .0370484
ln_avg~o_avg |   .0072756   .0055607     1.31   0.197    -.0038933    .0184446
ln_avg~n_avg |   .0556276   .0234149     2.38   0.021     .0085974    .1026578
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     26354       26354           0    *|
   year#cbsa10_num |      8235           0        8235     |
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(445,356 missing values generated)
(445,356 observations deleted)
(note: file ../output/estimates_exp_mw_18.dta not found)
file ../output/estimates_exp_mw_18.dta saved
(note: file ../output/estimates_exp_mw_18.csv not found)
file ../output/estimates_exp_mw_18.csv saved
1
(dropped 2194 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =    226,211
Absorbing 2 HDFE groups                           F(  10,     50) =      16.29
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9989
                                                  Adj R-squared   =     0.9987
                                                  Within R-sq.    =     0.0257
Number of clusters (statefips) =         51       Root MSE        =     0.0612

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
exp_ln~t_avg |   .1090826   .0527529     2.07   0.044     .0031252      .21504
ln_emp_biz~g |   .0258577    .006986     3.70   0.001      .011826    .0398895
ln_emp_inf~g |   .0136076     .00393     3.46   0.001      .005714    .0215013
ln_emp_fin~g |   .0518391   .0085307     6.08   0.000     .0347047    .0689735
ln_es~rv_avg |   .0617126   .0160867     3.84   0.000     .0294016    .0940237
ln_est~o_avg |   .0177488   .0057552     3.08   0.003     .0061892    .0293085
ln_est~n_avg |   .0595396   .0115749     5.14   0.000     .0362908    .0827884
ln_av~rv_avg |   .0241475   .0064239     3.76   0.000     .0112448    .0370503
ln_avg~o_avg |   .0072559   .0055637     1.30   0.198    -.0039191    .0184309
ln_avg~n_avg |   .0557063   .0234228     2.38   0.021     .0086602    .1027524
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     26354       26354           0    *|
   year#cbsa10_num |      8235           0        8235     |
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(445,356 missing values generated)
(445,356 observations deleted)
(note: file ../output/estimates_exp_mw_varying.dta not found)
file ../output/estimates_exp_mw_varying.dta saved
(note: file ../output/estimates_exp_mw_varying.csv not found)
file ../output/estimates_exp_mw_varying.csv saved
1
(dropped 2129 singleton observations)
(MWFE estimator converged in 11 iterations)

HDFE Linear regression                            Number of obs   =    214,554
Absorbing 2 HDFE groups                           F(  10,     50) =       3.95
Statistics robust to heteroskedasticity           Prob > F        =     0.0005
                                                  R-squared       =     0.9755
                                                  Adj R-squared   =     0.9709
                                                  Within R-sq.    =     0.0013
Number of clusters (statefips) =         51       Root MSE        =     0.3687

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
ln_dividends |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
exp~t_17_avg |   .0765907   .1089041     0.70   0.485    -.1421496    .2953311
ln_emp_biz~g |   .0181721   .0144041     1.26   0.213    -.0107595    .0471036
ln_emp_inf~g |   .0310152   .0111589     2.78   0.008     .0086019    .0534284
ln_emp_fin~g |   .0707603    .028551     2.48   0.017      .013414    .1281067
ln_es~rv_avg |   .0681872   .0484871     1.41   0.166     -.029202    .1655763
ln_est~o_avg |   .0077999   .0230607     0.34   0.737    -.0385189    .0541188
ln_est~n_avg |   .1496275   .0512556     2.92   0.005     .0466775    .2525775
ln_av~rv_avg |   .0054965   .0259471     0.21   0.833    -.0466199    .0576129
ln_avg~o_avg |   .0305456   .0166859     1.83   0.073     -.002969    .0640602
ln_avg~n_avg |   .0535803   .0411438     1.30   0.199    -.0290595      .13622
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     25410       25410           0    *|
   year#cbsa10_num |      8186           0        8186     |
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
2
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(445,356 missing values generated)
(445,356 observations deleted)
(note: file ../output/estimates_dividends.dta not found)
file ../output/estimates_dividends.dta saved
(note: file ../output/estimates_dividends.csv not found)
file ../output/estimates_dividends.csv saved
(note: variable model was str5, now str9 to accommodate using data's values)
(note: variable model was str9, now str11 to accommodate using data's values)
(note: variable model was str11, now str18 to accommodate using data's
       values)
(note: file ../output/estimates_all.dta not found)
file ../output/estimates_all.dta saved
(note: file ../output/estimates_all.csv not found)
file ../output/estimates_all.csv saved

. 
end of do-file


Execute:  R CMD BATCH --no-save "./tables.R" tables.Rout

R version 4.1.1 (2021-08-10) -- "Kick Things"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> remove(list = ls())
> library(data.table)
> 
> main <- function() {
+   
+   instub  <- "../output/"
+   outstub <- "../output/"
+   
+   est <- fread(file.path(instub, "estimates_all.csv"))
+   
+   tab_models <- list(
+     list("static_wages", 
+          c("naive", "ctrls", "cbsa_time", "county_time", "cbsa_time_baseline")),
+     list("static_wages_robustness", 
+          c("exp_mw_10", "exp_mw_18", "exp_mw_varying", "dividends"))
+   )
+   
+   for (model in tab_models) {
+     txt <- c(sprintf("<tab:%s>", model[[1]]))
+     
+     for (stat in c("b", "se", "r2_within", "N")) {
+       for (mm in model[[2]]) {
+         
+         if (mm == model[[2]][1]) {
+           row <- est[model == mm][[stat]]
+         } else {
+           row <- paste(row, est[model == mm][[stat]], sep = "\t")
+         }
+       }
+       
+       txt <- c(txt, row)
+     }
+     
+     fileConn <- file(file.path(outstub, sprintf("%s.txt", model[[1]])))
+     writeLines(txt, fileConn)
+     close(fileConn)
+   }
+ }
> 
> 
> 
> main()
> 
> proc.time()
   user  system elapsed 
   0.43    0.10    0.54 

 make.py ended: 2021-11-01 06:56:35
