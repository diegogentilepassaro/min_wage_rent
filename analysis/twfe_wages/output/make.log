
 make.py started: 2022-05-05 12:46:26 C:\Users\diegog\Desktop\Diego\min_wage_rent\analysis\twfe_wages\code 




Execute:  StataMP-64 /e do "./estimates.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.


running c:\ado\personal\profile.do ...

. do ./estimates.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. 
. program main
  1.     local in_est     "../../../drive/derived_large/estimation_samples"
  2.     local in_zip_yr  "../../../drive/derived_large/zipcode_year"
  3.     local outstub "../output"
  4.         
.     local mw_wkp_var "mw_wkp_tot_17"
  5. 
.     use "`in_zip_yr'/zipcode_year.dta", clear
  6.     xtset zipcode_num year
  7. 
.     add_baseline_zipcodes, instub(`in_est')
  8.         destring cbsa, gen(cbsa_num)
  9.         
.     define_controls
 10.     local controls "`r(economic_controls)'"
 11.     local cluster "statefips"
 12. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(" ")            //
> /
>         absorb(zipcode year) cluster(`cluster') model_name(naive)
 13. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year) cluster(`cluster') model_name(ctrls)
 14. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(cbsa_time
> )
 15. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year#county_num) cluster(`cluster') model_name(county_
> time)
 16.     
.     estimate_twfe_model if fullbal_sample_SFCC, ///
>         yvar(ln_wagebill) xvars(`mw_wkp_var'_avg) controls(`controls')     //
> /
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(cbsa_time
> _baseline)
 17. 
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(mw_wkp_tot_10_avg) controls(`controls')     /
> //
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(mw_wkp_to
> t_10)
 18.     
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(mw_wkp_tot_18_avg) controls(`controls')     /
> //
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(mw_wkp_to
> t_18)
 19.     
.     estimate_twfe_model, ///
>         yvar(ln_wagebill) xvars(mw_wkp_tot_tvar_avg) controls(`controls')    
>    ///
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(mw_wkp_to
> t_timvar)
 20.     
.     estimate_twfe_model, ///
>         yvar(ln_dividends) xvars(`mw_wkp_var'_avg) controls(`controls')    //
> /
>         absorb(zipcode year#cbsa_num) cluster(`cluster') model_name(dividends
> )
 21. 
.     use `outstub'/estimates_naive.dta, clear
 22.     foreach ff in ctrls cbsa_time county_time cbsa_time_baseline ///
>                   mw_wkp_tot_10 mw_wkp_tot_18 mw_wkp_tot_timvar dividends {
 23.         append using `outstub'/estimates_`ff'.dta
 24.     }
 25.     save             `outstub'/estimates_all.dta, replace
 26.     export delimited `outstub'/estimates_all.csv, replace
 27. end

. 
. program add_baseline_zipcodes
  1.     syntax, instub(str)
  2. 
.     preserve
  3.         use `instub'/zipcode_months.dta, clear
  4. 
.         keep if fullbal_sample_SFCC == 1
  5.         bys  zipcode: keep if _n == 1
  6.         keep zipcode fullbal_sample_SFCC
  7. 
.         tempfile zipcode_years_baseline
  8.         save    `zipcode_years_baseline'
  9.     restore
 10. 
.     merge m:1 zipcode using `zipcode_years_baseline', keep(1 3) nogen
 11. 
.     replace fullbal_sample_SFCC = 0 if fullbal_sample_SFCC != 1
 12. end

. 
. 
. main
       panel variable:  zipcode_num (strongly balanced)
        time variable:  year, 2010 to 2019
                delta:  1 unit
(209,035 observations deleted)
(78,010 observations deleted)
file C:\Users\diegog\AppData\Local\Temp\2\ST_5c908_000002.tmp saved

    Result                           # of obs.
    -----------------------------------------
    not matched                       304,810
        from master                   304,810  
        from using                          0  

    matched                            13,450  
    -----------------------------------------
(304,810 real changes made)
cbsa: all characters numeric; cbsa_num generated as long
(dropped 1344 singleton observations)
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =    274,271
Absorbing 2 HDFE groups                           F(   1,     50) =       4.47
Statistics robust to heteroskedasticity           Prob > F        =     0.0395
                                                  R-squared       =     0.9982
                                                  Adj R-squared   =     0.9980
                                                  Within R-sq.    =     0.0165
Number of clusters (statefips) =         51       Root MSE        =     0.0754

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |    .148784     .07036     2.11   0.039     .0074618    .2901061
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     zipcode |     27835       27835           0    *|
        year |        10           0          10     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(note: file ../temp/estimates.dta not found)
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_naive.dta not found)
file ../output/estimates_naive.dta saved
(note: file ../output/estimates_naive.csv not found)
file ../output/estimates_naive.csv saved
(dropped 1412 singleton observations)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    247,962
Absorbing 2 HDFE groups                           F(  10,     50) =      26.26
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9984
                                                  Adj R-squared   =     0.9983
                                                  Within R-sq.    =     0.1395
Number of clusters (statefips) =         51       Root MSE        =     0.0697

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .1111746   .0405184     2.74   0.008      .029791    .1925582
ln_emp_biz~v |    .047543   .0066254     7.18   0.000     .0342356    .0608505
 ln_emp_info |    .025165   .0051594     4.88   0.000     .0148019     .035528
  ln_emp_fin |   .0950099   .0106613     8.91   0.000      .073596    .1164238
ln_estcou~rv |   .1070867   .0170169     6.29   0.000     .0729072    .1412662
ln_estcoun~o |   .0282901   .0072466     3.90   0.000     .0137349    .0428454
ln_estcoun~n |     .13964    .019577     7.13   0.000     .1003184    .1789616
ln_avgwwa~rv |   .0350354   .0062874     5.57   0.000     .0224067    .0476641
ln_avgwwag~o |   .0125177   .0061002     2.05   0.045      .000265    .0247704
ln_avgwwag~n |   .0598223   .0134797     4.44   0.000     .0327476     .086897
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     zipcode |     26252       26252           0    *|
        year |        10           0          10     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_ctrls.dta not found)
file ../output/estimates_ctrls.dta saved
(note: file ../output/estimates_ctrls.csv not found)
file ../output/estimates_ctrls.csv saved
(dropped 1522 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    247,852
Absorbing 2 HDFE groups                           F(  10,     50) =      19.07
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9987
                                                  Adj R-squared   =     0.9985
                                                  Within R-sq.    =     0.0266
Number of clusters (statefips) =         51       Root MSE        =     0.0639

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .1083481   .0389569     2.78   0.008     .0301008    .1865953
ln_emp_biz~v |   .0236628   .0068968     3.43   0.001     .0098101    .0375155
 ln_emp_info |   .0120449    .003092     3.90   0.000     .0058344    .0182553
  ln_emp_fin |    .039568   .0077442     5.11   0.000     .0240134    .0551226
ln_estcou~rv |   .0714745   .0143439     4.98   0.000     .0426639    .1002851
ln_estcoun~o |   .0199177   .0040443     4.92   0.000     .0117944     .028041
ln_estcoun~n |   .0703263   .0107155     6.56   0.000     .0488036    .0918491
ln_avgwwa~rv |   .0191407   .0054958     3.48   0.001     .0081021    .0301793
ln_avgwwag~o |     .00577   .0042953     1.34   0.185    -.0028574    .0143973
ln_avgwwag~n |   .0395381   .0153212     2.58   0.013     .0087646    .0703115
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     26243       26243           0    *|
   year#cbsa_num |      9085           0        9085     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_cbsa_time.dta not found)
file ../output/estimates_cbsa_time.dta saved
(note: file ../output/estimates_cbsa_time.csv not found)
file ../output/estimates_cbsa_time.csv saved
(dropped 2100 singleton observations)
note: ln_emp_bizserv is probably collinear with the fixed effects (all partiall
> ed-out values are close to zero; tol = 1.0e-09)
note: ln_emp_info is probably collinear with the fixed effects (all partialled-
> out values are close to zero; tol = 1.0e-09)
note: ln_emp_fin is probably collinear with the fixed effects (all partialled-o
> ut values are close to zero; tol = 1.0e-09)
note: ln_estcount_bizserv is probably collinear with the fixed effects (all par
> tialled-out values are close to zero; tol = 1.0e-09)
note: ln_estcount_info is probably collinear with the fixed effects (all partia
> lled-out values are close to zero; tol = 1.0e-09)
note: ln_estcount_fin is probably collinear with the fixed effects (all partial
> led-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_bizserv is probably collinear with the fixed effects (all par
> tialled-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_info is probably collinear with the fixed effects (all partia
> lled-out values are close to zero; tol = 1.0e-09)
note: ln_avgwwage_fin is probably collinear with the fixed effects (all partial
> led-out values are close to zero; tol = 1.0e-09)
(MWFE estimator converged in 9 iterations)
note: ln_emp_bizserv omitted because of collinearity
note: ln_emp_info omitted because of collinearity
note: ln_emp_fin omitted because of collinearity
note: ln_estcount_bizserv omitted because of collinearity
note: ln_estcount_info omitted because of collinearity
note: ln_estcount_fin omitted because of collinearity
note: ln_avgwwage_bizserv omitted because of collinearity
note: ln_avgwwage_info omitted because of collinearity
note: ln_avgwwage_fin omitted because of collinearity

HDFE Linear regression                            Number of obs   =    247,274
Absorbing 2 HDFE groups                           F(   1,     50) =      10.51
Statistics robust to heteroskedasticity           Prob > F        =     0.0021
                                                  R-squared       =     0.9990
                                                  Adj R-squared   =     0.9987
                                                  Within R-sq.    =     0.0009
Number of clusters (statefips) =         51       Root MSE        =     0.0603

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .3666465    .113074     3.24   0.002     .1395307    .5937623
ln_emp_biz~v |          0  (omitted)
 ln_emp_info |          0  (omitted)
  ln_emp_fin |          0  (omitted)
ln_estcou~rv |          0  (omitted)
ln_estcoun~o |          0  (omitted)
ln_estcoun~n |          0  (omitted)
ln_avgwwa~rv |          0  (omitted)
ln_avgwwag~o |          0  (omitted)
ln_avgwwag~n |          0  (omitted)
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------+
       Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------+---------------------------------------|
           zipcode |     26169       26169           0    *|
   year#county_num |     23220       23220           0    *|
-----------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_county_time.dta not found)
file ../output/estimates_county_time.dta saved
(note: file ../output/estimates_county_time.csv not found)
file ../output/estimates_county_time.csv saved
(dropped 395 singleton observations)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =     12,943
Absorbing 2 HDFE groups                           F(  10,     34) =       7.37
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9886
                                                  Adj R-squared   =     0.9863
                                                  Within R-sq.    =     0.0376
Number of clusters (statefips) =         35       Root MSE        =     0.0673

                             (Std. Err. adjusted for 35 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .1309871   .0916558     1.43   0.162    -.0552799    .3172541
ln_emp_biz~v |   .0572538    .031736     1.80   0.080    -.0072416    .1217491
 ln_emp_info |   -.011044   .0191732    -0.58   0.568    -.0500086    .0279207
  ln_emp_fin |  -.0510371   .0420733    -1.21   0.233    -.1365405    .0344662
ln_estcou~rv |   .2891326   .1673354     1.73   0.093    -.0509339     .629199
ln_estcoun~o |   .0164898   .0449607     0.37   0.716    -.0748814     .107861
ln_estcoun~n |   .1760455   .0947542     1.86   0.072    -.0165181    .3686091
ln_avgwwa~rv |   .0655679   .0419615     1.56   0.127    -.0197082    .1508439
ln_avgwwag~o |   .0292769   .0279838     1.05   0.303    -.0275931    .0861469
ln_avgwwag~n |   .0089892   .0402343     0.22   0.825    -.0727768    .0907552
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |      1303        1303           0    *|
   year#cbsa_num |       888           0         888     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_cbsa_time_baseline.dta not found)
file ../output/estimates_cbsa_time_baseline.dta saved
(note: file ../output/estimates_cbsa_time_baseline.csv not found)
file ../output/estimates_cbsa_time_baseline.csv saved
(dropped 1526 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    247,816
Absorbing 2 HDFE groups                           F(  10,     50) =      19.06
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9987
                                                  Adj R-squared   =     0.9985
                                                  Within R-sq.    =     0.0265
Number of clusters (statefips) =         51       Root MSE        =     0.0638

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_10_avg |   .1039676   .0380841     2.73   0.009     .0274733    .1804618
ln_emp_biz~v |    .023669   .0069043     3.43   0.001     .0098013    .0375367
 ln_emp_info |    .012128   .0030982     3.91   0.000     .0059051    .0183508
  ln_emp_fin |   .0396563   .0077424     5.12   0.000     .0241052    .0552074
ln_estcou~rv |   .0713978   .0143454     4.98   0.000     .0425843    .1002114
ln_estcoun~o |   .0198726   .0040419     4.92   0.000     .0117543    .0279909
ln_estcoun~n |   .0700567   .0107098     6.54   0.000     .0485456    .0915679
ln_avgwwa~rv |   .0191549   .0055001     3.48   0.001     .0081076    .0302022
ln_avgwwag~o |   .0058447   .0042975     1.36   0.180     -.002787    .0144765
ln_avgwwag~n |   .0395228   .0153176     2.58   0.013     .0087564    .0702891
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     26238       26238           0    *|
   year#cbsa_num |      9085           0        9085     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_mw_wkp_tot_10.dta not found)
file ../output/estimates_mw_wkp_tot_10.dta saved
(note: file ../output/estimates_mw_wkp_tot_10.csv not found)
file ../output/estimates_mw_wkp_tot_10.csv saved
(dropped 1524 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    247,857
Absorbing 2 HDFE groups                           F(  10,     50) =      19.03
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9987
                                                  Adj R-squared   =     0.9985
                                                  Within R-sq.    =     0.0265
Number of clusters (statefips) =         51       Root MSE        =     0.0639

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_18_avg |   .1077206   .0386849     2.78   0.008     .0300198    .1854215
ln_emp_biz~v |   .0236663   .0068988     3.43   0.001     .0098097    .0375229
 ln_emp_info |   .0120586   .0030925     3.90   0.000      .005847    .0182701
  ln_emp_fin |   .0396638   .0077475     5.12   0.000     .0241025    .0552252
ln_estcou~rv |   .0714816   .0143523     4.98   0.000     .0426542    .1003091
ln_estcoun~o |   .0199403   .0040413     4.93   0.000     .0118231    .0280575
ln_estcoun~n |   .0701876    .010724     6.54   0.000     .0486478    .0917274
ln_avgwwa~rv |    .019171   .0054992     3.49   0.001     .0081256    .0302164
ln_avgwwag~o |   .0057755   .0043044     1.34   0.186    -.0028702    .0144212
ln_avgwwag~n |   .0395487   .0153143     2.58   0.013      .008789    .0703084
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     26243       26243           0    *|
   year#cbsa_num |      9085           0        9085     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_mw_wkp_tot_18.dta not found)
file ../output/estimates_mw_wkp_tot_18.dta saved
(note: file ../output/estimates_mw_wkp_tot_18.csv not found)
file ../output/estimates_mw_wkp_tot_18.csv saved
(dropped 1543 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    222,991
Absorbing 2 HDFE groups                           F(  10,     50) =      18.79
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9989
                                                  Adj R-squared   =     0.9987
                                                  Within R-sq.    =     0.0243
Number of clusters (statefips) =         51       Root MSE        =     0.0607

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
 ln_wagebill |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
m~t_tvar_avg |   .1068722   .0461261     2.32   0.025     .0142251    .1995193
ln_emp_biz~v |   .0236834   .0073611     3.22   0.002     .0088983    .0384686
 ln_emp_info |   .0104594   .0027785     3.76   0.000     .0048787      .01604
  ln_emp_fin |   .0433244   .0085833     5.05   0.000     .0260843    .0605644
ln_estcou~rv |   .0636679   .0141496     4.50   0.000     .0352476    .0920882
ln_estcoun~o |   .0191225   .0043717     4.37   0.000     .0103417    .0279033
ln_estcoun~n |    .064686   .0101141     6.40   0.000     .0443711    .0850008
ln_avgwwa~rv |    .018977   .0049833     3.81   0.000     .0089677    .0289862
ln_avgwwag~o |   .0047671   .0047382     1.01   0.319    -.0047499    .0142841
ln_avgwwag~n |   .0444352   .0154796     2.87   0.006     .0133434     .075527
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     26151       26151           0    *|
   year#cbsa_num |      8170           0        8170     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_mw_wkp_tot_timvar.dta not found)
file ../output/estimates_mw_wkp_tot_timvar.dta saved
(note: file ../output/estimates_mw_wkp_tot_timvar.csv not found)
file ../output/estimates_mw_wkp_tot_timvar.csv saved
(dropped 1842 singleton observations)
(MWFE estimator converged in 10 iterations)

HDFE Linear regression                            Number of obs   =    235,193
Absorbing 2 HDFE groups                           F(  10,     50) =       7.31
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.9764
                                                  Adj R-squared   =     0.9724
                                                  Within R-sq.    =     0.0018
Number of clusters (statefips) =         51       Root MSE        =     0.3593

                             (Std. Err. adjusted for 51 clusters in statefips)
------------------------------------------------------------------------------
             |               Robust
ln_dividends |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_17_avg |   .0262027   .0840926     0.31   0.757    -.1427023    .1951077
ln_emp_biz~v |   .0152676   .0142264     1.07   0.288    -.0133068    .0438421
 ln_emp_info |   .0218741   .0099201     2.21   0.032     .0019491    .0417992
  ln_emp_fin |   .0651966   .0254458     2.56   0.013     .0140872    .1163061
ln_estcou~rv |   .0900306   .0462293     1.95   0.057    -.0028236    .1828848
ln_estcoun~o |   .0344894   .0199525     1.73   0.090    -.0055864    .0745651
ln_estcoun~n |   .1767471   .0415743     4.25   0.000     .0932427    .2602516
ln_avgwwa~rv |  -.0089882   .0207361    -0.43   0.667    -.0506378    .0326615
ln_avgwwag~o |   .0160821   .0115574     1.39   0.170    -.0071317    .0392958
ln_avgwwag~n |   .0279855   .0337544     0.83   0.411    -.0398122    .0957832
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
         zipcode |     25296       25296           0    *|
   year#cbsa_num |      9036           0        9036     |
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
file ../temp/estimates.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(318,259 missing values generated)
(318,259 observations deleted)
(note: file ../output/estimates_dividends.dta not found)
file ../output/estimates_dividends.dta saved
(note: file ../output/estimates_dividends.csv not found)
file ../output/estimates_dividends.csv saved
(note: variable model was str5, now str9 to accommodate using data's values)
(note: variable model was str9, now str11 to accommodate using data's values)
(note: variable model was str11, now str18 to accommodate using data's
       values)
(note: variable var was str17, now str19 to accommodate using data's values)
(note: file ../output/estimates_all.dta not found)
file ../output/estimates_all.dta saved
(note: file ../output/estimates_all.csv not found)
file ../output/estimates_all.csv saved

. 
end of do-file


Execute:  R CMD BATCH --no-save "./tables.R" tables.Rout

R version 4.1.1 (2021-08-10) -- "Kick Things"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> remove(list = ls())
> library(data.table)
> 
> main <- function() {
+   
+   instub  <- "../output/"
+   outstub <- "../output/"
+   
+   est <- fread(file.path(instub, "estimates_all.csv"))
+   
+   tab_models <- list(
+     list("static_wages", 
+          c("naive", "ctrls", "cbsa_time", "cbsa_time_baseline", "dividends")),
+     list("static_wages_robustness", 
+          c("mw_wkp_tot_10", "mw_wkp_tot_18", "mw_wkp_tot_timvar", "county_time"))
+   )
+   
+   for (model in tab_models) {
+     txt <- c(sprintf("<tab:%s>", model[[1]]))
+     
+     for (stat in c("b", "se", "r2_within", "N")) {
+       for (mm in model[[2]]) {
+         
+         if (mm == model[[2]][1]) {
+           row <- est[model == mm][[stat]]
+         } else {
+           row <- paste(row, est[model == mm][[stat]], sep = "\t")
+         }
+       }
+       
+       txt <- c(txt, row)
+     }
+     
+     fileConn <- file(file.path(outstub, sprintf("%s.txt", model[[1]])))
+     writeLines(txt, fileConn)
+     close(fileConn)
+   }
+ }
> 
> 
> 
> main()
> 
> proc.time()
   user  system elapsed 
   0.46    0.21    0.60 

 make.py ended: 2022-05-05 12:51:03
