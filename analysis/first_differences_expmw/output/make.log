
 make.py started: 2020-11-02 17:49:07 /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences_expmw/code 




Execute:  stataSE -e do "./preclean.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.1   Copyright 1985-2019 StataCorp LLC
  Statistics/Data analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        https://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Stata license: 120-user network perpetual
Serial number: 401606201670
  Licensed to: Brown University
               Brown University

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. Maximum number of variables is set to 5,000; see help set_maxvar.

. do ./preclean.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "/Applications/Stata/ado/base/"
  [2]  (SITE)      "/Applications/Stata/ado/site/"
  [3]              "."
  [4]  (PERSONAL)  "/Users/gabriborg/Documents/Stata/ado/personal/"
  [5]  (PLUS)      "/Users/gabriborg/Library/Application Support/Stata/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. set maxvar 32000 


. 
. program main
  1.         local instub "../../../drive/derived_large/output"
  2.         local outstub "../temp"
  3.         local logfile "../output/data_file_manifest.log"
  4. 
.         use "`instub'/baseline_rent_panel.dta", clear 
  5.         keep zipcode place_code msa countyfips statefips                        
>                                         ///
>                 year_month calendar_month trend trend_sq trend_cu                  
>                                      ///
>                 dactual_mw actual_mw medrentpricepsqft_*                           
>                              ///
>                 med_hhinc20105 renthouse_share2010 white_share2010 black_share2010 
>                      ///
>                 college_share20105 work_county_share20105 unemp_share20105 teen_sha
> re2010   ///
>                 sh_treated* exp_mw*
  6. 
.         local het_vars "med_hhinc20105 unemp_share20105 college_share20105 black_sh
> are2010"
  7.         local het_vars "`het_vars'  teen_share2010"
  8.  
. 
.         create_vars,    log_vars(actual_mw medrentpricepsqft_sfcc exp_mw*)      ///
>                                         heterogeneity_vars(`het_vars')
  9.         
.         xtset zipcode year_month
 10.         simplify_varnames
 11.         gen d_ln_mw = D.ln_mw
 12. 
.         save_data "`outstub'/fd_rent_panel.dta", key(zipcode year_month) replace lo
> g(`logfile')
 13. end

. 
. program create_vars
  1.         syntax, log_vars(str) heterogeneity_vars(str)
  2. 
.         local log_vars_expanded "" 
  3.         foreach v in `log_vars' {
  4.                 unab this_var: `v'
  5.                 local log_vars_expanded `"`log_vars_expanded' `this_var'"'
  6.         }
  7.         cap unab bpsvars: u1*
  8.         foreach var in `bpsvars' {
  9.                 cap replace `var' = 1 + `var'
 10.         }
 11.         foreach var in `log_vars_expanded' {
 12.                 gen ln_`var' = ln(`var')
 13.         }
 14. 
.         gen nonwhite_share2010 = 1 - white_share2010
 15.         
.         gen trend_times2 = 2*trend
 16. 
.         foreach var in `heterogeneity_vars' {
 17. 
.                 gquantiles `var'_nat_qtl = `var', xtile nq(4)
 18. 
.                 gquantiles `var'_st_qtl  = `var', xtile nq(4) by(statefips)
 19.         }
 20. 
.         foreach var in  exp_mw_totjob exp_mw_job_young exp_mw_job_lowinc ln_exp_mw_
> totjob {
 21.                 g D`var' = D.`var'
 22.                 order D`var', after(`var')
 23.         }
 24.         bys zipcode (year_month): gegen temp = max(dactual_mw)
 25.         bys zipcode (year_month): g ziptreated = (temp!=0)
 26.         drop temp 
 27.         g treat = (dactual_mw>0)
 28.         replace treat = 2 if dactual_mw==0 & Dexp_mw_totjob!=0
 29. end

. 
. program simplify_varnames
  1.         
.         cap rename ln_actual_mw                  ln_mw 
  2.         cap rename ln_medrentpricepsqft_sfcc     ln_med_rent_psqft_sfcc
  3.         cap rename ln_medrentpricepsqft_2br      ln_med_rent_psqft_2br
  4.         cap rename ln_medrentpricepsqft_mfr5plus ln_med_rent_psqft_mfr5plus
  5. 
. end

. 
. main
(43,225 missing values generated)
(1,305 missing values generated)
(1,305 missing values generated)
(1,305 missing values generated)
(1,305 missing values generated)
performance warning: -by- prefix may be slower than -by()-
(45,210 real changes made)
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(1,305 missing values generated)
(data already sorted by zipcode year_month)
  variable trend_times2 was float now int
  variable ziptreated was float now byte
  variable treat was float now byte
  (1,252,800 bytes saved)
============================================================================
File: ../temp/fd_rent_panel.dta
Key: zipcode year_month
============================================================================
  156600:53(34422):499169267:1928392770

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    156,600    51920.57    29185.78       2113      99577
  year_month |    156,600       659.5    34.63992        600        719
  place_code |    129,840    40657.65    22564.03        410      87240
  countyfips |    156,240    24077.04    16484.28       1003      56021
   statefips |    156,600    23.97854    16.42626          1         56
-------------+---------------------------------------------------------
   actual_mw |    156,600     8.07779    1.207718       7.25         16
  dactual_mw |    156,600    .0152048    .1121804          0       2.21
calendar_m~h |    156,600         6.5    3.452064          1         12
         msa |    156,600    436.1801    240.1675         12        860
       trend |    156,600       225.5    34.63992        166        285
-------------+---------------------------------------------------------
    trend_sq |    156,600    52050.17    15659.42      27556      81225
    trend_cu |    156,600    1.23e+07     5408203    4574296   2.31e+07
medrentpri~c |    113,375    1.188344    .7824813   .4180214   6.731387
medrentpri~r |     24,789     1.84165    .9184999   .5015197   6.499599
medrentpri~s |     37,588    1.842276    1.001968   .5106889    6.48415
-------------+---------------------------------------------------------
white_s~2010 |    156,600    .5392018    .2225559   .0037838   .9401773
black_s~2010 |    156,600     .165993    .2003044    .003148   .9753076
teen_sh~2010 |    156,600    .1391686    .0481773   .0154552   .6235335
renthou~2010 |    156,600    .3834818     .176359   .0644567   .9662035
work_c~20105 |    156,600    .7557563    .2036341   .1421741    .995271
-------------+---------------------------------------------------------
colleg~20105 |    156,600    .4447718    .1662964   .0856991   .9082218
unemp_~20105 |    156,600    .0918395    .0398028   .0211286   .3417086
med_hh~20105 |    156,600    66919.72    24575.33   20527.66   191553.2
sh_treated~b |    156,600    .0338116    .1714027          0   .9977041
sh_treated~g |    156,600    .0337431    .1708868          0   .9984402
-------------+---------------------------------------------------------
sh_treated~c |    156,600    .0336759    .1707487          0   .9975428
exp_mw_tot~b |    156,600    8.051348    1.183335   6.378569   14.73062
Dexp_mw_to~b |    155,295    .0154906    .1014163  -.8778322   1.929518
exp_mw_job~g |    156,600    8.050165    1.174684   6.330423   14.81305
Dexp_mw_jo~g |    155,295    .0153985    .1007623   -1.04385    1.93538
-------------+---------------------------------------------------------
exp_mw_job~c |    156,600    8.051731    1.168876   5.999625   14.63397
Dexp_mw_jo~c |    155,295    .0153226    .1005358   -.925309   1.928661
       ln_mw |    156,600    2.079602    .1327775   1.981001   2.772589
ln_med_ren~c |    113,375    .0472541    .4493362  -.8722228   1.906781
ln_exp_mw_~b |    156,600    2.076519    .1318234   1.852944   2.689929
-------------+---------------------------------------------------------
Dln_exp_mw~b |    155,295    .0016937    .0108992  -.0986843   .2146382
ln_exp_mw_~g |    156,600    2.076499    .1309343   1.845367   2.695508
ln_exp_mw_~c |    156,600    2.076782    .1303161   1.791697   2.683345
nonwhit~2010 |    156,600    .4607982    .2225559   .0598227   .9962162
trend_times2 |    156,600         451    69.27985        332        570
-------------+---------------------------------------------------------
med_h~at_qtl |    156,600    2.498851     1.11838          1          4
med_h~st_qtl |    156,600    2.467433    1.120644          1          4
unemp~at_qtl |    156,600    2.498851     1.11838          1          4
unemp~st_qtl |    156,600    2.467433    1.120644          1          4
colle~at_qtl |    156,600    2.498851     1.11838          1          4
-------------+---------------------------------------------------------
colle~st_qtl |    156,600    2.467433    1.120644          1          4
black~at_qtl |    156,600    2.498851     1.11838          1          4
black~st_qtl |    156,600    2.467433    1.120644          1          4
teen_~at_qtl |    156,600    2.498851     1.11838          1          4
teen_~st_qtl |    156,600    2.467433    1.120644          1          4
-------------+---------------------------------------------------------
  ziptreated |    156,600    .6413793    .4795971          0          1
       treat |    156,600    .6112516    .9027862          0          2
     d_ln_mw |    155,295    .0016445    .0119584   -.290338   .2412503




(note: file ../temp/fd_rent_panel.dta not found)
file ../temp/fd_rent_panel.dta saved

. 
end of do-file


Execute:  stataSE -e do "./estimate_base.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.1   Copyright 1985-2019 StataCorp LLC
  Statistics/Data analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        https://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Stata license: 120-user network perpetual
Serial number: 401606201670
  Licensed to: Brown University
               Brown University

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. Maximum number of variables is set to 5,000; see help set_maxvar.

. do ./estimate_base.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "/Applications/Stata/ado/base/"
  [2]  (SITE)      "/Applications/Stata/ado/site/"
  [3]              "."
  [4]  (PERSONAL)  "/Users/gabriborg/Documents/Stata/ado/personal/"
  [5]  (PLUS)      "/Users/gabriborg/Library/Application Support/Stata/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "/Applications/Stata/ado/base/"
  [2]  (SITE)      "/Applications/Stata/ado/site/"
  [3]              "."
  [4]  (PERSONAL)  "/Users/gabriborg/Documents/Stata/ado/personal/"
  [5]  (PLUS)      "/Users/gabriborg/Library/Application Support/Stata/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. set maxvar 32000 


. 
. program main
  1.         local instub "../temp"
  2.         local outstub "../output"
  3. 
.         use "`instub'/fd_rent_panel.dta", clear
  4. 
.         make_results_labels
  5.         local estlabels_dyn            "`r(estlabels_dyn)'"
  6.         local estlabels_static         "`r(estlabels_static)'"
  7.         local estlablels_static_groups "`r(estlablels_static_groups)'"
  8. 
.         * Static Model - Experienced
.         run_static_expgroup, depvar(ln_med_rent_psqft_sfcc) treatvar(Dln_exp_mw_tot
> job) absorb(year_month) ///
>                 cluster(statefips)
  9. 
.         esttab * using "`outstub'/fd_table_expmw_groups.tex", compress se replace s
> ubstitute(\_ _)      ///
>                 coeflabels(`estlablels_static_groups') ///
>                 stats(zs_trend zs_trend_sq r2 N, fmt(%s3 %s3 %9.3f %9.0gc) ///
>                 labels("Zipcode-specifc linear trend" ///
>                 "Zipcode-specific quadratic trend"      ///
>                 "R-squared" "Observations")) star(* 0.10 ** 0.05 *** 0.01) ///
>                 nonote nomtitles 
 10.         
.         run_static_exptot, depvar(ln_med_rent_psqft_sfcc) treatvar(ln_exp_mw_totjob
> ) absorb(year_month) ///
>                 cluster(statefips)
 11.         esttab * using "`outstub'/fd_table_expmw.tex", keep(D.ln_exp_mw_totjob) 
> compress se replace substitute(\_ _)    ///
>                 coeflabels(`estlabels_static') ///
>                 stats(zs_trend zs_trend_sq r2 N, fmt(%s3 %s3 %9.3f %9.0gc) ///
>                 labels("Zipcode-specifc linear trend" ///
>                 "Zipcode-specific quadratic trend"      ///
>                 "R-squared" "Observations")) star(* 0.10 ** 0.05 *** 0.01) ///
>                 nonote nomtitles
 12. 
.         * Dynamic Model
. 
.         run_dynamic_expgroup, depvar(ln_med_rent_psqft_sfcc) treatvar(Dln_exp_mw_to
> tjob) absorb(year_month) ///
>                 cluster(statefips)
 13. 
.         run_dynamic_exptot, depvar(ln_med_rent_psqft_sfcc) treatvar(ln_exp_mw_totjo
> b) absorb(year_month) ///
>                 cluster(statefips)
 14.         esttab reg1 reg2 reg3 using "`outstub'/fd_dynamic_table_expmw.tex", ///
>                 keep(*.ln_exp_mw_totjob) compress se replace substitute(\_ _) ///
>                 coeflabels(`estlabels_dyn') ///
>                 stats(p_value_F zs_trend zs_trend_sq r2 N, fmt(%9.3f %s3 %s3 %9.3f 
> %9.0gc) ///
>                 labels("P-value no pretrends" "Zipcode-specifc linear trend" ///
>                 "Zipcode-specific quadratic trend" ///
>                 "R-squared" "Observations")) star(* 0.10 ** 0.05 *** 0.01)      ///
>                 nonote nomtitles
 15. 
.         esttab lincom1 lincom2 lincom3 using "`outstub'/fd_dynamic_lincom_table_exp
> mw.tex", ///
>                 compress se replace ///
>                 stats(zs_trend zs_trend_sq cty_emp_wg N, fmt(%s3 %s3 %s3 %9.0gc) //
> /
>                 labels("Zipcode-specifc linear trend" ///
>                 "Zipcode-specific quadratic trend" ///
>                 "Observations")) ///
>                 star(* 0.10 ** 0.05 *** 0.01) ///
>                 nonote coeflabel((1) "Sum of MW effects") nomtitles
 16. 
. end

. 
. program run_static_exptot
  1.         syntax, depvar(str) treatvar(str) absorb(str) cluster(str)
  2. 
.         eststo clear
  3.         eststo reg1: reghdfe D.`depvar' D.`treatvar', ///
>                 absorb(`absorb') ///
>                 vce(cluster `cluster') nocons
  4.         comment_table, trend_lin("No") trend_sq("No")
  5.                 
.         scalar static_effect = _b[D.`treatvar']
  6.         scalar static_effect_se = _se[D.`treatvar']
  7.                 
.         eststo: reghdfe D.`depvar' D.`treatvar',        ///
>                 absorb(`absorb' i.zipcode) ///
>                 vce(cluster `cluster') nocons
  8.         comment_table, trend_lin("Yes") trend_sq("No")
  9. 
.         eststo: reghdfe D.`depvar' D.`treatvar', ///
>                 absorb(`absorb' i.zipcode c.trend_times2#i.zipcode) ///
>                 vce(cluster `cluster') nocons
 10.         comment_table, trend_lin("Yes") trend_sq("Yes")
 11. end

. 
. program run_static_expgroup
  1.         syntax, depvar(str) treatvar(str) absorb(str) cluster(str)
  2. 
.         eststo clear
  3.         eststo reg1: reghdfe D.`depvar' c.`treatvar'#i.treat, ///
>                 absorb(`absorb' treat) ///
>                 vce(cluster `cluster') nocons
  4.         comment_table, trend_lin("No") trend_sq("No")
  5. 
. 
.         eststo: reghdfe D.`depvar' c.`treatvar'#i.treat,        ///
>                 absorb(`absorb' i.zipcode treat) ///
>                 vce(cluster `cluster') nocons
  6.         comment_table, trend_lin("Yes") trend_sq("No")
  7. 
.         eststo: reghdfe D.`depvar' c.`treatvar'#i.treat, ///
>                 absorb(`absorb' i.zipcode c.trend_times2#i.zipcode treat) ///
>                 vce(cluster `cluster') nocons
  8.         comment_table, trend_lin("Yes") trend_sq("Yes")
  9. end

. 
. 
. program run_dynamic_exptot
  1.         syntax, depvar(str) treatvar(str) absorb(str) cluster(str) [w(int 5)]
  2. 
.         local lincomest_coeffs "D1.`treatvar' + LD.`treatvar'"
  3.         forvalues i = 2(1)`w'{
  4.                 local lincomest_coeffs "`lincomest_coeffs' + L`i'D.`treatvar'"
  5.         }
  6. 
.         eststo clear
  7.         eststo reg1: reghdfe D.`depvar' L(-`w'/`w').D.`treatvar', ///
>                 absorb(`absorb') ///
>                 vce(cluster `cluster') nocons
  8.         comment_table, trend_lin("No") trend_sq("No")
  9.         test (F5D.`treatvar' = 0) (F4D.`treatvar' = 0) (F3D.`treatvar' = 0) (F2D
> .`treatvar' = 0) (F1D.`treatvar' = 0)
 10.         estadd scalar p_value_F = r(p)
 11.                         
.         eststo lincom1: lincomest `lincomest_coeffs'
 12.         comment_table, trend_lin("No") trend_sq("No")
 13. 
.         eststo reg2: reghdfe D.`depvar' L(-`w'/`w').D.`treatvar' `if', ///
>                 absorb(`absorb' i.zipcode) ///
>                 vce(cluster `cluster') nocons
 14.         comment_table, trend_lin("Yes") trend_sq("No")
 15. 
.         test (F5D.`treatvar' = 0) (F4D.`treatvar' = 0) (F3D.`treatvar' = 0) (F2D.`t
> reatvar' = 0) (F1D.`treatvar' = 0)
 16.         estadd scalar p_value_F = r(p)
 17. 
.         preserve
 18.                 coefplot, vertical base gen
 19.                 keep __at __b __se
 20.                 rename (__at __b __se) (at b_full se_full)
 21.                 
.                 keep if !missing(at)
 22. 
.                 gen b_full_lb = b_full - 1.645*se_full
 23.                 gen b_full_ub = b_full + 1.645*se_full
 24.                         
.                 gen static_path = 0 if at <= `w' 
 25.                 replace static_path = scalar(static_effect) if at > `w'
 26.                 gen static_path_lb = 0 if at <= `w'
 27.                 replace static_path_lb = scalar(static_effect) - 1.645*scalar(st
> atic_effect_se) if at > `w'
 28.                 gen static_path_ub = 0 if at <= `w'
 29.                 replace static_path_ub = scalar(static_effect) + 1.645*scalar(st
> atic_effect_se) if at > `w'
 30.                         
.                 save "../temp/plot_coeffs.dta", replace
 31.         restore
 32. 
.         eststo lincom2: lincomest `lincomest_coeffs'
 33.         comment_table, trend_lin("Yes") trend_sq("No")
 34.                                 
.         qui reghdfe D.`depvar' L(0/`w').D.`treatvar', ///
>                 absorb(`absorb' zipcode) ///
>                 vce(cluster `cluster') nocons
 35.                                 
.         preserve
 36.                 coefplot, vertical base gen
 37.                 keep __at __b __se
 38.                 rename (__at __b __se) (at b_lags se_lags)
 39.                 tset at
 40. 
.                 keep if !missing(at)
 41. 
.                 gen b_lags_lb = b_lags - 1.645*se_lags
 42.                 gen b_lags_ub = b_lags + 1.645*se_lags
 43.                         
.                 gen cumsum_b_lags = b_lags[1]
 44.                 replace cumsum_b_lags = cumsum_b_lags[_n-1] + b_lags[_n] if _n >
>  1
 45.                         
.                 replace at = at + `w'
 46.                         
.                 merge 1:1 at using "../temp/plot_coeffs.dta", nogen
 47.                 replace cumsum_b_lags = 0 if at <= `w'
 48.                 sort at
 49.                 save "../temp/plot_coeffs_base.dta", replace
 50.                 // To prevent lines from overlapping perfectly
.                 gen at_full = at - 0.09
 51.                 gen at_lags = at + 0.09
 52.                 replace at_full = at if _n <= `w'
 53.                 replace at_lags = at if _n <= `w'
 54. 
.                 replace cumsum_b_lags = cumsum_b_lags - 0.00007 if _n <= `w'
 55.                 replace static_path = static_path + 0.00007 if _n <= `w'
 56. 
.                 // Figure
.                 make_plot_xlabels, w(`w')
 57.                 local xlab "`r(xlab)'"
 58.                 replace at_full = at - 0.09 if _n <= `w'
 59.                 rename (b_full b_full_lb b_full_ub cumsum_b_lags) (b_full_expmw 
> b_full_lb_expmw b_full_ub_expmw cumsum_b_lags_expmw)
 60.                 merge 1:1 at using "../../first_differences/temp/plot_coeffs.dta
> ", nogen
 61.                 twoway (scatter b_full at, mcol(gs10)) (rcap b_full_lb b_full_ub
>  at, lcol(gs10) lp(dash) lw(thin)) ///
>                            (scatter b_full_expmw at_full, mcol(edkblue)) (rcap b_fu
> ll_lb_expmw b_full_ub_expmw at_full, col(edkblue) lp(dash) lw(thin)) ///
>                            (line cumsum_b_lags at, lc(gs10)) (line cumsum_b_lags_ex
> pmw at, lc(edkblue)), ///
>                            yline(0, lcol(black)) ///
>                            xlabel(`xlab', labsize(small)) xtitle("Leads and lags") 
> ///
>                            ylabel(-0.06(0.02).08, grid labsize(small)) ytitle("Effe
> ct on {&Delta}ln(rent/SqFt)") ///
>                            legend(order(1 "Baseline dynamic model" 3 "Exp. MW dynam
> ic model" ///
>                                                 5 "Baseline cumulative distributed 
> lags model" 6 "Exp. MW cumulative distributed lags model") size(vsmall))
 62.                 graph export "../output/fd_model_comparison_expmw.png", replace
 63.         restore 
 64. 
.         eststo reg3: reghdfe D.`depvar' L(-`w'/`w').D.`treatvar' `if', ///
>                 absorb(`absorb' i.zipcod c.trend_times2#i.zipcode) ///
>                 vce(cluster `cluster') nocons
 65.         comment_table, trend_lin("Yes") trend_sq("Yes")
 66. 
.         test (F5D.`treatvar' = 0) (F4D.`treatvar' = 0) (F3D.`treatvar' = 0) (F2D.`t
> reatvar' = 0) (F1D.`treatvar' = 0)
 67.         estadd scalar p_value_F = r(p)
 68. 
.         eststo lincom3: lincomest `lincomest_coeffs'
 69.         comment_table, trend_lin("Yes") trend_sq("Yes") 
 70. end

. 
. program run_dynamic_expgroup
  1.         syntax, depvar(str) treatvar(str) absorb(str) cluster(str) [w(int 5)]
  2. 
.         tab treat, g(treat_dummy)
  3.         g Dln_exp_mw_dir = `treatvar' * treat_dummy2
  4.         g Dln_exp_mw_ind = `treatvar' * treat_dummy3
  5. 
.         local dyntreat_dir ""
  6.         local dyntreat_ind ""
  7.         forval t = `w'(-1)1 {
  8.                 g F`t'Dln_exp_mw_dir = F`t'.Dln_exp_mw_dir
  9.                 local dyntreat_dir `"`dyntreat_dir' F`t'Dln_exp_mw_dir"'
 10.                 g F`t'Dln_exp_mw_ind = F`t'.Dln_exp_mw_ind
 11.                 local dyntreat_ind `"`dyntreat_ind' F`t'Dln_exp_mw_ind"'
 12.         }
 13.         forval t = 0/`w' {
 14.                 g L`t'Dln_exp_mw_dir = L`t'.Dln_exp_mw_dir
 15.                 local dyntreat_dir `"`dyntreat_dir' L`t'Dln_exp_mw_dir"'
 16.                 g L`t'Dln_exp_mw_ind = L`t'.Dln_exp_mw_ind
 17.                 local dyntreat_ind `"`dyntreat_ind' L`t'Dln_exp_mw_ind"'        
>         
 18.         }
 19. 
.         eststo clear
 20.         eststo reg1: reghdfe D.`depvar' `dyntreat_dir' `dyntreat_ind' , ///
>                 absorb(`absorb' zipcode treat) ///
>                 vce(cluster `cluster') nocons
 21. 
.                                 
.         preserve
 22.                 coefplot, vertical base gen
 23.                 keep __at __b __se
 24.                 rename (__at __b __se) (at b_ se_)
 25.                 tset at
 26.                 keep if !missing(at)
 27. 
.                 local winlen = 2*`w' + 1
 28.                 g treat_type = "dir" if _n <=`winlen'
 29.                 replace treat_type = "ind" if _n > `winlen'
 30.                 replace at = at - `winlen' if at >`winlen'
 31.                 reshape wide b_ se_, i(at) j(treat_type) string
 32.                 
.                 foreach t in dir ind {
 33.                         gen b_`t'_lb = b_`t' - 1.645*se_`t'
 34.                         gen b_`t'_ub = b_`t' + 1.645*se_`t'
 35.                 }
 36. 
.                 // To prevent lines from overlapping perfectly
.                 gen at_dir = at - 0.09
 37.                 gen at_ind = at + 0.09
 38.         
.                 // Figure
.                 make_plot_xlabels, w(`w')
 39.                 local xlab "`r(xlab)'"
 40.                 twoway (scatter b_dir at_dir, mcol(edkblue)) ///
>                         (rcap b_dir_lb b_dir_ub at_dir, col(edkblue) lp(dash) lw(vt
> hin)) ///
>                         (scatter b_ind at_ind, mcol(olive_teal)) ///
>                         (rcap b_ind_lb b_ind_ub at_ind, col(olive_teal) lp(dash) lw
> (vthin)), ///
>                         yline(0, lcol(black)) ///
>                         xlabel(`xlab', labsize(small)) xtitle("Leads and lags of {&
> Delta}ln(exp. MW)") ///
>                         ylabel(-0.2(0.05).25, grid labsize(small)) ytitle("Effect o
> n {&Delta}ln(rent/SqFt)") ///                        
>                         legend(order(1 "Direct" 3 "Indirect") size(small))
 41.                 graph export "../output/fd_models_expgroup.png", replace
 42.         restore 
 43. end

. 
. 
. program define_controls, rclass
  1.         
.         local emp_cont             "ln_emp_leis ln_emp_goodpr ln_emp_const ln_emp_t
> ransp"
  2.         local emp_cont `"`emp_cont' ln_emp_bizserv ln_emp_eduhe ln_emp_fedgov ln
> _emp_info"'
  3.         local emp_cont `"`emp_cont' ln_emp_manu ln_emp_natres ln_emp_servpr ln_e
> mp_stgov"'
  4.         return local emp_cont "`emp_cont'"
  5. 
.         local establish_cont                               "ln_estcount_leis ln_est
> count_goodpr ln_estcount_const ln_estcount_transp"
  6.         local establish_cont `"`establish_cont' ln_estcount_bizserv ln_estcount_
> eduhe ln_estcount_fedgov ln_estcount_info"'
  7.         local establish_cont `"`establish_cont' ln_estcount_manu ln_estcount_nat
> res ln_estcount_servpr ln_estcount_stgov"'
  8.         return local establish_cont "`establish_cont'"
  9. 
.         local wage_cont                  "ln_avgwwage_leis ln_avgwwage_goodpr ln_av
> gwwage_const ln_avgwwage_transp"
 10.         local wage_cont `"`wage_cont' ln_avgwwage_bizserv ln_avgwwage_eduhe ln_a
> vgwwage_fedgov ln_avgwwage_info"'
 11.         local wage_cont `"`wage_cont' ln_avgwwage_manu ln_avgwwage_natres ln_avg
> wwage_servpr ln_avgwwage_stgov"'
 12.         return local wage_cont "`wage_cont'"
 13. 
.         local housing_cont   "ln_u1rep_units ln_u1rep_value"
 14.         return local housing_cont "`housing_cont'"
 15. end 

. 
. program comment_table
  1.         syntax, trend_lin(str) trend_sq(str)
  2. 
.         estadd local zs_trend           "`trend_lin'"   
  3.         estadd local zs_trend_sq        "`trend_sq'"
  4. end

. 
. program comment_table_control
  1.         syntax, emp_cov(str) est_cov(str) wage_cov(str) housing_cov(str)
  2. 
.         estadd local ctrl_emp      "`emp_cov'"
  3.         estadd local ctrl_estab   "`est_cov'"
  4.         estadd local ctrl_wage "`wage_cov'"
  5.         estadd local ctrl_building    "`housing_cov'"
  6. end 

. 
. program store_dynamic_coeffs
  1.         syntax, model(str) w(int)
  2.         preserve
  3.                 coefplot, vertical base gen
  4.                 local winspan = 2*`w' + 1
  5.                 keep if _n<=`winspan'
  6.                 keep __at __b __se
  7.                 rename (__at __b __se) (at b_`model' se_`model')
  8.         
.                 keep if !missing(at)
  9. 
.                 gen b_`model'_lb = b_`model' - 1.645*se_`model'
 10.                 gen b_`model'_ub = b_`model' + 1.645*se_`model'
 11.         
.                 save "../temp/plot_coeffs_`model'.dta", replace
 12.         restore
 13. end 

. 
. program make_results_labels, rclass
  1.                 
.         local estlabels_dyn `"            F5D.ln_exp_mw_totjob "$\Delta \ln(exp MW)
> _{t-5}$" F4D.ln_exp_mw_totjob "$\Delta \ln(exp MW)_{t-4}$""'
  2.         local estlabels_dyn `"`estlabels_dyn' F3D.ln_exp_mw_totjob "$\Delta \ln(
> exp MW)_{t-3}$" F2D.ln_exp_mw_totjob "$\Delta \ln(exp MW)_{t-2}$""'
  3.         local estlabels_dyn `"`estlabels_dyn' FD.ln_exp_mw_totjob "$\Delta \ln(e
> xp MW)_{t-1}$" D.ln_exp_mw_totjob "$\Delta \ln(exp MW)_{t}$""'
  4.         local estlabels_dyn `"`estlabels_dyn' LD.ln_exp_mw_totjob "$\Delta \ln(e
> xp MW)_{t+1}$" L2D.ln_exp_mw_totjob "$\Delta \ln(exp MW)_{t+2}$""'
  5.         local estlabels_dyn `"`estlabels_dyn' L3D.ln_exp_mw_totjob "$\Delta \ln(
> exp MW)_{t+3}$" L4D.ln_exp_mw_totjob "$\Delta \ln(exp MW)_{t+4}$""'
  6.         local estlabels_dyn `"`estlabels_dyn' L5D.ln_exp_mw_totjob "$\Delta \ln(
> exp MW)_{t+5}$""'
  7. 
.         return local estlabels_dyn "`estlabels_dyn'"    
  8. 
.         local estlabels_static `"D.ln_exp_mw_totjob "$\Delta \ln(exp MW)_{t}$""'
  9.         return local estlabels_static "`estlabels_static'"
 10. 
.         local estlablels_static_groups `"0.treat#c.Dln_exp_mw_totjob "$\Delta \ln(e
> xp MW)_{t} \times Treat_{t}= indirect$""'
 11.         local estlablels_static_groups `"`estlablels_static_groups' 1.treat#c.Dl
> n_exp_mw_totjob "$\Delta \ln(exp MW)_{t} \times Treat_{t} = direct$""'
 12.         return local estlablels_static_groups "`estlablels_static_groups'"
 13. 
. end 

. 
. program make_plot_xlabels, rclass 
  1.         syntax, w(int)
  2. 
.         local xlab ""
  3.         forval lead = 1/`w' {
  4.                 local leadlab = `lead' - `w' - 1
  5.                 local xlab `"`xlab' `lead' "`leadlab'""'
  6.         }
  7.         local zero = `w' + 1
  8.         local xlab `"`xlab' `zero' "0""'
  9.         forval lag = 1/`w' {
 10.                 local coeflag = `zero' + `lag'
 11.                 local xlab `"`xlab' `coeflag' "`lag'""'
 12.         }
 13. 
.         return local xlab `xlab'
 14. end 

. 
. main
(MWFE estimator converged in 4 iterations)
note: 0b.treat#c.Dln_exp_mw_totjob omitted because of collinearity

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 2 HDFE groups                           F(   2,     40) =       5.27
Statistics robust to heteroskedasticity           Prob > F        =     0.0093
                                                  R-squared       =     0.0219
                                                  Adj R-squared   =     0.0209
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                                  (Std. Err. adjusted for 41 clusters in statefips)
-----------------------------------------------------------------------------------
D.                |               Robust
ln_med_rent_psq~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
            treat#|
               c. |
Dln_exp_mw_totjob |
               0  |          0  (omitted)
               1  |   .0480847   .0183373     2.62   0.012     .0110236    .0851458
               2  |   .0836641   .0611918     1.37   0.179    -.0400092    .2073373
-----------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
       treat |         3           1           2     |
-----------------------------------------------------+

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"
(MWFE estimator converged in 7 iterations)
note: 0b.treat#c.Dln_exp_mw_totjob omitted because of collinearity

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 3 HDFE groups                           F(   2,     40) =       8.20
Statistics robust to heteroskedasticity           Prob > F        =     0.0010
                                                  R-squared       =     0.0238
                                                  Adj R-squared   =     0.0126
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                                  (Std. Err. adjusted for 41 clusters in statefips)
-----------------------------------------------------------------------------------
D.                |               Robust
ln_med_rent_psq~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
            treat#|
               c. |
Dln_exp_mw_totjob |
               0  |          0  (omitted)
               1  |   .0536686   .0170782     3.14   0.003     .0191524    .0881849
               2  |   .1042008   .0527476     1.98   0.055    -.0024061    .2108077
-----------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
     zipcode |      1143        1143           0    *|
       treat |         3           1           2     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est2 stored)

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"
(MWFE estimator converged in 35 iterations)
note: 0b.treat#c.Dln_exp_mw_totjob omitted because of collinearity

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 4 HDFE groups                           F(   2,     40) =       8.90
Statistics robust to heteroskedasticity           Prob > F        =     0.0006
                                                  R-squared       =     0.0265
                                                  Adj R-squared   =     0.0052
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0282

                                  (Std. Err. adjusted for 41 clusters in statefips)
-----------------------------------------------------------------------------------
D.                |               Robust
ln_med_rent_psq~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
            treat#|
               c. |
Dln_exp_mw_totjob |
               0  |          0  (omitted)
               1  |   .0521778   .0157883     3.30   0.002     .0202686    .0840871
               2  |   .1063281   .0520888     2.04   0.048     .0010527    .2116035
-----------------------------------------------------------------------------------

Absorbed degrees of freedom:
----------------------------------------------------------------+
            Absorbed FE | Categories  - Redundant  = Num. Coefs |
------------------------+---------------------------------------|
             year_month |       118           0         118     |
                zipcode |      1143        1143           0    *|
 zipcode#c.trend_times2 |      1143           0        1143    ?|
                  treat |         3           1           2     |
----------------------------------------------------------------+
? = number of redundant parameters may be higher
* = FE nested within cluster; treated as redundant for DoF computation
(est3 stored)

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"
(note: file ../output/fd_table_expmw_groups.tex not found)
(output written to ../output/fd_table_expmw_groups.tex)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   1,     40) =       5.56
Statistics robust to heteroskedasticity           Prob > F        =     0.0233
                                                  R-squared       =     0.0219
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                                 (Std. Err. adjusted for 41 clusters in statefips)
----------------------------------------------------------------------------------
D.               |               Robust
ln_med_rent_ps~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
ln_exp_mw_totjob |
             D1. |   .0327485   .0138858     2.36   0.023     .0046844    .0608127
----------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 2 HDFE groups                           F(   1,     40) =       6.33
Statistics robust to heteroskedasticity           Prob > F        =     0.0160
                                                  R-squared       =     0.0237
                                                  Adj R-squared   =     0.0126
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                                 (Std. Err. adjusted for 41 clusters in statefips)
----------------------------------------------------------------------------------
D.               |               Robust
ln_med_rent_ps~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
ln_exp_mw_totjob |
             D1. |   .0327283   .0130088     2.52   0.016     .0064365    .0590202
----------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
     zipcode |      1143        1143           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est2 stored)

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"
(MWFE estimator converged in 29 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 3 HDFE groups                           F(   1,     40) =       6.63
Statistics robust to heteroskedasticity           Prob > F        =     0.0138
                                                  R-squared       =     0.0264
                                                  Adj R-squared   =     0.0051
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0282

                                 (Std. Err. adjusted for 41 clusters in statefips)
----------------------------------------------------------------------------------
D.               |               Robust
ln_med_rent_ps~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
ln_exp_mw_totjob |
             D1. |   .0325798   .0126507     2.58   0.014     .0070117    .0581479
----------------------------------------------------------------------------------

Absorbed degrees of freedom:
----------------------------------------------------------------+
            Absorbed FE | Categories  - Redundant  = Num. Coefs |
------------------------+---------------------------------------|
             year_month |       118           0         118     |
                zipcode |      1143        1143           0    *|
 zipcode#c.trend_times2 |      1143           0        1143    ?|
----------------------------------------------------------------+
? = number of redundant parameters may be higher
* = FE nested within cluster; treated as redundant for DoF computation
(est3 stored)

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"
(note: file ../output/fd_table_expmw.tex not found)
(output written to ../output/fd_table_expmw.tex)

      treat |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |    106,088       67.74       67.74
          1 |      5,302        3.39       71.13
          2 |     45,210       28.87      100.00
------------+-----------------------------------
      Total |    156,600      100.00
(1,305 missing values generated)
(1,305 missing values generated)
(6,525 missing values generated)
(6,525 missing values generated)
(5,220 missing values generated)
(5,220 missing values generated)
(3,915 missing values generated)
(3,915 missing values generated)
(2,610 missing values generated)
(2,610 missing values generated)
(1,305 missing values generated)
(1,305 missing values generated)
(1,305 missing values generated)
(1,305 missing values generated)
(2,610 missing values generated)
(2,610 missing values generated)
(3,915 missing values generated)
(3,915 missing values generated)
(5,220 missing values generated)
(5,220 missing values generated)
(6,525 missing values generated)
(6,525 missing values generated)
(7,830 missing values generated)
(7,830 missing values generated)
(MWFE estimator converged in 7 iterations)

HDFE Linear regression                            Number of obs   =    106,446
Absorbing 3 HDFE groups                           F(  22,     40) =      14.69
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0244
                                                  Adj R-squared   =     0.0126
                                                  Within R-sq.    =     0.0005
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                                 (Std. Err. adjusted for 41 clusters in statefips)
----------------------------------------------------------------------------------
D.               |               Robust
ln_med_rent_ps~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
F5Dln_exp_mw_dir |  -.0183084   .0106287    -1.72   0.093    -.0397899    .0031731
F4Dln_exp_mw_dir |  -.0046288   .0129831    -0.36   0.723    -.0308685    .0216109
F3Dln_exp_mw_dir |   .0015865   .0108276     0.15   0.884    -.0202969      .02347
F2Dln_exp_mw_dir |   .0048274    .013642     0.35   0.725    -.0227441    .0323989
F1Dln_exp_mw_dir |  -.0033257   .0151612    -0.22   0.827    -.0339676    .0273163
L0Dln_exp_mw_dir |   .0535401   .0172668     3.10   0.004     .0186426    .0884375
L1Dln_exp_mw_dir |   .0139352   .0070138     1.99   0.054    -.0002402    .0281107
L2Dln_exp_mw_dir |  -.0089891   .0151745    -0.59   0.557    -.0396578    .0216797
L3Dln_exp_mw_dir |   .0064947   .0083266     0.78   0.440     -.010334    .0233235
L4Dln_exp_mw_dir |   .0085795   .0086013     1.00   0.325    -.0088043    .0259633
L5Dln_exp_mw_dir |   .0067981    .008644     0.79   0.436    -.0106721    .0242683
F5Dln_exp_mw_ind |  -.0614754   .0388434    -1.58   0.121    -.1399808      .01703
F4Dln_exp_mw_ind |  -.0076219   .0567913    -0.13   0.894    -.1224014    .1071577
F3Dln_exp_mw_ind |  -.0398723   .0687787    -0.58   0.565    -.1788793    .0991347
F2Dln_exp_mw_ind |   .0059235   .0548246     0.11   0.915    -.1048813    .1167282
F1Dln_exp_mw_ind |  -.0397372     .03558    -1.12   0.271    -.1116471    .0321727
L0Dln_exp_mw_ind |   .1017248   .0530726     1.92   0.062    -.0055389    .2089886
L1Dln_exp_mw_ind |   .0783589   .0522814     1.50   0.142    -.0273056    .1840235
L2Dln_exp_mw_ind |   .0355437   .0326604     1.09   0.283    -.0304653    .1015528
L3Dln_exp_mw_ind |  -.1228217   .0559614    -2.19   0.034    -.2359239   -.0097196
L4Dln_exp_mw_ind |  -.0031295   .0322187    -0.10   0.923    -.0682459    .0619869
L5Dln_exp_mw_ind |   -.008343   .0591059    -0.14   0.888    -.1278004    .1111145
----------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
     zipcode |      1143        1143           0    *|
       treat |         3           1           2     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
        time variable:  at, 1 to 22
                delta:  1 unit
(156,578 observations deleted)
(11 missing values generated)
(11 real changes made)
(11 real changes made)
(note: j = dir ind)

Data                               long   ->   wide
-----------------------------------------------------------------------------
Number of obs.                       22   ->      11
Number of variables                   4   ->       5
j variable (2 values)        treat_type   ->   (dropped)
xij variables:
                                     b_   ->   b_dir b_ind
                                    se_   ->   se_dir se_ind
-----------------------------------------------------------------------------
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differen
> ces_expmw/code/../output/fd_models_expgroup.png written in PNG format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    106,446
Absorbing 1 HDFE group                            F(  11,     40) =       3.75
Statistics robust to heteroskedasticity           Prob > F        =     0.0010
                                                  R-squared       =     0.0222
                                                  Adj R-squared   =     0.0211
                                                  Within R-sq.    =     0.0003
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                                 (Std. Err. adjusted for 41 clusters in statefips)
----------------------------------------------------------------------------------
D.               |               Robust
ln_med_rent_ps~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
ln_exp_mw_totjob |
            F5D. |  -.0181991    .010509    -1.73   0.091    -.0394386    .0030405
            F4D. |  -.0036149   .0131724    -0.27   0.785    -.0302373    .0230075
            F3D. |    .000451   .0094152     0.05   0.962    -.0185778    .0194799
            F2D. |    .005964   .0133681     0.45   0.658    -.0210539    .0329819
             FD. |  -.0030734   .0144595    -0.21   0.833    -.0322972    .0261504
             D1. |   .0337362   .0135835     2.48   0.017     .0062828    .0611895
             LD. |   .0164278   .0076275     2.15   0.037      .001012    .0318437
            L2D. |  -.0069825    .015248    -0.46   0.649    -.0377999    .0238348
            L3D. |    .004528   .0093213     0.49   0.630    -.0143111    .0233671
            L4D. |   .0095807   .0080176     1.19   0.239    -.0066234    .0257849
            L5D. |   .0074029   .0078344     0.94   0.350    -.0084309    .0232368
----------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"

 ( 1)  F5D.ln_exp_mw_totjob = 0
 ( 2)  F4D.ln_exp_mw_totjob = 0
 ( 3)  F3D.ln_exp_mw_totjob = 0
 ( 4)  F2D.ln_exp_mw_totjob = 0
 ( 5)  FD.ln_exp_mw_totjob = 0

       F(  5,    40) =    0.89
            Prob > F =    0.4948

added scalar:
          e(p_value_F) =  .49476313
Confidence interval for formula:
D1.ln_exp_mw_totjob+LD.ln_exp_mw_totjob+L2D.ln_exp_mw_totjob+L3D.ln_exp_mw_totjob+L4D
> .ln_exp_mw_totjob+L5D.ln_exp_mw_totjob

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0646932   .0381582     1.70   0.098    -.0124274    .1418138
------------------------------------------------------------------------------

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    106,446
Absorbing 2 HDFE groups                           F(  11,     40) =       3.77
Statistics robust to heteroskedasticity           Prob > F        =     0.0009
                                                  R-squared       =     0.0242
                                                  Adj R-squared   =     0.0125
                                                  Within R-sq.    =     0.0003
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                                 (Std. Err. adjusted for 41 clusters in statefips)
----------------------------------------------------------------------------------
D.               |               Robust
ln_med_rent_ps~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
ln_exp_mw_totjob |
            F5D. |  -.0184811   .0103961    -1.78   0.083    -.0394924    .0025302
            F4D. |  -.0041448   .0129278    -0.32   0.750    -.0302729    .0219834
            F3D. |  -.0001275   .0087163    -0.01   0.988    -.0177437    .0174887
            F2D. |   .0054158   .0137874     0.39   0.697    -.0224496    .0332813
             FD. |  -.0034712   .0147351    -0.24   0.815     -.033252    .0263096
             D1. |   .0333705    .012935     2.58   0.014     .0072279     .059513
             LD. |   .0157348   .0076527     2.06   0.046      .000268    .0312015
            L2D. |  -.0077312   .0153722    -0.50   0.618    -.0387996    .0233373
            L3D. |   .0037319    .008408     0.44   0.660    -.0132613     .020725
            L4D. |   .0087742   .0084679     1.04   0.306      -.00834    .0258885
            L5D. |   .0065829   .0082566     0.80   0.430    -.0101043      .02327
----------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
     zipcode |      1143        1143           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"

 ( 1)  F5D.ln_exp_mw_totjob = 0
 ( 2)  F4D.ln_exp_mw_totjob = 0
 ( 3)  F3D.ln_exp_mw_totjob = 0
 ( 4)  F2D.ln_exp_mw_totjob = 0
 ( 5)  FD.ln_exp_mw_totjob = 0

       F(  5,    40) =    0.86
            Prob > F =    0.5167

added scalar:
          e(p_value_F) =  .51666803

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(156,589 observations deleted)
(6 missing values generated)
(6 real changes made)
(6 missing values generated)
(6 real changes made)
(6 missing values generated)
(6 real changes made)
(note: file ../temp/plot_coeffs.dta not found)
file ../temp/plot_coeffs.dta saved
Confidence interval for formula:
D1.ln_exp_mw_totjob+LD.ln_exp_mw_totjob+L2D.ln_exp_mw_totjob+L3D.ln_exp_mw_totjob+L4D
> .ln_exp_mw_totjob+L5D.ln_exp_mw_totjob

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0604631   .0369612     1.64   0.110    -.0142383    .1351645
------------------------------------------------------------------------------

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
        time variable:  at, 1 to 6
                delta:  1 unit
(156,594 observations deleted)
(5 real changes made)
(6 real changes made)

    Result                           # of obs.
    -----------------------------------------
    not matched                             5
        from master                         0  
        from using                          5  

    matched                                 6  
    -----------------------------------------
(5 real changes made)
(note: file ../temp/plot_coeffs_base.dta not found)
file ../temp/plot_coeffs_base.dta saved
(5 real changes made)
(5 real changes made)
(5 real changes made)
(5 real changes made)
(5 real changes made)

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                11  
    -----------------------------------------
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differen
> ces_expmw/code/../output/fd_model_comparison_expmw.png written in PNG format)
(MWFE estimator converged in 31 iterations)

HDFE Linear regression                            Number of obs   =    106,446
Absorbing 3 HDFE groups                           F(  11,     40) =       3.84
Statistics robust to heteroskedasticity           Prob > F        =     0.0008
                                                  R-squared       =     0.0272
                                                  Adj R-squared   =     0.0048
                                                  Within R-sq.    =     0.0003
Number of clusters (statefips) =         41       Root MSE        =     0.0283

                                 (Std. Err. adjusted for 41 clusters in statefips)
----------------------------------------------------------------------------------
D.               |               Robust
ln_med_rent_ps~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
ln_exp_mw_totjob |
            F5D. |  -.0189599   .0105131    -1.80   0.079    -.0402077    .0022879
            F4D. |  -.0050232   .0119783    -0.42   0.677    -.0292322    .0191858
            F3D. |  -.0008395   .0088703    -0.09   0.925    -.0187671     .017088
            F2D. |   .0047445   .0131138     0.36   0.719    -.0217595    .0312485
             FD. |  -.0042501   .0164698    -0.26   0.798    -.0375368    .0290366
             D1. |   .0326891   .0121098     2.70   0.010     .0082143    .0571638
             LD. |   .0145425   .0085303     1.70   0.096    -.0026978    .0317827
            L2D. |  -.0088625   .0141338    -0.63   0.534    -.0374281    .0197031
            L3D. |   .0027505   .0091348     0.30   0.765    -.0157117    .0212127
            L4D. |   .0079398   .0088199     0.90   0.373    -.0098859    .0257655
            L5D. |   .0060907   .0074901     0.81   0.421    -.0090474    .0212287
----------------------------------------------------------------------------------

Absorbed degrees of freedom:
----------------------------------------------------------------+
            Absorbed FE | Categories  - Redundant  = Num. Coefs |
------------------------+---------------------------------------|
             year_month |       109           0         109     |
                zipcode |      1143        1143           0    *|
 zipcode#c.trend_times2 |      1143           0        1143    ?|
----------------------------------------------------------------+
? = number of redundant parameters may be higher
* = FE nested within cluster; treated as redundant for DoF computation

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"

 ( 1)  F5D.ln_exp_mw_totjob = 0
 ( 2)  F4D.ln_exp_mw_totjob = 0
 ( 3)  F3D.ln_exp_mw_totjob = 0
 ( 4)  F2D.ln_exp_mw_totjob = 0
 ( 5)  FD.ln_exp_mw_totjob = 0

       F(  5,    40) =    0.82
            Prob > F =    0.5452

added scalar:
          e(p_value_F) =  .54516563
Confidence interval for formula:
D1.ln_exp_mw_totjob+LD.ln_exp_mw_totjob+L2D.ln_exp_mw_totjob+L3D.ln_exp_mw_totjob+L4D
> .ln_exp_mw_totjob+L5D.ln_exp_mw_totjob

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |     .05515   .0330787     1.67   0.103    -.0117045    .1220044
------------------------------------------------------------------------------

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"
(note: file ../output/fd_dynamic_table_expmw.tex not found)
(output written to ../output/fd_dynamic_table_expmw.tex)
(note: file ../output/fd_dynamic_lincom_table_expmw.tex not found)
(output written to ../output/fd_dynamic_lincom_table_expmw.tex)

. 
end of do-file

 make.py ended: 2020-11-02 17:49:48
