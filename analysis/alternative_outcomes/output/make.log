
 make.py started: 2022-05-12 16:47:58 C:\Users\Usuario\Documents\GitHub\min_wage_rent\analysis\alternative_outcomes\code 




Execute:  StataMP-64 /e do "./alt_outcomes.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.0   Copyright 1985-2019 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      Downloadly.ir     
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 2-core Stata network license expires 20 Aug 2022:
       Serial number:  501609213901
         Licensed to:  DOWNLOADLY.IR 085227746673
                       WwW.DownLoadLy.iR 085227746673

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./alt_outcomes.do 

. clear all

. set more off

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "C:\Program Files\Stata\Stata16\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata\Stata16\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "C:\Users\Usuario\ado\personal/"
  [5]  (PLUS)      "C:\Users\Usuario\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/min_wage/ado"

. set maxvar 32000 


. 
. program main
  1. 
.         local instub "../../../drive/derived_large/zipcode_year"
  2.         local outstub "../output"
  3. 
.         use "`instub'/zipcode_year.dta"
  4.         
.         define_controls
  5.     local controls "`r(economic_controls)'"
  6.         
.         destring cbsa, generate(cbsa_num)
  7. 
.         xtset zipcode_num year
  8. 
.         local depvars sh_workers_under1250 sh_residents_underHS sh_workers_ac
> comm_food
  9.         
.         foreach depvar of local depvars {
 10.         estimate_dist_lag_model, depvar(`depvar') dyn_var(mw_wkp_tot_15_av
> g) ///
>         w(2) stat_var(mw_res_avg) controls(`controls') absorb(zipcode_num cbs
> a_num##year) ///
>         cluster(cbsa_num) model_name(`depvar') 
 11.         }
 12.         
.     use "../temp/estimates_sh_workers_under1250.dta", clear
 13.     gen p_equality = .
 14.     foreach ff in sh_residents_underHS sh_workers_accomm_food {
 15.         append using ../temp/estimates_`ff'.dta
 16.     }
 17.     save             "`outstub'/estimates_static.dta", replace
 18.     export delimited "`outstub'/estimates_static.csv", replace
 19.         
. end

. 
. main
cbsa: all characters numeric; cbsa_num generated as long
       panel variable:  zipcode_num (strongly balanced)
        time variable:  year, 2010 to 2019
                delta:  1 unit
(dropped 684 singleton observations)
(MWFE estimator converged in 9 iterations)

HDFE Linear regression                            Number of obs   =    134,426
Absorbing 2 HDFE groups                           F(  15,    919) =      13.33
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.1231
                                                  Adj R-squared   =    -0.1546
                                                  Within R-sq.    =     0.0002
Number of clusters (cbsa_num) =        920        Root MSE        =     0.1010

                             (Std. Err. adjusted for 920 clusters in cbsa_num)
------------------------------------------------------------------------------
D.           |               Robust
sh_work~1250 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_15_avg |
        F2D. |  -.0526509   .0108138    -4.87   0.000    -.0738734   -.0314284
         FD. |  -.0360851   .0156962    -2.30   0.022    -.0668897   -.0052806
         D1. |   .0457419   .0634409     0.72   0.471     -.078764    .1702478
         LD. |  -.0212801   .0283275    -0.75   0.453    -.0768741    .0343139
        L2D. |  -.0170437   .0168071    -1.01   0.311    -.0500283     .015941
             |
  mw_res_avg |
         D1. |  -.0339492   .0422335    -0.80   0.422    -.1168345    .0489361
             |
ln_emp_biz~v |
         D1. |   .0016881   .0017427     0.97   0.333    -.0017321    .0051083
             |
 ln_emp_info |
         D1. |  -.0017457   .0019376    -0.90   0.368    -.0055483     .002057
             |
  ln_emp_fin |
         D1. |  -.0118048    .003199    -3.69   0.000     -.018083   -.0055265
             |
ln_estcou~rv |
         D1. |   .0068276   .0081081     0.84   0.400     -.009085    .0227402
             |
ln_estcoun~o |
         D1. |  -.0012919   .0020971    -0.62   0.538    -.0054075    .0028237
             |
ln_estcoun~n |
         D1. |   .0068009   .0058541     1.16   0.246     -.004688    .0182898
             |
ln_avgwwa~rv |
         D1. |   .0032717   .0040488     0.81   0.419    -.0046743    .0112177
             |
ln_avgwwag~o |
         D1. |   .0077471     .00416     1.86   0.063    -.0004171    .0159112
             |
ln_avgwwag~n |
         D1. |  -.0084923   .0039981    -2.12   0.034    -.0163388   -.0006457
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
     zipcode_num |     27779       27779           0    *|
   cbsa_num#year |      4536        4536           0    *|
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

 ( 1)  FD.mw_wkp_tot_15_avg = 0
 ( 2)  F2D.mw_wkp_tot_15_avg = 0

       F(  2,   919) =   30.87
            Prob > F =    0.0000
(note: file ../temp/estimates.dta not found)
file ../temp/estimates.dta saved
(318,254 observations deleted)
(0 observations deleted)
(1 missing value generated)
(1 real change made)
(6 real changes made)
(1 real change made)
(note: file ../temp/estimates_sh_workers_under1250.dta not found)
file ../temp/estimates_sh_workers_under1250.dta saved

 ( 1)  D.mw_wkp_tot_15_avg + D.mw_res_avg = 0

------------------------------------------------------------------------------
D.           |
sh_work~1250 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0117927   .0252175     0.47   0.640     -.037698    .0612833
------------------------------------------------------------------------------

 ( 1)  D.mw_wkp_tot_15_avg + LD.mw_wkp_tot_15_avg + D.mw_res_avg = 0

------------------------------------------------------------------------------
D.           |
sh_work~1250 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |  -.0094874   .0148278    -0.64   0.522    -.0385877    .0196128
------------------------------------------------------------------------------

 ( 1)  D.mw_wkp_tot_15_avg + LD.mw_wkp_tot_15_avg + L2D.mw_wkp_tot_15_avg +
       D.mw_res_avg = 0

------------------------------------------------------------------------------
D.           |
sh_work~1250 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |  -.0265311   .0141515    -1.87   0.061    -.0543041     .001242
------------------------------------------------------------------------------
number of observations will be reset to 4
Press any key to continue, or Break to abort
number of observations (_N) was 0, now 4
(note: file ../temp/estimates_sh_workers_under1250_sumsum_from0.dta not found)
file ../temp/estimates_sh_workers_under1250_sumsum_from0.dta saved
(note: variable at was byte, now float to accommodate using data's values)
file ../temp/estimates_sh_workers_under1250.dta saved
(note: file ../temp/estimates_sh_workers_under1250.csv not found)
file ../temp/estimates_sh_workers_under1250.csv saved
(dropped 527 singleton observations)
(MWFE estimator converged in 9 iterations)

HDFE Linear regression                            Number of obs   =    138,417
Absorbing 2 HDFE groups                           F(  15,    919) =       7.18
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.1033
                                                  Adj R-squared   =    -0.1773
                                                  Within R-sq.    =     0.0003
Number of clusters (cbsa_num) =        920        Root MSE        =     0.0334

                             (Std. Err. adjusted for 920 clusters in cbsa_num)
------------------------------------------------------------------------------
D.           |               Robust
sh_residen~S |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_15_avg |
        F2D. |  -.0186558    .007454    -2.50   0.012    -.0332847   -.0040269
         FD. |   .0025638   .0050184     0.51   0.610     -.007285    .0124126
         D1. |   .0010945   .0332654     0.03   0.974    -.0641904    .0663794
         LD. |  -.0285237    .011712    -2.44   0.015    -.0515091   -.0055382
        L2D. |   .0150873   .0073203     2.06   0.040     .0007208    .0294537
             |
  mw_res_avg |
         D1. |   .0011266   .0253545     0.04   0.965    -.0486329    .0508861
             |
ln_emp_biz~v |
         D1. |   .0013706   .0009338     1.47   0.143     -.000462    .0032032
             |
 ln_emp_info |
         D1. |  -.0008685   .0005058    -1.72   0.086    -.0018612    .0001241
             |
  ln_emp_fin |
         D1. |   .0037166   .0011894     3.12   0.002     .0013824    .0060508
             |
ln_estcou~rv |
         D1. |   .0025368   .0011847     2.14   0.033     .0002119    .0048618
             |
ln_estcoun~o |
         D1. |  -.0013629   .0008318    -1.64   0.102    -.0029952    .0002695
             |
ln_estcoun~n |
         D1. |   .0006831    .001295     0.53   0.598    -.0018585    .0032246
             |
ln_avgwwa~rv |
         D1. |   .0011172   .0004695     2.38   0.018     .0001958    .0020386
             |
ln_avgwwag~o |
         D1. |   .0003793   .0008736     0.43   0.664    -.0013352    .0020938
             |
ln_avgwwag~n |
         D1. |   .0029946   .0013665     2.19   0.029     .0003127    .0056765
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
     zipcode_num |     28431       28431           0    *|
   cbsa_num#year |      4539        4539           0    *|
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

 ( 1)  FD.mw_wkp_tot_15_avg = 0
 ( 2)  F2D.mw_wkp_tot_15_avg = 0

       F(  2,   919) =    4.81
            Prob > F =    0.0084
file ../temp/estimates.dta saved
(318,254 observations deleted)
(0 observations deleted)
(1 missing value generated)
(1 real change made)
(6 real changes made)
(1 real change made)
(note: file ../temp/estimates_sh_residents_underHS.dta not found)
file ../temp/estimates_sh_residents_underHS.dta saved

 ( 1)  D.mw_wkp_tot_15_avg + D.mw_res_avg = 0

------------------------------------------------------------------------------
D.           |
sh_residen~S |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0022211   .0100516     0.22   0.825    -.0175057    .0219479
------------------------------------------------------------------------------

 ( 1)  D.mw_wkp_tot_15_avg + LD.mw_wkp_tot_15_avg + D.mw_res_avg = 0

------------------------------------------------------------------------------
D.           |
sh_residen~S |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |  -.0263025   .0047176    -5.58   0.000    -.0355611   -.0170439
------------------------------------------------------------------------------

 ( 1)  D.mw_wkp_tot_15_avg + LD.mw_wkp_tot_15_avg + L2D.mw_wkp_tot_15_avg +
       D.mw_res_avg = 0

------------------------------------------------------------------------------
D.           |
sh_residen~S |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |  -.0112153   .0076799    -1.46   0.145    -.0262874    .0038568
------------------------------------------------------------------------------
number of observations will be reset to 4
Press any key to continue, or Break to abort
number of observations (_N) was 0, now 4
(note: file ../temp/estimates_sh_residents_underHS_sumsum_from0.dta not found)
file ../temp/estimates_sh_residents_underHS_sumsum_from0.dta saved
(note: variable at was byte, now float to accommodate using data's values)
file ../temp/estimates_sh_residents_underHS.dta saved
(note: file ../temp/estimates_sh_residents_underHS.csv not found)
file ../temp/estimates_sh_residents_underHS.csv saved
(dropped 684 singleton observations)
(MWFE estimator converged in 9 iterations)

HDFE Linear regression                            Number of obs   =    134,426
Absorbing 2 HDFE groups                           F(  15,    919) =      14.12
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.1317
                                                  Adj R-squared   =    -0.1433
                                                  Within R-sq.    =     0.0003
Number of clusters (cbsa_num) =        920        Root MSE        =     0.0667

                             (Std. Err. adjusted for 920 clusters in cbsa_num)
------------------------------------------------------------------------------
D.           |               Robust
sh_workers~d |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
mw_~t_15_avg |
        F2D. |  -.0127331   .0099646    -1.28   0.202    -.0322891    .0068228
         FD. |   .0143652   .0080441     1.79   0.074    -.0014217     .030152
         D1. |   -.084797    .045385    -1.87   0.062    -.1738672    .0042733
         LD. |   .0208855   .0113305     1.84   0.066    -.0013512    .0431222
        L2D. |   .0342681   .0248231     1.38   0.168    -.0144485    .0829848
             |
  mw_res_avg |
         D1. |   .0727147   .0413714     1.76   0.079    -.0084786     .153908
             |
ln_emp_biz~v |
         D1. |   .0039531   .0024269     1.63   0.104    -.0008097     .008716
             |
 ln_emp_info |
         D1. |  -.0019019   .0010419    -1.83   0.068    -.0039467    .0001429
             |
  ln_emp_fin |
         D1. |   -.003842   .0031956    -1.20   0.230    -.0101136    .0024295
             |
ln_estcou~rv |
         D1. |   .0009362   .0020425     0.46   0.647    -.0030723    .0049447
             |
ln_estcoun~o |
         D1. |   .0053944   .0014994     3.60   0.000     .0024519     .008337
             |
ln_estcoun~n |
         D1. |  -.0047748   .0047277    -1.01   0.313    -.0140532    .0045035
             |
ln_avgwwa~rv |
         D1. |  -.0007952    .001192    -0.67   0.505    -.0031345     .001544
             |
ln_avgwwag~o |
         D1. |   .0054213   .0015179     3.57   0.000     .0024424    .0084002
             |
ln_avgwwag~n |
         D1. |  -.0031669   .0023006    -1.38   0.169    -.0076819    .0013481
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------+
     Absorbed FE | Categories  - Redundant  = Num. Coefs |
-----------------+---------------------------------------|
     zipcode_num |     27779       27779           0    *|
   cbsa_num#year |      4536        4536           0    *|
---------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

 ( 1)  FD.mw_wkp_tot_15_avg = 0
 ( 2)  F2D.mw_wkp_tot_15_avg = 0

       F(  2,   919) =    4.30
            Prob > F =    0.0138
file ../temp/estimates.dta saved
(318,254 observations deleted)
(0 observations deleted)
(1 missing value generated)
(1 real change made)
(6 real changes made)
(1 real change made)
(note: file ../temp/estimates_sh_workers_accomm_food.dta not found)
file ../temp/estimates_sh_workers_accomm_food.dta saved

 ( 1)  D.mw_wkp_tot_15_avg + D.mw_res_avg = 0

------------------------------------------------------------------------------
D.           |
sh_workers~d |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |  -.0120823   .0131332    -0.92   0.358    -.0378569    .0136923
------------------------------------------------------------------------------

 ( 1)  D.mw_wkp_tot_15_avg + LD.mw_wkp_tot_15_avg + D.mw_res_avg = 0

------------------------------------------------------------------------------
D.           |
sh_workers~d |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0088032   .0143276     0.61   0.539    -.0193154    .0369217
------------------------------------------------------------------------------

 ( 1)  D.mw_wkp_tot_15_avg + LD.mw_wkp_tot_15_avg + L2D.mw_wkp_tot_15_avg +
       D.mw_res_avg = 0

------------------------------------------------------------------------------
D.           |
sh_workers~d |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0430713   .0357171     1.21   0.228    -.0270252    .1131678
------------------------------------------------------------------------------
number of observations will be reset to 4
Press any key to continue, or Break to abort
number of observations (_N) was 0, now 4
(note: file ../temp/estimates_sh_workers_accomm_food_sumsum_from0.dta not found
> )
file ../temp/estimates_sh_workers_accomm_food_sumsum_from0.dta saved
(note: variable at was byte, now float to accommodate using data's values)
file ../temp/estimates_sh_workers_accomm_food.dta saved
(note: file ../temp/estimates_sh_workers_accomm_food.csv not found)
file ../temp/estimates_sh_workers_accomm_food.csv saved
(10 missing values generated)
(note: variable model was str20, now str22 to accommodate using data's
       values)
(note: file ../output/estimates_static.dta not found)
file ../output/estimates_static.dta saved
(note: file ../output/estimates_static.csv not found)
file ../output/estimates_static.csv saved

. 
end of do-file


Execute:  R CMD BATCH --no-save "./table.R" table.Rout

R version 4.1.2 (2021-11-01) -- "Bird Hippie"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> remove(list = ls())
> 
> library(data.table)
> 
> main <- function() {
+   instub <- "../output"
+   outstub <- "../output/"
+   
+   est <- fread(file.path(instub, "estimates_static.csv"))
+   est_var <- est[var != "cumsum_from0"]
+   est_var <- est_var[at  ==0]
+   
+   txt <- c("<tab:share_migration>")
+   
+   txt <- c(txt, 
+            paste(est_var[model == "sh_workers_under1250" & var == "mw_wkp_tot_15_avg"]$b, 
+                  est_var[model == "sh_residents_underHS" & var == "mw_wkp_tot_15_avg"]$b,
+                  est_var[model == "sh_workers_accomm_food" & var == "mw_wkp_tot_15_avg"]$b, sep = "\t"), 
+            paste(est_var[model == "sh_workers_under1250" & var == "mw_wkp_tot_15_avg"]$se, 
+                  est_var[model == "sh_residents_underHS" & var == "mw_wkp_tot_15_avg"]$se,
+                  est_var[model == "sh_workers_accomm_food" & var == "mw_wkp_tot_15_avg"]$se, sep = "\t"))
+   
+   txt <- c(txt, 
+            paste(est_var[model == "sh_workers_under1250"   & var == "mw_res_avg"]$b, 
+                  est_var[model == "sh_residents_underHS"   & var == "mw_res_avg"]$b,
+                  est_var[model == "sh_workers_accomm_food" & var == "mw_res_avg"]$b, sep = "\t"), 
+            paste(est_var[model == "sh_workers_under1250"   & var == "mw_res_avg"]$se, 
+                  est_var[model == "sh_residents_underHS"   & var == "mw_res_avg"]$se,
+                  est_var[model == "sh_workers_accomm_food" & var == "mw_res_avg"]$se, sep = "\t"))
+   txt <- c(txt, 
+            paste(est_var[model == "sh_workers_under1250"   & var == "mw_res_avg"]$r2, 
+                  est_var[model == "sh_residents_underHS"   & var == "mw_res_avg"]$r2,
+                  est_var[model == "sh_workers_accomm_food" & var == "mw_res_avg"]$r2, sep = "\t"), 
+            paste(est_var[model == "sh_workers_under1250"   & var == "mw_res_avg"]$N, 
+                  est_var[model == "sh_residents_underHS"   & var == "mw_res_avg"]$N,
+                  est_var[model == "sh_workers_accomm_food" & var == "mw_res_avg"]$N, sep = "\t"))
+   
+   fileConn <- file(file.path(outstub, "share_migration.txt"))
+   writeLines(txt, fileConn)
+   close(fileConn)
+ }
> 
> main()
> 
> proc.time()
   user  system elapsed 
   0.42    0.17    0.59 

 make.py ended: 2022-05-12 16:49:32
