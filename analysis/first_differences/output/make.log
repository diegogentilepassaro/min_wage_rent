
 make.py started: 2020-12-11 13:37:00 C:\Users\shermo\Documents\GitHub\min_wage_rent\analysis\first_differences\code 




Execute:  StataMP-64 /e do "./preclean.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./preclean.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. set maxvar 32000 


. 
. program main
  1.         local instub "../../../drive/derived_large/output"
  2.         local outstub "../temp"
  3.         local logfile "../output/data_file_manifest.log"
  4. 
.         use "`instub'/baseline_rent_panel.dta", clear 
  5.         keep zipcode place_code msa countyfips statefips                  
>                                               ///
>                 year_month calendar_month trend trend_sq trend_cu            
>                                            ///
>                 dactual_mw actual_mw medrentpricepsqft_*                     
>                                    ///
>                 med_hhinc20105 renthouse_share2010 white_share2010 black_shar
> e2010 lo_hhinc_share20105          ///
>                 college_share20105 work_county_share20105 unemp_share20105 te
> en_share2010   ///
>                 estcount_* avgwwage_* emp_* u1*                              
>                ///
>                 walall_29y_lowinc_ssh halall_29y_lowinc_ssh walall_29y_lowinc
> _zsh halall_29y_lowinc_zsh
  6. 
.         
. 
.         local het_vars "med_hhinc20105 unemp_share20105 college_share20105 bl
> ack_share2010"
  7.         local het_vars "`het_vars' renthouse_share2010 teen_share2010 work
> _county_share20105 lo_hhinc_share20105"
  8.         local het_vars "`het_vars' walall_29y_lowinc_ssh halall_29y_lowinc
> _ssh walall_29y_lowinc_zsh halall_29y_lowinc_zsh" 
  9.  
. 
.         create_vars,    log_vars(actual_mw medrentpricepsqft_sfcc emp_* estco
> unt_* avgwwage_* u1*)      ///
>                                         heterogeneity_vars(`het_vars')
 10.         
.         simplify_varnames
 11. 
.         xtset zipcode year_month
 12.         gen d_ln_mw = D.ln_mw
 13. 
.         save_data "`outstub'/fd_rent_panel.dta", key(zipcode year_month) repl
> ace log(`logfile')
 14. end

. 
. program create_vars
  1.         syntax, log_vars(str) heterogeneity_vars(str)
  2. 
.         local log_vars_expanded "" 
  3.         foreach v in `log_vars' {
  4.                 unab this_var: `v'
  5.                 local log_vars_expanded `"`log_vars_expanded' `this_var'"'
  6.         }
  7.         unab bpsvars: u1*
  8.         foreach var in `bpsvars' {
  9.                 replace `var' = 1 + `var'
 10.         }
 11.         foreach var in `log_vars_expanded' {
 12.                 gen ln_`var' = ln(`var')
 13.         }
 14. 
.         gen nonwhite_share2010 = 1 - white_share2010
 15.         
.         gen trend_times2 = 2*trend
 16. 
.         foreach var in `heterogeneity_vars' {
 17. 
.                 gquantiles `var'_nat_qtl = `var', xtile nq(4)
 18. 
.                 gquantiles `var'_st_qtl  = `var', xtile nq(4) by(statefips)
 19.         }
 20. end

. 
. program simplify_varnames
  1.         
.         cap rename ln_actual_mw                  ln_mw 
  2.         cap rename ln_medrentpricepsqft_sfcc     ln_med_rent_psqft_sfcc
  3.         cap rename ln_medrentpricepsqft_2br      ln_med_rent_psqft_2br
  4.         cap rename ln_medrentpricepsqft_mfr5plus ln_med_rent_psqft_mfr5plu
> s
  5. 
. end

. 
. main
(136,332 real changes made)
(136,332 real changes made)
(136,332 real changes made)
(136,332 real changes made)
(136,332 real changes made)
(136,332 real changes made)
(43,225 missing values generated)
(4,266 missing values generated)
(5,523 missing values generated)
(4,266 missing values generated)
(4,266 missing values generated)
(4,302 missing values generated)
(4,995 missing values generated)
(4,266 missing values generated)
(7,515 missing values generated)
(5,544 missing values generated)
(7,224 missing values generated)
(7,704 missing values generated)
(4,266 missing values generated)
(4,266 missing values generated)
(4,266 missing values generated)
(4,266 missing values generated)
(4,266 missing values generated)
(4,266 missing values generated)
(4,266 missing values generated)
(4,266 missing values generated)
(4,266 missing values generated)
(4,266 missing values generated)
(4,791 missing values generated)
(4,473 missing values generated)
(4,266 missing values generated)
(4,266 missing values generated)
(5,523 missing values generated)
(4,266 missing values generated)
(4,266 missing values generated)
(4,302 missing values generated)
(4,995 missing values generated)
(4,266 missing values generated)
(7,515 missing values generated)
(5,544 missing values generated)
(7,224 missing values generated)
(7,704 missing values generated)
(4,266 missing values generated)
(20,637 missing values generated)
(20,637 missing values generated)
(20,791 missing values generated)
(20,422 missing values generated)
(20,422 missing values generated)
(20,632 missing values generated)
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(1,305 missing values generated)
(data already sorted by zipcode year_month)
  variable trend_times2 was float now int
  (313,200 bytes saved)
============================================================================
File: ../temp/fd_rent_panel.dta
Key: zipcode year_month
============================================================================
  156600:141(89075):3015688254:2417507867

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    156,600    51920.57    29185.78       2113      99577
  year_month |    156,600       659.5    34.63992        600        719
  place_code |    129,840    40657.65    22564.03        410      87240
  countyfips |    156,240    24077.04    16484.28       1003      56021
   statefips |    156,600    23.97854    16.42626          1         56
-------------+---------------------------------------------------------
   actual_mw |    156,600     8.07779    1.207718       7.25         16
  dactual_mw |    156,600    .0151444    .1128807      -2.85       2.21
calendar_m~h |    156,600         6.5    3.452064          1         12
         msa |    156,600    436.1801    240.1675         12        860
       trend |    156,600       225.5    34.63992        166        285
-------------+---------------------------------------------------------
    trend_sq |    156,600    52050.17    15659.42      27556      81225
    trend_cu |    156,600    1.23e+07     5408203    4574296   2.31e+07
medrentpri~c |    113,375    1.188344    .7824813   .4180214   6.731387
medrentpri~r |     24,789     1.84165    .9184999   .5015197   6.499599
medrentpri~s |     37,588    1.842276    1.001968   .5106889    6.48415
-------------+---------------------------------------------------------
white_s~2010 |    156,600    .5392018    .2225559   .0037838   .9401773
black_s~2010 |    156,600     .165993    .2003044    .003148   .9753076
teen_sh~2010 |    156,600    .1391686    .0481773   .0154552   .6235335
renthou~2010 |    156,600    .3834818     .176359   .0644567   .9662035
work_c~20105 |    156,600    .7557563    .2036341   .1421741    .995271
-------------+---------------------------------------------------------
colleg~20105 |    156,600    .4447718    .1662964   .0856991   .9082218
lo_hhi~20105 |    156,600    .3743405    .1445378    .044164   .8265983
unemp_~20105 |    156,600    .0918395    .0398028   .0211286   .3417086
med_hh~20105 |    156,600    66919.72    24575.33   20527.66   191553.2
estcount_b~v |    152,334    9999.109    9479.666         60      56758
-------------+---------------------------------------------------------
avgwwage_b~v |    152,334    1252.943     434.753        226       4727
 emp_bizserv |    152,334    134280.4    143863.4        329     640795
estcount_c~t |    152,334    3240.845    2964.949         35      17066
avgwwage_c~t |    152,334    1101.682    300.2516          0       2610
   emp_const |    152,334    33961.34    34828.34          0     173791
-------------+---------------------------------------------------------
estcount_e~e |    152,334    8227.076     21233.7         48     245237
avgwwage_e~e |    152,334    941.4742    149.2963        415       1975
   emp_eduhe |    152,334    115818.9    123147.9        481     832830
estcount_f~v |    152,334    114.6276    78.41071          3        456
avgwwage_f~v |    152,334    1433.107    237.0973        654       2724
-------------+---------------------------------------------------------
  emp_fedgov |    152,334    13996.36    16476.49         42     215436
estcount_fin |    152,334    5103.827    5200.065         31      30405
avgwwage_fin |    152,334    1561.778    965.2728          0       9557
     emp_fin |    152,334    59554.22    75796.09          0     397839
estcount_i~o |    152,334    920.5367    1381.953          4      13271
-------------+---------------------------------------------------------
avgwwage_i~o |    152,334    1505.066    619.8231          0       7380
    emp_info |    152,334     21041.8    35131.53          0     238776
estcount_l~s |    152,334     4278.02    4708.982         27      39458
avgwwage_l~s |    152,334    446.7155    134.2174        203       1131
    emp_leis |    152,334    93083.36    93941.89        279     551950
-------------+---------------------------------------------------------
estcount_l~v |    152,334    307.0999    500.6009          1       4213
avgwwage_l~v |    152,334     961.066    234.2175          0       2042
  emp_locgov |    152,334    72440.11     83733.3          0     463616
estcount_m~u |    152,334    1585.705    1954.571         10      13469
avgwwage_m~u |    152,334    1272.821    396.7011          0       4970
-------------+---------------------------------------------------------
    emp_manu |    152,334    47066.83    62216.94          0     376653
estcount_n~s |    151,809    211.8503    322.4773          1       1859
avgwwage_n~s |    151,809     1133.13    862.1372          0       8606
  emp_natres |    151,809    5209.702    14255.94          0      97846
estcount_s~v |    152,127    140.9174    411.2392          1       5969
-------------+---------------------------------------------------------
avgwwage_s~v |    152,127    1014.599    299.7829          0       2572
   emp_stgov |    152,127    15702.68     16274.8          0     114555
estcount_t~p |    152,334    9407.097    9423.344         84      59615
avgwwage_t~p |    152,334    861.6176    200.9456        356       3193
  emp_transp |    152,334    143870.8    144966.3        629     872187
-------------+---------------------------------------------------------
    u1_bldgs |    136,332    274.6464    358.5711      -1621       2688
    u1_units |    136,332    274.6464    358.5711      -1621       2688
    u1_value |    136,332    6.74e+07    8.85e+07  -1.35e+08   6.43e+08
 u1rep_bldgs |    136,332    262.2207    357.1151       -477       3759
 u1rep_units |    136,332    262.2207    357.1151       -477       3759
-------------+---------------------------------------------------------
 u1rep_value |    136,332    6.48e+07    8.80e+07  -1.32e+08   8.74e+08
walall_2~zsh |    156,240    .1083971     .038474    .016846   .2689381
walall_2~ssh |    156,240    .0047145    .0069488   .0001284   .0780198
halall_2~zsh |    156,480    .0884494    .0230536   .0226725   .2311187
halall_2~ssh |    156,480    .0047388    .0068154   .0000821   .1035602
-------------+---------------------------------------------------------
       ln_mw |    156,600    2.079602    .1327775   1.981001   2.772589
ln_med_ren~c |    113,375    .0472541    .4493362  -.8722228   1.906781
ln_emp_biz~v |    152,334     11.1079    1.386833   5.796058   13.37047
ln_emp_const |    151,077    9.898243    1.163929    5.31812   12.06561
ln_emp_eduhe |    152,334    11.04979    1.265752   6.175867   13.63258
-------------+---------------------------------------------------------
ln_emp_fed~v |    152,334    8.916783    1.366298    3.73767   12.28042
  ln_emp_fin |    152,298     10.1951    1.453844   4.454347    12.8938
 ln_emp_info |    151,605    9.006354    1.549054   2.397895   12.38328
 ln_emp_leis |    152,334    10.86029    1.201423   5.631212   13.22121
ln_emp_loc~v |    149,085    10.64621    1.126278   7.035269   13.04681
-------------+---------------------------------------------------------
 ln_emp_manu |    151,056    10.03149    1.300125   4.543295   12.83908
ln_emp_nat~s |    149,376    6.965424    1.822514   .6931472   11.49115
ln_emp_stgov |    148,896    9.034368    1.379967   3.433987   11.64881
ln_emp_tra~p |    152,334    11.32724     1.17516   6.444131   13.67876
ln_estcou~rv |    152,334    8.631197    1.247367   4.094345   10.94655
-------------+---------------------------------------------------------
ln_estcoun~t |    152,334    7.635146     1.03843   3.555348   9.744843
ln_estcoun~e |    152,334    8.181607    1.281123   3.871201   12.40998
ln_estc~dgov |    152,334    4.473625    .8084444   1.098612   6.122493
ln_estcoun~n |    152,334    7.954898    1.209698   3.433987   10.32236
ln_estcoun~o |    152,334    6.071164    1.338014   1.386294   9.493337
-------------+---------------------------------------------------------
ln_estcou~is |    152,334    7.826022    1.132301   3.295837   10.58299
ln_estc~cgov |    152,334    5.011076    1.182188          0    8.34593
ln_estcoun~u |    152,334    6.723795    1.232672   2.302585   9.508146
ln_estcou~es |    151,809    4.487069    1.396346          0   7.527794
ln_estc~tgov |    152,127    4.153889    1.108505          0   8.694335
-------------+---------------------------------------------------------
ln_estcoun~p |    152,334    8.611839    1.149419   4.430817   10.99566
ln_avgwwa~rv |    152,334    7.078706    .3263035   5.420535   8.461046
ln_avgwwag~t |    151,077    6.982886    .2416808   6.122493   7.867105
ln_avgwwag~e |    152,334    6.835008    .1581563   6.028278   7.588324
ln_avgw~dgov |    152,334    7.254022    .1652383   6.483108   7.909857
-------------+---------------------------------------------------------
ln_avgwwag~n |    152,298    7.248893    .4144532   6.180017    9.16503
ln_avgwwag~o |    151,605    7.255309    .3551167   5.888878   8.906528
ln_avgwwa~is |    152,334    6.062217    .2759297   5.313206   7.030858
ln_avgw~cgov |    149,085    6.872029    .1862849    6.05444   7.621685
ln_avgwwag~u |    151,056    7.120257    .2655766   6.139884   8.511175
-------------+---------------------------------------------------------
ln_avgwwa~es |    149,376    6.864454    .5646283   5.384495   9.060215
ln_avgw~tgov |    148,896    6.912519    .2494281   6.001415   7.852439
ln_avgwwag~p |    152,334     6.73349    .2227761   5.874931   8.068716
 ln_u1_bldgs |    135,963    4.775056    1.589248          0   7.896553
 ln_u1_units |    135,963    4.775056    1.589248          0   7.896553
-------------+---------------------------------------------------------
 ln_u1_value |    135,809    16.64258    3.649391          0   20.28197
ln_u1rep_b~s |    136,178    4.599205    1.755203          0   8.231908
ln_u1rep_u~s |    136,178    4.599205    1.755203          0   8.231908
ln_u1rep_v~e |    135,968    16.17866    4.454632          0   20.58904
nonwhit~2010 |    156,600    .4607982    .2225559   .0598227   .9962162
-------------+---------------------------------------------------------
trend_times2 |    156,600         451    69.27985        332        570
med_h~at_qtl |    156,600    2.498851     1.11838          1          4
med_h~st_qtl |    156,600    2.467433    1.120644          1          4
unemp~at_qtl |    156,600    2.498851     1.11838          1          4
unemp~st_qtl |    156,600    2.467433    1.120644          1          4
-------------+---------------------------------------------------------
colle~at_qtl |    156,600    2.498851     1.11838          1          4
colle~st_qtl |    156,600    2.467433    1.120644          1          4
black~at_qtl |    156,600    2.498851     1.11838          1          4
black~st_qtl |    156,600    2.467433    1.120644          1          4
renth~at_qtl |    156,600    2.498851     1.11838          1          4
-------------+---------------------------------------------------------
renth~st_qtl |    156,600    2.467433    1.120644          1          4
teen_~at_qtl |    156,600    2.498851     1.11838          1          4
teen_~st_qtl |    156,600    2.467433    1.120644          1          4
work_~at_qtl |    156,600    2.498851     1.11838          1          4
work_~st_qtl |    156,600    2.467433    1.120644          1          4
-------------+---------------------------------------------------------
lo_hh~at_qtl |    156,600    2.498851     1.11838          1          4
lo_hh~st_qtl |    156,600    2.467433    1.120644          1          4
walall_29y.. |    156,240    2.499232    1.118037          1          4
w~ssh_st_qtl |    156,240    2.469278    1.120361          1          4
halall_29y.. |    156,480         2.5    1.118038          1          4
-------------+---------------------------------------------------------
h~ssh_st_qtl |    156,480    2.468558    1.120337          1          4
walall_29y.. |    156,240    2.499232    1.118037          1          4
w~zsh_st_qtl |    156,240    2.469278    1.120361          1          4
halall_29y.. |    156,480         2.5    1.118038          1          4
h~zsh_st_qtl |    156,480    2.468558    1.120337          1          4
-------------+---------------------------------------------------------
     d_ln_mw |    155,295    .0016445    .0119584   -.290338   .2412503




(note: file ../temp/fd_rent_panel.dta not found)
file ../temp/fd_rent_panel.dta saved

. 
end of do-file


Execute:  StataMP-64 /e do "./estimates.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./estimates.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. set maxvar 32000


. 
. program main
  1.         local instub "../temp"
  2.         local outstub "../output"
  3. 
.         use "`instub'/fd_rent_panel.dta", clear
  4. 
.         make_results_labels, w(5)
  5.         local estlabels_dyn "`r(estlabels_dyn)'"
  6.         local estlabels_static "`r(estlabels_static)'"
  7. 
.         * Static Model
.         run_static_model, depvar(ln_med_rent_psqft_sfcc) absorb(year_month) c
> luster(statefips)
  8.         esttab * using "`outstub'/fd_table.tex", keep(D.ln_mw) compress se
>  replace substitute(\_ _) ///
>                 b(%9.4f) se(%9.4f) coeflabels(`estlabels_static') ///
>                 stats(space ctrl_wage ctrl_emp ctrl_estab r2 N, fmt(%s1 %s3 %
> s3 %s3 %9.3f %9.0gc) ///
>                 labels("\vspace{-2mm}" "Wage controls" "Employment controls" 
> "Establishment-count controls" ///
>                         "R-squared" "Observations")) star(* 0.10 ** 0.05 *** 
> 0.01) ///
>                 nonote nomtitles
  9. 
.         run_static_model_trend, depvar(ln_med_rent_psqft_sfcc) absorb(year_mo
> nth) cluster(statefips) control(yes)
 10.         esttab * using "`outstub'/fd_table_trend.tex", keep(D.ln_mw) compr
> ess se replace substitute(\_ _)       ///
>                 b(%9.4f) se(%9.4f) coeflabels(`estlabels_static') ///
>                 stats(space zs_trend zs_trend_sq econ_con r2 N, fmt(%s1 %s3 %
> s3 %s3 %9.3f %9.0gc) ///
>                 labels("\vspace{-2mm}" "Zipcode-specifc linear trend" "Zipcod
> e-specific quadratic trend" ///
>                         "Local economy controls" "R-squared" "Observations"))
>  star(* 0.10 ** 0.05 *** 0.01) nonote nomtitles
 11. 
.         * Dynamic Model
.         run_dynamic_model, depvar(ln_med_rent_psqft_sfcc) absorb(year_month) 
> ///
>                 cluster(statefips)
 12.         esttab reg_1 reg_2 reg_3 reg_4 reg_5 using "`outstub'/fd_dynamic_t
> able.tex", ///
>                 keep(*.ln_mw) compress se replace substitute(\_ _) ///
>                 b(%9.4f) se(%9.4f) coeflabels(`estlabels_dyn') ///
>                 stats(k cumsum_b cumsum_V k p_value_F ctrl_wage ctrl_emp ctrl
> _estab r2 N, ///
>                         fmt(%s1 %s7 %s7 %s1 %9.3f %s3 %s3 %s3 %9.3f %9.0gc) /
> //
>                 labels("\vspace{-2mm}" "Cumulative effect" " " "\hline" "P-va
> lue no pretrends" ///
>                         "Wage controls" "Employment controls" "Establishment-
> count controls"  ///
>                         "R-squared" "Observations")) ///
>                 star(* 0.10 ** 0.05 *** 0.01) nonote nomtitles
 13. end

. 
. program run_static_model
  1.         syntax, depvar(str) absorb(str) cluster(str)
  2. 
.         eststo clear
  3. 
.         define_controls
  4.         local emp_ctrls "`r(emp_ctrls)'"
  5.         local estcount_ctrls "`r(estcount_ctrls)'"
  6.         local avgwwage_ctrls "`r(avgwwage_ctrls)'"
  7. 
.         eststo: reghdfe D.`depvar' D.ln_mw,     absorb(`absorb') vce(cluster 
> `cluster') nocons
  8.         comment_table_control, emp("No") estab("No") wage("No") housing("N
> o")
  9.         estadd local space ""
 10. 
.         scalar static_effect = _b[D.ln_mw]
 11.         scalar static_effect_se = _se[D.ln_mw]
 12. 
.         eststo: reghdfe D.`depvar' D.ln_mw D.(`avgwwage_ctrls'), absorb(`abso
> rb' zipcode) vce(cluster `cluster') nocons
 13.         comment_table_control, emp("No") estab("No") wage("Yes") housing("
> No")
 14.         estadd local space ""
 15. 
.         eststo: reghdfe D.`depvar' D.ln_mw D.(`emp_ctrls'), absorb(`absorb') 
> vce(cluster `cluster') nocons
 16.         comment_table_control, emp("Yes") estab("No") wage("No") housing("
> No")
 17.         estadd local space ""
 18. 
.         eststo: reghdfe D.`depvar' D.ln_mw D.(`estcount_ctrls'), absorb(`abso
> rb') vce(cluster `cluster') nocons
 19.         comment_table_control, emp("No") estab("Yes") wage("No") housing("
> No")
 20.         estadd local space ""
 21. 
.         eststo: reghdfe D.`depvar' D.ln_mw D.(`avgwwage_ctrls') D.(`emp_ctrls
> ') D.(`estcount_ctrls'), ///
>                 absorb(`absorb') vce(cluster `cluster') nocons
 22.         comment_table_control, emp("Yes") estab("Yes") wage("Yes") housing
> ("No")
 23.         estadd local space ""
 24. end 

. 
. program run_static_model_trend
  1.         syntax, depvar(str) absorb(str) cluster(str) [control(str)]
  2. 
.         define_controls
  3.         local emp_ctrls "`r(emp_ctrls)'"
  4.         local estcount_ctrls "`r(estcount_ctrls)'"
  5.         local avgwwage_ctrls "`r(avgwwage_ctrls)'"
  6.         local controls `"`emp_ctrls' `estcount_ctrls' `avgwwage_ctrls'"'
  7. 
.         eststo clear
  8.         eststo: reghdfe D.`depvar' D.ln_mw, ///
>                 vce(cluster `cluster') nocons absorb(`absorb') 
  9.         comment_table, trend_lin("No") trend_sq("No") econ_con("No")
 10.         estadd local space ""
 11. 
.         eststo: reghdfe D.`depvar' D.ln_mw,     ///
>                 vce(cluster `cluster') nocons absorb(`absorb' i.zipcode) 
 12.         comment_table, trend_lin("Yes") trend_sq("No") econ_con("No")
 13.         estadd local space ""
 14. 
.         eststo: reghdfe D.`depvar' D.ln_mw, ///
>                 vce(cluster `cluster') nocons absorb(`absorb' i.zipcode c.tre
> nd_times2#i.zipcode) 
 15.         comment_table, trend_lin("Yes") trend_sq("Yes") econ_con("No")
 16.         estadd local space ""
 17. 
.         if "`control'"=="yes" {
 18.                 eststo: reghdfe D.`depvar' D.ln_mw D.(`controls'), ///
>                         vce(cluster `cluster') nocons absorb(`absorb') 
 19.                 comment_table, trend_lin("No") trend_sq("No") econ_con("Ye
> s")
 20.                 estadd local space ""
 21. 
.                 eststo: reghdfe D.`depvar' D.ln_mw D.(`controls'),      ///
>                         vce(cluster `cluster') nocons absorb(`absorb' i.zipco
> de) 
 22.                 comment_table, trend_lin("Yes") trend_sq("No") econ_con("Y
> es")
 23.                 estadd local space ""
 24. 
.                 eststo: reghdfe D.`depvar' D.ln_mw D.(`controls'), ///
>                         vce(cluster `cluster') nocons absorb(`absorb' i.zipco
> de c.trend_times2#i.zipcode) 
 25.                 comment_table, trend_lin("Yes") trend_sq("Yes") econ_con("
> Yes")
 26.                 estadd local space ""
 27.         }
 28. end

. 
. program run_dynamic_model
  1.         syntax, depvar(str) absorb(str) cluster(str) [w(int 5) t_plot(real
>  1.645) offset(real 0.09)]
  2. 
.         eststo clear
  3.         define_controls
  4.         local emp_ctrls "`r(emp_ctrls)'"
  5.         local estcount_ctrls "`r(estcount_ctrls)'"
  6.         local avgwwage_ctrls "`r(avgwwage_ctrls)'"
  7. 
.         local lincomest_coeffs "D1.ln_mw + LD.ln_mw"
  8.         local pretrend_test "(F1D.ln_mw = 0)"
  9.         forvalues i = 2(1)`w'{
 10.                 local lincomest_coeffs "`lincomest_coeffs' + L`i'D.ln_mw"
 11.             local pretrend_test " `pretrend_test' (F`i'D.ln_mw = 0)"
 12.         }
 13. 
.         eststo clear
 14.         eststo reg_1: reghdfe D.`depvar' L(-`w'/`w').D.ln_mw, absorb(`abso
> rb') vce(cluster `cluster') nocons
 15.         comment_table_control, emp("No") estab("No") wage("No") housing("N
> o")
 16.         
.         test `pretrend_test'
 17.         estadd scalar p_value_F = r(p)
 18.         estadd local k ""
 19. 
.         add_cumsum, coefficients(`lincomest_coeffs') i(1)
 20. 
.         eststo reg_2: reghdfe D.`depvar' L(-`w'/`w').D.ln_mw D.(`avgwwage_ctr
> ls') `if', ///
>                 absorb(`absorb') vce(cluster `cluster') nocons
 21.         comment_table_control, emp("No") estab("No") wage("Yes") housing("
> No")
 22. 
.         test `pretrend_test'
 23.         estadd scalar p_value_F = r(p)
 24.         estadd local k ""
 25. 
.         add_cumsum, coefficients(`lincomest_coeffs') i(2)
 26. 
.         eststo reg_3: reghdfe D.`depvar' L(-`w'/`w').D.ln_mw D.(`emp_ctrls') 
> `if', ///
>                 absorb(`absorb') vce(cluster `cluster') nocons
 27.         comment_table_control, emp("Yes") estab("No") wage("No") housing("
> No")
 28. 
.         test `pretrend_test'
 29.         estadd scalar p_value_F = r(p)
 30.         estadd local k ""
 31. 
.         add_cumsum, coefficients(`lincomest_coeffs') i(3)
 32. 
.         eststo reg_4: reghdfe D.`depvar' L(-`w'/`w').D.ln_mw `if' D.(`estcoun
> t_ctrls'), ///
>                 absorb(`absorb') vce(cluster `cluster') nocons
 33.         comment_table_control, emp("No") estab("Yes") wage("No") housing("
> No")
 34. 
.         test `pretrend_test'
 35.         estadd scalar p_value_F = r(p)
 36.         estadd local k ""
 37. 
.         add_cumsum, coefficients(`lincomest_coeffs') i(4)
 38. 
.         eststo reg_5: reghdfe D.`depvar' L(-`w'/`w').D.ln_mw ///
>                 D.(`avgwwage_ctrls') D.(`emp_ctrls') D.(`estcount_ctrls') `if
> ', ///
>                 absorb(`absorb') vce(cluster `cluster') nocons
 39.         comment_table_control, emp("Yes") estab("Yes") wage("Yes") housing
> ("No")
 40. 
.         test `pretrend_test'
 41.         estadd scalar p_value_F = r(p)
 42.         estadd local k ""
 43. 
.         add_cumsum, coefficients(`lincomest_coeffs') i(5)
 44. end

. 
. program comment_table_control
  1.         syntax, emp(str) estab(str) wage(str) housing(str)
  2. 
.         estadd local ctrl_emp   "`emp'"
  3.         estadd local ctrl_estab "`estab'"
  4.         estadd local ctrl_wage  "`wage'"
  5.         estadd local ctrl_building "`housing'"
  6. end

. 
. program add_cumsum
  1.         syntax, coefficients(str) i(int)
  2.         lincomest `coefficients'
  3.         mat b = e(b)
  4.         mat V = e(V)
  5.         local b_digits = round(b[1,1], 0.001)
  6.         local se_digits = round(V[1,1]^.5, 0.001)
  7.         if abs(b[1,1]/(V[1,1]^.5)) > 1.96 {
  8.                 local star = "\sym{**}"
  9.         }
 10.         else if abs(b[1,1]/(V[1,1]^.5)) > 1.65 {
 11.                 local star = "\sym{*}"
 12.         }
 13.         else {
 14.                 local star = ""
 15.         }
 16. 
.         estadd local cumsum_b = "0`b_digits'`star'": reg_`i'
 17.         estadd local cumsum_V = "(0`se_digits')":  reg_`i'
 18.         *estadd scalar cumsum_V = V[1,1]^.5: reg_`i'
. end

. 
. program comment_table
  1.         syntax, trend_lin(str) trend_sq(str) econ_con(str)
  2. 
.         estadd local zs_trend           "`trend_lin'"
  3.         estadd local zs_trend_sq        "`trend_sq'"
  4.         estadd local econ_con       "`econ_con'"
  5. end

. 
. 
. main
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   1,     40) =       4.13
Statistics robust to heteroskedasticity           Prob > F        =     0.0488
                                                  R-squared       =     0.0218
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0260395   .0128154     2.03   0.049     .0001386    .0519404
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(est1 stored)

added macro:
           e(ctrl_emp) : "No"

added macro:
         e(ctrl_estab) : "No"

added macro:
          e(ctrl_wage) : "No"

added macro:
      e(ctrl_building) : "No"

added macro:
              e(space) : ""
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 2 HDFE groups                           F(   3,     40) =       1.90
Statistics robust to heteroskedasticity           Prob > F        =     0.1447
                                                  R-squared       =     0.0242
                                                  Adj R-squared   =     0.0127
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0244094   .0116307     2.10   0.042     .0009029    .0479158
             |
ln_avgwwag~o |
         D1. |   .0014249   .0018657     0.76   0.450    -.0023458    .0051956
             |
ln_avgwwag~n |
         D1. |   -.001451   .0013044    -1.11   0.273    -.0040872    .0011852
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
     zipcode |      1140        1140           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est2 stored)

added macro:
           e(ctrl_emp) : "No"

added macro:
         e(ctrl_estab) : "No"

added macro:
          e(ctrl_wage) : "Yes"

added macro:
      e(ctrl_building) : "No"

added macro:
              e(space) : ""
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 1 HDFE group                            F(   4,     40) =       3.88
Statistics robust to heteroskedasticity           Prob > F        =     0.0093
                                                  R-squared       =     0.0223
                                                  Adj R-squared   =     0.0212
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0257014   .0123819     2.08   0.044     .0006767    .0507262
             |
ln_emp_biz~v |
         D1. |    .005688    .004429     1.28   0.206    -.0032633    .0146394
             |
 ln_emp_info |
         D1. |   .0015007   .0044121     0.34   0.736    -.0074165    .0104178
             |
  ln_emp_fin |
         D1. |   .0142952   .0051363     2.78   0.008     .0039144     .024676
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
-----------------------------------------------------+
(est3 stored)

added macro:
           e(ctrl_emp) : "Yes"

added macro:
         e(ctrl_estab) : "No"

added macro:
          e(ctrl_wage) : "No"

added macro:
      e(ctrl_building) : "No"

added macro:
              e(space) : ""
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    108,511
Absorbing 1 HDFE group                            F(   4,     40) =       1.55
Statistics robust to heteroskedasticity           Prob > F        =     0.2060
                                                  R-squared       =     0.0222
                                                  Adj R-squared   =     0.0211
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0267722   .0125521     2.13   0.039     .0014035    .0521409
             |
ln_estcou~rv |
         D1. |   .0165518   .0140788     1.18   0.247    -.0119025    .0450062
             |
ln_estcoun~o |
         D1. |   .0043065   .0056479     0.76   0.450    -.0071083    .0157213
             |
ln_estcoun~n |
         D1. |   .0008065   .0096796     0.08   0.934    -.0187567    .0203697
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
-----------------------------------------------------+
(est4 stored)

added macro:
           e(ctrl_emp) : "No"

added macro:
         e(ctrl_estab) : "Yes"

added macro:
          e(ctrl_wage) : "No"

added macro:
      e(ctrl_building) : "No"

added macro:
              e(space) : ""
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 1 HDFE group                            F(   9,     40) =       2.26
Statistics robust to heteroskedasticity           Prob > F        =     0.0373
                                                  R-squared       =     0.0223
                                                  Adj R-squared   =     0.0212
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |    .025567    .012474     2.05   0.047     .0003561    .0507778
             |
ln_avgwwag~o |
         D1. |   .0013919   .0018369     0.76   0.453    -.0023206    .0051044
             |
ln_avgwwag~n |
         D1. |  -.0014928   .0012968    -1.15   0.257    -.0041138    .0011282
             |
ln_emp_biz~v |
         D1. |   .0048843   .0043705     1.12   0.270    -.0039488    .0137175
             |
 ln_emp_info |
         D1. |   .0013944   .0043386     0.32   0.750    -.0073742    .0101631
             |
  ln_emp_fin |
         D1. |   .0136885   .0054423     2.52   0.016     .0026891    .0246879
             |
ln_estcou~rv |
         D1. |   .0170306   .0138143     1.23   0.225    -.0108891    .0449504
             |
ln_estcoun~o |
         D1. |   .0040387   .0053888     0.75   0.458    -.0068524    .0149299
             |
ln_estcoun~n |
         D1. |  -.0010255   .0095541    -0.11   0.915     -.020335     .018284
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
-----------------------------------------------------+
(est5 stored)

added macro:
           e(ctrl_emp) : "Yes"

added macro:
         e(ctrl_estab) : "Yes"

added macro:
          e(ctrl_wage) : "Yes"

added macro:
      e(ctrl_building) : "No"

added macro:
              e(space) : ""
(note: file ../output/fd_table.tex not found)
(output written to ../output/fd_table.tex)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   1,     40) =       4.13
Statistics robust to heteroskedasticity           Prob > F        =     0.0488
                                                  R-squared       =     0.0218
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0260395   .0128154     2.03   0.049     .0001386    .0519404
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(est1 stored)

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"

added macro:
           e(econ_con) : "No"

added macro:
              e(space) : ""
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 2 HDFE groups                           F(   1,     40) =       4.56
Statistics robust to heteroskedasticity           Prob > F        =     0.0389
                                                  R-squared       =     0.0236
                                                  Adj R-squared   =     0.0125
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0256987   .0120325     2.14   0.039     .0013801    .0500173
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
     zipcode |      1143        1143           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est2 stored)

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"

added macro:
           e(econ_con) : "No"

added macro:
              e(space) : ""
(MWFE estimator converged in 31 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 3 HDFE groups                           F(   1,     40) =       4.79
Statistics robust to heteroskedasticity           Prob > F        =     0.0345
                                                  R-squared       =     0.0264
                                                  Adj R-squared   =     0.0051
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0282

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |    .025532   .0116619     2.19   0.034     .0019624    .0491016
------------------------------------------------------------------------------

Absorbed degrees of freedom:
----------------------------------------------------------------+
            Absorbed FE | Categories  - Redundant  = Num. Coefs |
------------------------+---------------------------------------|
             year_month |       118           0         118     |
                zipcode |      1143        1143           0    *|
 zipcode#c.trend_times2 |      1143           0        1143    ?|
----------------------------------------------------------------+
? = number of redundant parameters may be higher
* = FE nested within cluster; treated as redundant for DoF computation
(est3 stored)

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"

added macro:
           e(econ_con) : "No"

added macro:
              e(space) : ""
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 1 HDFE group                            F(   9,     40) =       2.26
Statistics robust to heteroskedasticity           Prob > F        =     0.0373
                                                  R-squared       =     0.0223
                                                  Adj R-squared   =     0.0212
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |    .025567    .012474     2.05   0.047     .0003561    .0507778
             |
ln_emp_biz~v |
         D1. |   .0048843   .0043705     1.12   0.270    -.0039488    .0137175
             |
 ln_emp_info |
         D1. |   .0013944   .0043386     0.32   0.750    -.0073742    .0101631
             |
  ln_emp_fin |
         D1. |   .0136885   .0054423     2.52   0.016     .0026891    .0246879
             |
ln_estcou~rv |
         D1. |   .0170306   .0138143     1.23   0.225    -.0108891    .0449504
             |
ln_estcoun~o |
         D1. |   .0040387   .0053888     0.75   0.458    -.0068524    .0149299
             |
ln_estcoun~n |
         D1. |  -.0010255   .0095541    -0.11   0.915     -.020335     .018284
             |
ln_avgwwag~o |
         D1. |   .0013919   .0018369     0.76   0.453    -.0023206    .0051044
             |
ln_avgwwag~n |
         D1. |  -.0014928   .0012968    -1.15   0.257    -.0041138    .0011282
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
-----------------------------------------------------+
(est4 stored)

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"

added macro:
           e(econ_con) : "Yes"

added macro:
              e(space) : ""
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 2 HDFE groups                           F(   9,     40) =       1.72
Statistics robust to heteroskedasticity           Prob > F        =     0.1163
                                                  R-squared       =     0.0242
                                                  Adj R-squared   =     0.0127
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |    .024575   .0117337     2.09   0.043     .0008602    .0482897
             |
ln_emp_biz~v |
         D1. |   .0031608   .0044796     0.71   0.485    -.0058927    .0122144
             |
 ln_emp_info |
         D1. |   .0008572   .0044348     0.19   0.848    -.0081059    .0098203
             |
  ln_emp_fin |
         D1. |   .0110609   .0059283     1.87   0.069    -.0009208    .0230425
             |
ln_estcou~rv |
         D1. |   .0139563   .0136596     1.02   0.313    -.0136507    .0415634
             |
ln_estcoun~o |
         D1. |   .0035988    .005232     0.69   0.496    -.0069755     .014173
             |
ln_estcoun~n |
         D1. |   -.004097   .0087183    -0.47   0.641    -.0217175    .0135234
             |
ln_avgwwag~o |
         D1. |   .0013458   .0018397     0.73   0.469    -.0023724    .0050641
             |
ln_avgwwag~n |
         D1. |  -.0015152   .0013015    -1.16   0.251    -.0041457    .0011153
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
     zipcode |      1140        1140           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est5 stored)

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"

added macro:
           e(econ_con) : "Yes"

added macro:
              e(space) : ""
(MWFE estimator converged in 31 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 3 HDFE groups                           F(   9,     40) =       1.81
Statistics robust to heteroskedasticity           Prob > F        =     0.0961
                                                  R-squared       =     0.0273
                                                  Adj R-squared   =     0.0051
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0282

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0239828   .0112356     2.13   0.039     .0012748    .0466909
             |
ln_emp_biz~v |
         D1. |   .0029847   .0045169     0.66   0.513    -.0061443    .0121138
             |
 ln_emp_info |
         D1. |   .0010773   .0044055     0.24   0.808    -.0078264    .0099811
             |
  ln_emp_fin |
         D1. |   .0111032   .0058025     1.91   0.063     -.000624    .0228304
             |
ln_estcou~rv |
         D1. |   .0116009   .0131587     0.88   0.383    -.0149938    .0381957
             |
ln_estcoun~o |
         D1. |   .0041853   .0053157     0.79   0.436    -.0065581    .0149287
             |
ln_estcoun~n |
         D1. |  -.0062486   .0075456    -0.83   0.413    -.0214988    .0090016
             |
ln_avgwwag~o |
         D1. |   .0012287   .0018246     0.67   0.505    -.0024591    .0049164
             |
ln_avgwwag~n |
         D1. |  -.0016404   .0013064    -1.26   0.217    -.0042807    .0009999
------------------------------------------------------------------------------

Absorbed degrees of freedom:
----------------------------------------------------------------+
            Absorbed FE | Categories  - Redundant  = Num. Coefs |
------------------------+---------------------------------------|
             year_month |       115           0         115     |
                zipcode |      1140        1140           0    *|
 zipcode#c.trend_times2 |      1140           0        1140    ?|
----------------------------------------------------------------+
? = number of redundant parameters may be higher
* = FE nested within cluster; treated as redundant for DoF computation
(est6 stored)

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"

added macro:
           e(econ_con) : "Yes"

added macro:
              e(space) : ""
(note: file ../output/fd_table_trend.tex not found)
(output written to ../output/fd_table_trend.tex)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    106,446
Absorbing 1 HDFE group                            F(  11,     40) =       5.26
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0222
                                                  Adj R-squared   =     0.0211
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0148356   .0090279    -1.64   0.108    -.0330816    .0034104
        F4D. |  -.0023735   .0115976    -0.20   0.839    -.0258131     .021066
        F3D. |   .0011058   .0091637     0.12   0.905    -.0174147    .0196264
        F2D. |   .0060276   .0115539     0.52   0.605    -.0173236    .0293788
         FD. |  -.0002217   .0122864    -0.02   0.986    -.0250534      .02461
         D1. |   .0270699   .0126282     2.14   0.038     .0015474    .0525925
         LD. |   .0135805    .007154     1.90   0.065    -.0008782    .0280392
        L2D. |  -.0070232   .0133453    -0.53   0.602     -.033995    .0199487
        L3D. |   .0036262   .0080799     0.45   0.656    -.0127038    .0199563
        L4D. |   .0107927   .0069339     1.56   0.127    -.0032212    .0248065
        L5D. |    .008621   .0068652     1.26   0.216    -.0052542    .0224961
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+

added macro:
           e(ctrl_emp) : "No"

added macro:
         e(ctrl_estab) : "No"

added macro:
          e(ctrl_wage) : "No"

added macro:
      e(ctrl_building) : "No"

 ( 1)  FD.ln_mw = 0
 ( 2)  F2D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F4D.ln_mw = 0
 ( 5)  F5D.ln_mw = 0

       F(  5,    40) =    0.78
            Prob > F =    0.5675

added scalar:
          e(p_value_F) =  .56754406

added macro:
                  e(k) : ""
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0566671   .0346332     1.64   0.110    -.0133293    .1266635
------------------------------------------------------------------------------
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    105,463
Absorbing 1 HDFE group                            F(  13,     40) =       5.21
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0223
                                                  Adj R-squared   =     0.0212
                                                  Within R-sq.    =     0.0003
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0144065   .0088991    -1.62   0.113    -.0323923    .0035792
        F4D. |  -.0019242   .0115642    -0.17   0.869    -.0252963    .0214478
        F3D. |   .0007678   .0093257     0.08   0.935    -.0180801    .0196157
        F2D. |    .006396   .0117653     0.54   0.590    -.0173825    .0301746
         FD. |  -.0003575    .012304    -0.03   0.977    -.0252248    .0245098
         D1. |   .0255147   .0124155     2.06   0.046     .0004221    .0506073
         LD. |   .0144981   .0071918     2.02   0.051     -.000037    .0290332
        L2D. |  -.0065693    .013308    -0.49   0.624    -.0334657    .0203272
        L3D. |   .0049639   .0077119     0.64   0.523    -.0106225    .0205503
        L4D. |   .0094332   .0065971     1.43   0.161    -.0038999    .0227664
        L5D. |   .0094973   .0065183     1.46   0.153    -.0036766    .0226713
             |
ln_avgwwag~o |
         D1. |   .0015166   .0018573     0.82   0.419    -.0022372    .0052703
             |
ln_avgwwag~n |
         D1. |  -.0015196    .001284    -1.18   0.244    -.0041147    .0010755
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+

added macro:
           e(ctrl_emp) : "No"

added macro:
         e(ctrl_estab) : "No"

added macro:
          e(ctrl_wage) : "Yes"

added macro:
      e(ctrl_building) : "No"

 ( 1)  FD.ln_mw = 0
 ( 2)  F2D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F4D.ln_mw = 0
 ( 5)  F5D.ln_mw = 0

       F(  5,    40) =    0.74
            Prob > F =    0.5957

added scalar:
          e(p_value_F) =  .59572187

added macro:
                  e(k) : ""
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |    .057338   .0345162     1.66   0.104    -.0124218    .1270978
------------------------------------------------------------------------------
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    105,463
Absorbing 1 HDFE group                            F(  14,     40) =       5.99
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0224
                                                  Adj R-squared   =     0.0212
                                                  Within R-sq.    =     0.0003
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0144309   .0088983    -1.62   0.113     -.032415    .0035532
        F4D. |   -.001956     .01148    -0.17   0.866     -.025158     .021246
        F3D. |   .0007119   .0091837     0.08   0.939    -.0178491    .0192729
        F2D. |   .0061616   .0116407     0.53   0.600    -.0173651    .0296884
         FD. |  -.0004891    .012363    -0.04   0.969    -.0254756    .0244974
         D1. |   .0259031   .0124314     2.08   0.044     .0007782    .0510279
         LD. |   .0142174   .0072118     1.97   0.056    -.0003583    .0287931
        L2D. |  -.0063741   .0132382    -0.48   0.633    -.0331294    .0203813
        L3D. |   .0046814   .0077822     0.60   0.551    -.0110469    .0204097
        L4D. |   .0103523   .0063816     1.62   0.113    -.0025455      .02325
        L5D. |   .0099003   .0065322     1.52   0.137    -.0033017    .0231023
             |
ln_emp_biz~v |
         D1. |   .0062386   .0043233     1.44   0.157    -.0024991    .0149763
             |
 ln_emp_info |
         D1. |   .0016983   .0043303     0.39   0.697    -.0070536    .0104502
             |
  ln_emp_fin |
         D1. |   .0139927   .0052454     2.67   0.011     .0033914     .024594
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+

added macro:
           e(ctrl_emp) : "Yes"

added macro:
         e(ctrl_estab) : "No"

added macro:
          e(ctrl_wage) : "No"

added macro:
      e(ctrl_building) : "No"

 ( 1)  FD.ln_mw = 0
 ( 2)  F2D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F4D.ln_mw = 0
 ( 5)  F5D.ln_mw = 0

       F(  5,    40) =    0.74
            Prob > F =    0.5989

added scalar:
          e(p_value_F) =  .59889174

added macro:
                  e(k) : ""
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0586804   .0343871     1.71   0.096    -.0108186    .1281794
------------------------------------------------------------------------------
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    106,160
Absorbing 1 HDFE group                            F(  14,     40) =       5.36
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0223
                                                  Adj R-squared   =     0.0211
                                                  Within R-sq.    =     0.0003
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0146104   .0089774    -1.63   0.111    -.0327544    .0035335
        F4D. |  -.0021833   .0115541    -0.19   0.851    -.0255351    .0211685
        F3D. |   .0004196   .0090627     0.05   0.963    -.0178968    .0187361
        F2D. |   .0059527   .0115459     0.52   0.609    -.0173825    .0292878
         FD. |   3.82e-06   .0122038     0.00   1.000    -.0246609    .0246686
         D1. |   .0269324    .012599     2.14   0.039     .0014688    .0523959
         LD. |   .0135258   .0072116     1.88   0.068    -.0010494     .028101
        L2D. |  -.0068194   .0133125    -0.51   0.611    -.0337249    .0200862
        L3D. |   .0031408   .0079455     0.40   0.695    -.0129176    .0191992
        L4D. |   .0107438   .0068567     1.57   0.125    -.0031141    .0246017
        L5D. |   .0088258   .0067235     1.31   0.197    -.0047628    .0224145
             |
ln_estcou~rv |
         D1. |    .016148   .0142819     1.13   0.265    -.0127168    .0450129
             |
ln_estcoun~o |
         D1. |   .0042119   .0056782     0.74   0.463    -.0072642     .015688
             |
ln_estcoun~n |
         D1. |   .0007603    .009686     0.08   0.938    -.0188159    .0203365
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+

added macro:
           e(ctrl_emp) : "No"

added macro:
         e(ctrl_estab) : "Yes"

added macro:
          e(ctrl_wage) : "No"

added macro:
      e(ctrl_building) : "No"

 ( 1)  FD.ln_mw = 0
 ( 2)  F2D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F4D.ln_mw = 0
 ( 5)  F5D.ln_mw = 0

       F(  5,    40) =    0.75
            Prob > F =    0.5936

added scalar:
          e(p_value_F) =  .5935977

added macro:
                  e(k) : ""
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0563492   .0344137     1.64   0.109    -.0132034    .1259018
------------------------------------------------------------------------------
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    105,463
Absorbing 1 HDFE group                            F(  19,     40) =       7.95
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0224
                                                  Adj R-squared   =     0.0213
                                                  Within R-sq.    =     0.0004
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0144124   .0088971    -1.62   0.113    -.0323941    .0035693
        F4D. |  -.0019305   .0114831    -0.17   0.867    -.0251386    .0212777
        F3D. |   .0000879   .0091361     0.01   0.992    -.0183769    .0185526
        F2D. |   .0064868   .0116857     0.56   0.582    -.0171309    .0301045
         FD. |  -.0004972   .0123481    -0.04   0.968    -.0254537    .0244593
         D1. |   .0257382   .0125127     2.06   0.046     .0004492    .0510273
         LD. |   .0144176   .0071865     2.01   0.052    -.0001068    .0289421
        L2D. |  -.0063877   .0132315    -0.48   0.632    -.0331296    .0203542
        L3D. |   .0044055   .0075921     0.58   0.565    -.0109387    .0197498
        L4D. |   .0097958   .0065353     1.50   0.142    -.0034126    .0230042
        L5D. |   .0098654   .0065172     1.51   0.138    -.0033063    .0230371
             |
ln_avgwwag~o |
         D1. |   .0014355   .0018357     0.78   0.439    -.0022746    .0051456
             |
ln_avgwwag~n |
         D1. |  -.0015869   .0012832    -1.24   0.223    -.0041804    .0010065
             |
ln_emp_biz~v |
         D1. |   .0054532   .0042452     1.28   0.206    -.0031267     .014033
             |
 ln_emp_info |
         D1. |   .0015997   .0042468     0.38   0.708    -.0069835    .0101829
             |
  ln_emp_fin |
         D1. |   .0134047   .0055866     2.40   0.021     .0021137    .0246957
             |
ln_estcou~rv |
         D1. |   .0164958   .0139731     1.18   0.245     -.011745    .0447365
             |
ln_estcoun~o |
         D1. |   .0038845   .0054038     0.72   0.476     -.007037    .0148059
             |
ln_estcoun~n |
         D1. |   -.000991    .009607    -0.10   0.918    -.0204074    .0184253
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+

added macro:
           e(ctrl_emp) : "Yes"

added macro:
         e(ctrl_estab) : "Yes"

added macro:
          e(ctrl_wage) : "Yes"

added macro:
      e(ctrl_building) : "No"

 ( 1)  FD.ln_mw = 0
 ( 2)  F2D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F4D.ln_mw = 0
 ( 5)  F5D.ln_mw = 0

       F(  5,    40) =    0.72
            Prob > F =    0.6151

added scalar:
          e(p_value_F) =  .61512235

added macro:
                  e(k) : ""
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0578349   .0342731     1.69   0.099    -.0114336    .1271033
------------------------------------------------------------------------------
(note: file ../output/fd_dynamic_table.tex not found)
(output written to ../output/fd_dynamic_table.tex)

. 
end of do-file


Execute:  StataMP-64 /e do "./figures.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./figures.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. set maxvar 32000 


. 
. program main
  1.         local instub "../temp"
  2.         local outstub "../output"
  3. 
.         use "`instub'/fd_rent_panel.dta", clear
  4. 
.         build_coeff_plot, depvar(ln_med_rent_psqft_sfcc) absorb(year_month) /
> //
>                 cluster(statefips) outstub(`outstub')
  5. 
.         foreach w in 3 6 9 {
  6.                 use "`instub'/fd_rent_panel.dta", clear
  7. 
.                 build_coeff_plot, depvar(ln_med_rent_psqft_sfcc) absorb(year_
> month) ///
>                         cluster(statefips) outstub(`outstub') w(`w')
  8.         }
  9. 
.         use "`instub'/fd_rent_panel.dta", clear
 10.         
.         build_cumsum_plot, depvar(ln_med_rent_psqft_sfcc) absorb(year_month) 
> ///
>                 cluster(statefips) outstub(`outstub')
 11. 
.         use "`instub'/fd_rent_panel.dta", clear
 12. 
.         build_coeff_plot_controls, depvar(ln_med_rent_psqft_sfcc) absorb(year
> _month) ///
>                 cluster(statefips) outstub(`outstub')
 13. end

. 
. program build_coeff_plot
  1.         syntax, depvar(str) absorb(str) cluster(str) outstub(str) [w(int 5
> ) t_plot(real 1.645) offset(real 0.09)]
  2. 
.         define_controls estcount avgwwage
  3.         local emp_ctrls "`r(emp_ctrls)'"
  4.         local estcount_ctrls "`r(estcount_ctrls)'"
  5.         local avgwwage_ctrls "`r(avgwwage_ctrls)'"
  6.         local controls `"`emp_ctrls' `estcount_ctrls' `avgwwage_ctrls'"'
  7. 
.         eststo clear
  8.         reghdfe D.`depvar' D.ln_mw D.(`controls'),      absorb(`absorb') v
> ce(cluster `cluster') nocons
  9. 
.         scalar static_effect = _b[D.ln_mw]
 10.         scalar static_effect_se = _se[D.ln_mw]
 11. 
. 
.         qui reghdfe D.`depvar' L(-`w'/`w').D.ln_mw D.(`controls'), absorb(`ab
> sorb') vce(cluster `cluster') nocons
 12.         
.         preserve
 13.                 coefplot, vertical base gen keep(*.ln_mw)
 14.                 keep __at __b __se
 15.                 rename (__at __b __se) (at b_full se_full)
 16.                 
.                 keep if !missing(at)
 17. 
.                 gen b_full_lb = b_full - `t_plot'*se_full
 18.                 gen b_full_ub = b_full + `t_plot'*se_full
 19. 
.                 gen static_path = . 
 20.                 replace static_path = scalar(static_effect) if at > `w'
 21. 
.                 save "../temp/plot_coeffs.dta", replace
 22.         restore
 23. 
.         qui reghdfe D.`depvar' L(0/`w').D.ln_mw D.(`controls'), absorb(`absor
> b') vce(cluster `cluster') nocons
 24.         
.         coefplot, vertical base gen keep(*.ln_mw)
 25.         keep __at __b __se
 26.         rename (__at __b __se) (at b_lags se_lags)
 27.         tset at
 28. 
.         keep if !missing(at)
 29. 
.         gen b_lags_lb = b_lags - 1.645*se_lags
 30.         gen b_lags_ub = b_lags + 1.645*se_lags
 31. 
.         gen cumsum_b_lags = b_lags[1]
 32.         replace cumsum_b_lags = cumsum_b_lags[_n-1] + b_lags[_n] if _n > 1
 33. 
.         replace at = at + `w'
 34.         save "../temp/plot_coeffs_lags.dta", replace
 35.                 
.         merge 1:1 at using "../temp/plot_coeffs.dta", nogen
 36.         sort at
 37. 
.         gen at_full = at - (`w'/5)*`offset'                 // To prevent lin
> es from overlapping perfectly
 38.         gen at_lags = at + (`w'/5)*`offset'
 39.         replace at_full = at if _n <= `w'
 40.         replace at_lags = at if _n <= `w'
 41.         replace cumsum_b_lags = . if at < `w' - 1
 42. 
.         // Figure
.         make_plot_xlabels, w(`w')
 43. 
.         twoway  (scatter b_full at_full, mcol(navy)) ///
>                                 (rcap b_full_lb b_full_ub at_full, col(navy) 
> lw(vthin)) ///
>                         (scatter b_lags at_lags, mcol(maroon)) ///
>                                 (rcap b_lags_lb b_lags_ub at_lags, col(maroon
> ) lw(vthin)), ///
>                 yline(0, lcol(black)) ///
>                 xlabel(`r(xlab)', labsize(small)) xtitle(" ") ///
>                 ylabel(-0.06(0.02).08, grid labsize(small)) ytitle("Coefficie
> nt") ///
>                 legend(order(1 "Fully dynamic model" 3 "Distributed lags mode
> l") size(small)) ///
>                 graphregion(color(white)) bgcolor(white)
 44.         graph export "`outstub'/fd_models_coeffs_w`w'.png", replace
 45.         graph export "`outstub'/fd_models_coeffs_w`w'.eps", replace
 46. 
.         if `w' == 5 {
 47.                 make_plot_xlabels, w(`w')
 48. 
.                 twoway  (scatter b_full at_full, mcol(navy)) ///
>                                         (rcap b_full_lb b_full_ub at_full, co
> l(navy) lw(vthin)) ///
>                                 (scatter b_lags at_lags, mcol(maroon)) ///
>                                         (rcap b_lags_lb b_lags_ub at_lags, co
> l(maroon) lw(vthin)) ///
>                                 (line static_path at, lcol(gs4) lpat(dash)) /
> //
>                                 (line cumsum_b_lags at, lcol(maroon) lpat(das
> h)), ///
>                         yline(0, lcol(black)) ///
>                         xlabel(`r(xlab)', labsize(small)) xtitle(" ") ///
>                         ylabel(-0.06(0.02).08, grid labsize(small)) ytitle("C
> oefficient") ///
>                         legend(order(1 "Fully dynamic model" 3 "Distributed l
> ags model" ///
>                                 5 "Effects path static model" 6 "Effects path
>  distributed lags model") size(small)) ///
>                         graphregion(color(white)) bgcolor(white)
 49.                 graph export "`outstub'/fd_models_everything.png", replace
 50.                 graph export "`outstub'/fd_models_everything.eps", replace
 51.         }
 52. end

. 
. program build_cumsum_plot
  1.         syntax, depvar(str) absorb(str) cluster(str) outstub(str) [w(int 5
> ) t_plot(real 1.645) offset(real 0.09)]
  2. 
.         eststo clear
  3.         
.         define_controls
  4.         local emp_ctrls "`r(emp_ctrls)'"
  5.         local estcount_ctrls "`r(estcount_ctrls)'"
  6.         local avgwwage_ctrls "`r(avgwwage_ctrls)'"
  7.         local controls `"`emp_ctrls' `estcount_ctrls' `avgwwage_ctrls'"'
  8. 
.         local w_minus1 = `w' - 1
  9.         local w_span = 2*`w' + 1
 10.         
.         local names "full lags"
 11.         mat define start = (-`w', 0)
 12. 
.         forvalues i = 1/2 {
 13.                 local name: word `i' of `names'
 14.                 local start_lag = start[1, `i']
 15. 
.                 local coeffs_list "D1.ln_mw LD.ln_mw"
 16.                 forvalues i = 2/`w' {
 17.                         local coeffs_list "`coeffs_list' L`i'D.ln_mw"
 18.                 }
 19.                 local coeffs_list "`coeffs_list' L`w'D.ln_mw"
 20.                 
.                 if `start_lag' < 0 {
 21.                         forvalues i = 1/`w' {
 22.                                 local coeffs_list "F`i'D.ln_mw `coeffs_lis
> t'"
 23.                         }
 24.                 }
 25.                 matrix COEFF = J(`w_span', 5, .)
 26.                 matrix colname COEFF = "at" "cumsum_`name'_b" "cumsum_`nam
> e'_sd" "b_cumsum_`name'_lb" "b_cumsum_`name'_hb"
 27.                 
.                 forvalues i = 1/`w_span' {
 28.                         matrix COEFF[`i',1] = `i'
 29.                         
.                         local this_lag = `i' - `w' - 1
 30.                         
.                         if `this_lag' >= `start_lag' {
 31.                                 local j = `this_lag' - `start_lag' + 1
 32.                                 
.                                 local ll: word `j' of `coeffs_list'
 33.                                 
.                                 if `j' == 1 {
 34.                                         local cumsum_coeffs "`ll'"
 35.                                 }
 36.                                 else {
 37.                                         local cumsum_coeffs "`cumsum_coeff
> s' + `ll'"
 38.                                 }
 39.                         
.                                 qui reghdfe D.`depvar' L(`start_lag'/`w').D.l
> n_mw D.(`controls'), absorb(`absorb') vce(cluster `cluster') nocons
 40.                                 lincomest `cumsum_coeffs'
 41.                                 mat b = e(b)
 42.                                 mat V = e(V)
 43. 
.                                 matrix COEFF[`i',2] = b[1, 1]
 44.                                 matrix COEFF[`i',3] = V[1, 1]^.5
 45.                                 matrix COEFF[`i',4] = b[1, 1] - `t_plot'*V
> [1, 1]^.5
 46.                                 matrix COEFF[`i',5] = b[1, 1] + `t_plot'*V
> [1, 1]^.5
 47.                         }
 48.                 }
 49.                 preserve
 50.                         svmat double COEFF, name(col)
 51.                         keep at cumsum_`name'_b cumsum_`name'_sd b_cumsum_
> `name'_lb b_cumsum_`name'_hb
 52.                         drop if missing(at)
 53.                         save "../temp/cumsum_coeffs_`name'.dta", replace
 54.                 restore
 55.         }
 56.         
.         *qui reghdfe D5.`depvar' D5.ln_mw, absorb(`absorb') vce(cluster `clus
> ter') nocons
.         
.         qui ivreghdfe D.`depvar' L(0/`w').D.ln_mw (L.D.`depvar' = L2.D.`depva
> r') D.(`controls'), ///
>                 absorb(`absorb') cluster(`cluster') nocons
 57.         
.         nlcom (_b[D1.ln_mw] + _b[LD.ln_mw])/(1 - _b[LD.`depvar'])
 58.         mat b = r(b)
 59.         mat V = r(V)
 60. 
.         matrix COEFF = J(`w_span', 5, .)
 61.         matrix colname COEFF = "at" "longrun_b" "longrun_sd" "longrun_lb" 
> "longrun_hb"
 62. 
.         forvalues i = 1/`w_span' {
 63.                 mat COEFF[`i', 1] = `i'
 64.         }
 65.         mat COEFF[`w_span', 2] = b[1,1]
 66.         mat COEFF[`w_span', 3] = V[1, 1]^.5
 67.         mat COEFF[`w_span', 4] = b[1, 1] - `t_plot'*V[1, 1]^.5
 68.         mat COEFF[`w_span', 5] = b[1, 1] + `t_plot'*V[1, 1]^.5
 69. 
.         svmat double COEFF, name(col)
 70.         keep at longrun_b longrun_sd longrun_lb longrun_hb
 71.         drop if missing(at)
 72. 
.         merge 1:1 at using "../temp/cumsum_coeffs_full.dta", nogen
 73.         merge 1:1 at using "../temp/cumsum_coeffs_lags.dta", nogen
 74.         sort at
 75. 
.         // Figure
.         make_plot_xlabels, w(`w')
 76.         
.         replace cumsum_lags_b = 0 if missing(cumsum_lags_b)
 77.         replace b_cumsum_lags_lb = 0 if missing(b_cumsum_lags_lb)
 78.         replace b_cumsum_lags_hb = 0 if missing(b_cumsum_lags_hb)
 79. 
.         twoway  (line b_cumsum_full_lb at, col(navy) lpat(dash)) ///
>                         (line b_cumsum_full_hb at, col(navy) lpat(dash)) ///
>                         (connected cumsum_full_b at, mcol(navy) lcol(navy)) /
> //
>                         (line b_cumsum_lags_lb at, col(maroon) lpat(dash)) //
> /
>                         (line b_cumsum_lags_hb at, col(maroon) lpat(dash)) //
> /                  
>                         (connected cumsum_lags_b at, mcol(maroon) lcol(maroon
> )) ///
>                         (scatter longrun_b at, mcol(orange)) ///
>                         (rcap longrun_lb longrun_hb at, col(orange) lw(vthin)
> ), ///
>                 yline(0, lcol(black)) ///
>                 xlabel(`r(xlab)', labsize(small))  xtitle(" ") ///
>                 ylabel(-0.06(0.02).1, grid labsize(small)) ytitle("Cumulative
>  sum of effects") ///
>                 legend(order(3 "Fully dynamic model" 6 "Distributed lags mode
> l" 7 "AB long-run effect") rows(1) size(small)) ///
>                 graphregion(color(white)) bgcolor(white)
 80.         
.         graph export "`outstub'/fd_models_cumsum.png", replace
 81.         graph export "`outstub'/fd_models_cumsum.eps", replace
 82. end

. 
. program build_coeff_plot_controls
  1.         syntax, depvar(str) absorb(str) cluster(str) outstub(str) [w(int 5
> ) t_plot(real 1.645) offset(real 0.17)]
  2. 
.         eststo clear
  3. 
.         define_controls
  4.         local emp_ctrls "`r(emp_ctrls)'"
  5.         local estab_ctrls "`r(estcount_ctrls)'"
  6.         local wage_ctrls "`r(avgwwage_ctrls)'"
  7. 
.         reghdfe D.`depvar' L(-`w'/`w').D.ln_mw, absorb(`absorb') vce(cluster 
> `cluster') nocons
  8.         store_dynamic_coeffs, model(base) w(`w') t_plot(`t_plot')
  9. 
.         foreach name in emp estab wage {
 10.                 reghdfe D.`depvar' L(-`w'/`w').D.ln_mw D.(``name'_ctrls'),
>  absorb(`absorb') vce(cluster `cluster') nocons
 11.                 store_dynamic_coeffs, model(`name') w(`w') t_plot(`t_plot'
> )
 12.         }
 13.                         
.         reghdfe D.`depvar' L(-`w'/`w').D.ln_mw D.(`emp_ctrls') D.(`estab_ctrl
> s') D.(`wage_ctrls'), ///
>                 absorb(`absorb') vce(cluster `cluster') nocons
 14. 
.         coefplot, vertical base gen
 15.         local winspan = 2*`w' + 1
 16.         keep if _n <= `winspan'
 17.         keep __at __b __se
 18.         rename (__at __b __se) (at b_all se_all)
 19.         keep if !missing(at)
 20. 
.         gen b_all_lb = b_all - `t_plot'*se_all
 21.         gen b_all_ub = b_all + `t_plot'*se_all
 22. 
.         merge 1:1 at using "../temp/plot_coeffs_base.dta", nogen
 23.         merge 1:1 at using "../temp/plot_coeffs_emp.dta", nogen
 24.         merge 1:1 at using "../temp/plot_coeffs_estab.dta", nogen
 25.         merge 1:1 at using "../temp/plot_coeffs_wage.dta", nogen
 26. 
.         sort at
 27.         g at_emp   = at - 2*`offset'
 28.         g at_estab = at - `offset'
 29.         g at_wage  = at + `offset'
 30.         g at_all = at + 2*`offset'
 31. 
.         make_plot_xlabels, w(`w')
 32. 
.         twoway (scatter b_base at, mcol(navy))          (rcap b_base_lb b_bas
> e_ub at, lc(navy) lw(vthin)) ///
>                    (scatter b_emp at_emp, mc(maroon))       (rcap b_emp_lb b_
> emp_ub at_emp, lc(maroon) lw(vthin)) ///
>                    (scatter b_estab at_estab, mc(lavender)) (rcap b_estab_lb 
> b_estab_ub at_est, lc(lavender) lw(vthin)) ///
>                    (scatter b_wage at_wage, mc(dkorange))   (rcap b_wage_lb b
> _wage_ub at_wage, lc(dkorange) lw(vthin)) ///
>                    (scatter b_all at_all, mc(gs10))         (rcap b_all_lb b_
> all_ub at_all, lc(gs10) lw(vthin)), /// 
>                 yline(0, lcol(black)) ///
>                 graphregion(color(white)) bgcolor(white) ///
>                 xlabel(`r(xlab)', labsize(vsmall)) xtitle("Leads and lags of 
> difference in log MW") ///
>                 ytitle("Dynamic coefficients") ylabel(-0.06(0.02).06, grid)  
>    ///
>                 legend(order(1 "Baseline" 3 "Employment" ///
>                         5 "Establishment" 7 "Wage" 9 "All") size(small) rows(
> 1))
 33.         
.         graph export "../output/fd_models_control.png", replace
 34.         graph export "../output/fd_models_control.eps", replace
 35. end

. 
. program store_dynamic_coeffs
  1.         syntax, model(str) w(int) t_plot(real)
  2.         preserve
  3.                 coefplot, vertical base gen
  4.                 local wspan = 2*`w' + 1
  5.                 keep if _n <= `wspan'
  6.                 keep __at __b __se
  7.                 rename (__at __b __se) (at b_`model' se_`model')
  8.         
.                 keep if !missing(at)
  9. 
.                 gen b_`model'_lb = b_`model' - `t_plot'*se_`model'
 10.                 gen b_`model'_ub = b_`model' + `t_plot'*se_`model'
 11.         
.                 save "../temp/plot_coeffs_`model'.dta", replace
 12.         restore
 13. end 

. 
. program make_plot_xlabels, rclass 
  1.         syntax, w(int)
  2. 
.         local xlab ""
  3.         forval lead = 1/`w' {
  4.                 local leadlab = `lead' - `w' - 1
  5.                 local xlab `"`xlab' `lead' "`leadlab'""'
  6.         }
  7.         local zero = `w' + 1
  8.         local xlab `"`xlab' `zero' "0""'
  9.         forval lag = 1/`w' {
 10.                 local coeflag = `zero' + `lag'
 11.                 local xlab `"`xlab' `coeflag' "`lag'""'
 12.         }
 13. 
.         return local xlab `xlab'
 14. end

. 
. main
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 1 HDFE group                            F(   9,     40) =       2.26
Statistics robust to heteroskedasticity           Prob > F        =     0.0373
                                                  R-squared       =     0.0223
                                                  Adj R-squared   =     0.0212
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |    .025567    .012474     2.05   0.047     .0003561    .0507778
             |
ln_emp_biz~v |
         D1. |   .0048843   .0043705     1.12   0.270    -.0039488    .0137175
             |
 ln_emp_info |
         D1. |   .0013944   .0043386     0.32   0.750    -.0073742    .0101631
             |
  ln_emp_fin |
         D1. |   .0136885   .0054423     2.52   0.016     .0026891    .0246879
             |
ln_estcou~rv |
         D1. |   .0170306   .0138143     1.23   0.225    -.0108891    .0449504
             |
ln_estcoun~o |
         D1. |   .0040387   .0053888     0.75   0.458    -.0068524    .0149299
             |
ln_estcoun~n |
         D1. |  -.0010255   .0095541    -0.11   0.915     -.020335     .018284
             |
ln_avgwwag~o |
         D1. |   .0013919   .0018369     0.76   0.453    -.0023206    .0051044
             |
ln_avgwwag~n |
         D1. |  -.0014928   .0012968    -1.15   0.257    -.0041138    .0011282
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
-----------------------------------------------------+

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(156,589 observations deleted)
(11 missing values generated)
(6 real changes made)
(note: file ../temp/plot_coeffs.dta not found)
file ../temp/plot_coeffs.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
        time variable:  at, 1 to 6
                delta:  1 unit
(156,594 observations deleted)
(5 real changes made)
(6 real changes made)
(note: file ../temp/plot_coeffs_lags.dta not found)
file ../temp/plot_coeffs_lags.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             5
        from master                         0  
        from using                          5  

    matched                                 6  
    -----------------------------------------
(5 real changes made)
(5 real changes made)
(0 real changes made)
(note: file ../output/fd_models_coeffs_w5.png not found)
(file ../output/fd_models_coeffs_w5.png written in PNG format)
(note: file ../output/fd_models_coeffs_w5.eps not found)
(file ../output/fd_models_coeffs_w5.eps written in EPS format)
(note: file ../output/fd_models_everything.png not found)
(file ../output/fd_models_everything.png written in PNG format)
(note: file ../output/fd_models_everything.eps not found)
(file ../output/fd_models_everything.eps written in EPS format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 1 HDFE group                            F(   9,     40) =       2.26
Statistics robust to heteroskedasticity           Prob > F        =     0.0373
                                                  R-squared       =     0.0223
                                                  Adj R-squared   =     0.0212
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |    .025567    .012474     2.05   0.047     .0003561    .0507778
             |
ln_emp_biz~v |
         D1. |   .0048843   .0043705     1.12   0.270    -.0039488    .0137175
             |
 ln_emp_info |
         D1. |   .0013944   .0043386     0.32   0.750    -.0073742    .0101631
             |
  ln_emp_fin |
         D1. |   .0136885   .0054423     2.52   0.016     .0026891    .0246879
             |
ln_estcou~rv |
         D1. |   .0170306   .0138143     1.23   0.225    -.0108891    .0449504
             |
ln_estcoun~o |
         D1. |   .0040387   .0053888     0.75   0.458    -.0068524    .0149299
             |
ln_estcoun~n |
         D1. |  -.0010255   .0095541    -0.11   0.915     -.020335     .018284
             |
ln_avgwwag~o |
         D1. |   .0013919   .0018369     0.76   0.453    -.0023206    .0051044
             |
ln_avgwwag~n |
         D1. |  -.0014928   .0012968    -1.15   0.257    -.0041138    .0011282
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
-----------------------------------------------------+

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(156,593 observations deleted)
(7 missing values generated)
(4 real changes made)
file ../temp/plot_coeffs.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
        time variable:  at, 1 to 4
                delta:  1 unit
(156,596 observations deleted)
(3 real changes made)
(4 real changes made)
file ../temp/plot_coeffs_lags.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             3
        from master                         0  
        from using                          3  

    matched                                 4  
    -----------------------------------------
(3 real changes made)
(3 real changes made)
(0 real changes made)
(note: file ../output/fd_models_coeffs_w3.png not found)
(file ../output/fd_models_coeffs_w3.png written in PNG format)
(note: file ../output/fd_models_coeffs_w3.eps not found)
(file ../output/fd_models_coeffs_w3.eps written in EPS format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 1 HDFE group                            F(   9,     40) =       2.26
Statistics robust to heteroskedasticity           Prob > F        =     0.0373
                                                  R-squared       =     0.0223
                                                  Adj R-squared   =     0.0212
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |    .025567    .012474     2.05   0.047     .0003561    .0507778
             |
ln_emp_biz~v |
         D1. |   .0048843   .0043705     1.12   0.270    -.0039488    .0137175
             |
 ln_emp_info |
         D1. |   .0013944   .0043386     0.32   0.750    -.0073742    .0101631
             |
  ln_emp_fin |
         D1. |   .0136885   .0054423     2.52   0.016     .0026891    .0246879
             |
ln_estcou~rv |
         D1. |   .0170306   .0138143     1.23   0.225    -.0108891    .0449504
             |
ln_estcoun~o |
         D1. |   .0040387   .0053888     0.75   0.458    -.0068524    .0149299
             |
ln_estcoun~n |
         D1. |  -.0010255   .0095541    -0.11   0.915     -.020335     .018284
             |
ln_avgwwag~o |
         D1. |   .0013919   .0018369     0.76   0.453    -.0023206    .0051044
             |
ln_avgwwag~n |
         D1. |  -.0014928   .0012968    -1.15   0.257    -.0041138    .0011282
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
-----------------------------------------------------+

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(156,587 observations deleted)
(13 missing values generated)
(7 real changes made)
file ../temp/plot_coeffs.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
        time variable:  at, 1 to 7
                delta:  1 unit
(156,593 observations deleted)
(6 real changes made)
(7 real changes made)
file ../temp/plot_coeffs_lags.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             6
        from master                         0  
        from using                          6  

    matched                                 7  
    -----------------------------------------
(6 real changes made)
(6 real changes made)
(0 real changes made)
(note: file ../output/fd_models_coeffs_w6.png not found)
(file ../output/fd_models_coeffs_w6.png written in PNG format)
(note: file ../output/fd_models_coeffs_w6.eps not found)
(file ../output/fd_models_coeffs_w6.eps written in EPS format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 1 HDFE group                            F(   9,     40) =       2.26
Statistics robust to heteroskedasticity           Prob > F        =     0.0373
                                                  R-squared       =     0.0223
                                                  Adj R-squared   =     0.0212
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |    .025567    .012474     2.05   0.047     .0003561    .0507778
             |
ln_emp_biz~v |
         D1. |   .0048843   .0043705     1.12   0.270    -.0039488    .0137175
             |
 ln_emp_info |
         D1. |   .0013944   .0043386     0.32   0.750    -.0073742    .0101631
             |
  ln_emp_fin |
         D1. |   .0136885   .0054423     2.52   0.016     .0026891    .0246879
             |
ln_estcou~rv |
         D1. |   .0170306   .0138143     1.23   0.225    -.0108891    .0449504
             |
ln_estcoun~o |
         D1. |   .0040387   .0053888     0.75   0.458    -.0068524    .0149299
             |
ln_estcoun~n |
         D1. |  -.0010255   .0095541    -0.11   0.915     -.020335     .018284
             |
ln_avgwwag~o |
         D1. |   .0013919   .0018369     0.76   0.453    -.0023206    .0051044
             |
ln_avgwwag~n |
         D1. |  -.0014928   .0012968    -1.15   0.257    -.0041138    .0011282
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
-----------------------------------------------------+

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(156,581 observations deleted)
(19 missing values generated)
(10 real changes made)
file ../temp/plot_coeffs.dta saved

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
        time variable:  at, 1 to 10
                delta:  1 unit
(156,590 observations deleted)
(9 real changes made)
(10 real changes made)
file ../temp/plot_coeffs_lags.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             9
        from master                         0  
        from using                          9  

    matched                                10  
    -----------------------------------------
(9 real changes made)
(9 real changes made)
(0 real changes made)
(note: file ../output/fd_models_coeffs_w9.png not found)
(file ../output/fd_models_coeffs_w9.png written in PNG format)
(note: file ../output/fd_models_coeffs_w9.eps not found)
(file ../output/fd_models_coeffs_w9.eps written in EPS format)
Confidence interval for formula:
F5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |  -.0144124   .0088971    -1.62   0.113    -.0323941    .0035693
------------------------------------------------------------------------------
Confidence interval for formula:
F5D.ln_mw+F4D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |  -.0163428   .0176784    -0.92   0.361    -.0520722    .0193865
------------------------------------------------------------------------------
Confidence interval for formula:
F5D.ln_mw+F4D.ln_mw+F3D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   -.016255   .0220818    -0.74   0.466    -.0608838    .0283739
------------------------------------------------------------------------------
Confidence interval for formula:
F5D.ln_mw+F4D.ln_mw+F3D.ln_mw+F2D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |  -.0097681   .0217444    -0.45   0.656    -.0537152    .0341789
------------------------------------------------------------------------------
Confidence interval for formula:
F5D.ln_mw+F4D.ln_mw+F3D.ln_mw+F2D.ln_mw+F1D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |  -.0102653   .0210889    -0.49   0.629    -.0528875    .0323568
------------------------------------------------------------------------------
Confidence interval for formula:
F5D.ln_mw+F4D.ln_mw+F3D.ln_mw+F2D.ln_mw+F1D.ln_mw+D1.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0154729   .0211151     0.73   0.468    -.0272024    .0581482
------------------------------------------------------------------------------
Confidence interval for formula:
F5D.ln_mw+F4D.ln_mw+F3D.ln_mw+F2D.ln_mw+F1D.ln_mw+D1.ln_mw+LD.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0298905    .022468     1.33   0.191    -.0155191    .0753001
------------------------------------------------------------------------------
Confidence interval for formula:
F5D.ln_mw+F4D.ln_mw+F3D.ln_mw+F2D.ln_mw+F1D.ln_mw+D1.ln_mw+LD.ln_mw+L2D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0235028   .0282571     0.83   0.410    -.0336069    .0806125
------------------------------------------------------------------------------
Confidence interval for formula:
F5D.ln_mw+F4D.ln_mw+F3D.ln_mw+F2D.ln_mw+F1D.ln_mw+D1.ln_mw+LD.ln_mw+L2D.ln_mw+L
> 3D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0279083   .0298649     0.93   0.356     -.032451    .0882676
------------------------------------------------------------------------------
Confidence interval for formula:
F5D.ln_mw+F4D.ln_mw+F3D.ln_mw+F2D.ln_mw+F1D.ln_mw+D1.ln_mw+LD.ln_mw+L2D.ln_mw+L
> 3D.ln_mw+L4D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0377041   .0321898     1.17   0.248    -.0273539    .1027622
------------------------------------------------------------------------------
Confidence interval for formula:
F5D.ln_mw+F4D.ln_mw+F3D.ln_mw+F2D.ln_mw+F1D.ln_mw+D1.ln_mw+LD.ln_mw+L2D.ln_mw+L
> 3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0475695   .0322829     1.47   0.148    -.0176766    .1128156
------------------------------------------------------------------------------
(156,589 observations deleted)
(note: file ../temp/cumsum_coeffs_full.dta not found)
file ../temp/cumsum_coeffs_full.dta saved
Confidence interval for formula:
D1.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0257992   .0125586     2.05   0.047     .0004173     .051181
------------------------------------------------------------------------------
Confidence interval for formula:
D1.ln_mw+LD.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0429785   .0162138     2.65   0.011     .0102092    .0757479
------------------------------------------------------------------------------
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0368056   .0264561     1.39   0.172    -.0166641    .0902753
------------------------------------------------------------------------------
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0412326   .0318359     1.30   0.203    -.0231101    .1055753
------------------------------------------------------------------------------
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0506437    .034164     1.48   0.146    -.0184044    .1196918
------------------------------------------------------------------------------
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0596704    .034386     1.74   0.090    -.0098263    .1291671
------------------------------------------------------------------------------
(156,589 observations deleted)
(note: file ../temp/cumsum_coeffs_lags.dta not found)
file ../temp/cumsum_coeffs_lags.dta saved

       _nl_1:  (_b[D1.ln_mw] + _b[LD.ln_mw])/(1 - _b[LD.ln_med_rent_psqft_sfcc]
> )

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       _nl_1 |   .0595949   .0238367     2.50   0.012     .0128758     .106314
------------------------------------------------------------------------------
(156,589 observations deleted)

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                11  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                11  
    -----------------------------------------
(5 real changes made)
(5 real changes made)
(5 real changes made)
(note: file ../output/fd_models_cumsum.png not found)
(file ../output/fd_models_cumsum.png written in PNG format)
(note: file ../output/fd_models_cumsum.eps not found)
(file ../output/fd_models_cumsum.eps written in EPS format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    106,446
Absorbing 1 HDFE group                            F(  11,     40) =       5.26
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0222
                                                  Adj R-squared   =     0.0211
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0148356   .0090279    -1.64   0.108    -.0330816    .0034104
        F4D. |  -.0023735   .0115976    -0.20   0.839    -.0258131     .021066
        F3D. |   .0011058   .0091637     0.12   0.905    -.0174147    .0196264
        F2D. |   .0060276   .0115539     0.52   0.605    -.0173236    .0293788
         FD. |  -.0002217   .0122864    -0.02   0.986    -.0250534      .02461
         D1. |   .0270699   .0126282     2.14   0.038     .0015474    .0525925
         LD. |   .0135805    .007154     1.90   0.065    -.0008782    .0280392
        L2D. |  -.0070232   .0133453    -0.53   0.602     -.033995    .0199487
        L3D. |   .0036262   .0080799     0.45   0.656    -.0127038    .0199563
        L4D. |   .0107927   .0069339     1.56   0.127    -.0032212    .0248065
        L5D. |    .008621   .0068652     1.26   0.216    -.0052542    .0224961
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(156,589 observations deleted)
(0 observations deleted)
(note: file ../temp/plot_coeffs_base.dta not found)
file ../temp/plot_coeffs_base.dta saved
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    105,463
Absorbing 1 HDFE group                            F(  14,     40) =       5.99
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0224
                                                  Adj R-squared   =     0.0212
                                                  Within R-sq.    =     0.0003
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0144309   .0088983    -1.62   0.113     -.032415    .0035532
        F4D. |   -.001956     .01148    -0.17   0.866     -.025158     .021246
        F3D. |   .0007119   .0091837     0.08   0.939    -.0178491    .0192729
        F2D. |   .0061616   .0116407     0.53   0.600    -.0173651    .0296884
         FD. |  -.0004891    .012363    -0.04   0.969    -.0254756    .0244974
         D1. |   .0259031   .0124314     2.08   0.044     .0007782    .0510279
         LD. |   .0142174   .0072118     1.97   0.056    -.0003583    .0287931
        L2D. |  -.0063741   .0132382    -0.48   0.633    -.0331294    .0203813
        L3D. |   .0046814   .0077822     0.60   0.551    -.0110469    .0204097
        L4D. |   .0103523   .0063816     1.62   0.113    -.0025455      .02325
        L5D. |   .0099003   .0065322     1.52   0.137    -.0033017    .0231023
             |
ln_emp_biz~v |
         D1. |   .0062386   .0043233     1.44   0.157    -.0024991    .0149763
             |
 ln_emp_info |
         D1. |   .0016983   .0043303     0.39   0.697    -.0070536    .0104502
             |
  ln_emp_fin |
         D1. |   .0139927   .0052454     2.67   0.011     .0033914     .024594
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(156,589 observations deleted)
(0 observations deleted)
(note: file ../temp/plot_coeffs_emp.dta not found)
file ../temp/plot_coeffs_emp.dta saved
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    106,160
Absorbing 1 HDFE group                            F(  14,     40) =       5.36
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0223
                                                  Adj R-squared   =     0.0211
                                                  Within R-sq.    =     0.0003
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0146104   .0089774    -1.63   0.111    -.0327544    .0035335
        F4D. |  -.0021833   .0115541    -0.19   0.851    -.0255351    .0211685
        F3D. |   .0004196   .0090627     0.05   0.963    -.0178968    .0187361
        F2D. |   .0059527   .0115459     0.52   0.609    -.0173825    .0292878
         FD. |   3.82e-06   .0122038     0.00   1.000    -.0246609    .0246686
         D1. |   .0269324    .012599     2.14   0.039     .0014688    .0523959
         LD. |   .0135258   .0072116     1.88   0.068    -.0010494     .028101
        L2D. |  -.0068194   .0133125    -0.51   0.611    -.0337249    .0200862
        L3D. |   .0031408   .0079455     0.40   0.695    -.0129176    .0191992
        L4D. |   .0107438   .0068567     1.57   0.125    -.0031141    .0246017
        L5D. |   .0088258   .0067235     1.31   0.197    -.0047628    .0224145
             |
ln_estcou~rv |
         D1. |    .016148   .0142819     1.13   0.265    -.0127168    .0450129
             |
ln_estcoun~o |
         D1. |   .0042119   .0056782     0.74   0.463    -.0072642     .015688
             |
ln_estcoun~n |
         D1. |   .0007603    .009686     0.08   0.938    -.0188159    .0203365
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(156,589 observations deleted)
(0 observations deleted)
(note: file ../temp/plot_coeffs_estab.dta not found)
file ../temp/plot_coeffs_estab.dta saved
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    105,463
Absorbing 1 HDFE group                            F(  13,     40) =       5.21
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0223
                                                  Adj R-squared   =     0.0212
                                                  Within R-sq.    =     0.0003
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0144065   .0088991    -1.62   0.113    -.0323923    .0035792
        F4D. |  -.0019242   .0115642    -0.17   0.869    -.0252963    .0214478
        F3D. |   .0007678   .0093257     0.08   0.935    -.0180801    .0196157
        F2D. |    .006396   .0117653     0.54   0.590    -.0173825    .0301746
         FD. |  -.0003575    .012304    -0.03   0.977    -.0252248    .0245098
         D1. |   .0255147   .0124155     2.06   0.046     .0004221    .0506073
         LD. |   .0144981   .0071918     2.02   0.051     -.000037    .0290332
        L2D. |  -.0065693    .013308    -0.49   0.624    -.0334657    .0203272
        L3D. |   .0049639   .0077119     0.64   0.523    -.0106225    .0205503
        L4D. |   .0094332   .0065971     1.43   0.161    -.0038999    .0227664
        L5D. |   .0094973   .0065183     1.46   0.153    -.0036766    .0226713
             |
ln_avgwwag~o |
         D1. |   .0015166   .0018573     0.82   0.419    -.0022372    .0052703
             |
ln_avgwwag~n |
         D1. |  -.0015196    .001284    -1.18   0.244    -.0041147    .0010755
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(156,589 observations deleted)
(0 observations deleted)
(note: file ../temp/plot_coeffs_wage.dta not found)
file ../temp/plot_coeffs_wage.dta saved
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    105,463
Absorbing 1 HDFE group                            F(  19,     40) =       7.95
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0224
                                                  Adj R-squared   =     0.0213
                                                  Within R-sq.    =     0.0004
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0144124   .0088971    -1.62   0.113    -.0323941    .0035693
        F4D. |  -.0019305   .0114831    -0.17   0.867    -.0251386    .0212777
        F3D. |   .0000879   .0091361     0.01   0.992    -.0183769    .0185526
        F2D. |   .0064868   .0116857     0.56   0.582    -.0171309    .0301045
         FD. |  -.0004972   .0123481    -0.04   0.968    -.0254537    .0244593
         D1. |   .0257382   .0125127     2.06   0.046     .0004492    .0510273
         LD. |   .0144176   .0071865     2.01   0.052    -.0001068    .0289421
        L2D. |  -.0063877   .0132315    -0.48   0.632    -.0331296    .0203542
        L3D. |   .0044055   .0075921     0.58   0.565    -.0109387    .0197498
        L4D. |   .0097958   .0065353     1.50   0.142    -.0034126    .0230042
        L5D. |   .0098654   .0065172     1.51   0.138    -.0033063    .0230371
             |
ln_emp_biz~v |
         D1. |   .0054532   .0042452     1.28   0.206    -.0031267     .014033
             |
 ln_emp_info |
         D1. |   .0015997   .0042468     0.38   0.708    -.0069835    .0101829
             |
  ln_emp_fin |
         D1. |   .0134047   .0055866     2.40   0.021     .0021137    .0246957
             |
ln_estcou~rv |
         D1. |   .0164958   .0139731     1.18   0.245     -.011745    .0447365
             |
ln_estcoun~o |
         D1. |   .0038845   .0054038     0.72   0.476     -.007037    .0148059
             |
ln_estcoun~n |
         D1. |   -.000991    .009607    -0.10   0.918    -.0204074    .0184253
             |
ln_avgwwag~o |
         D1. |   .0014355   .0018357     0.78   0.439    -.0022746    .0051456
             |
ln_avgwwag~n |
         D1. |  -.0015869   .0012832    -1.24   0.223    -.0041804    .0010065
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
-------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(156,589 observations deleted)
(0 observations deleted)

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                11  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                11  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                11  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                11  
    -----------------------------------------
(note: file ../output/fd_models_control.png not found)
(file ../output/fd_models_control.png written in PNG format)
(note: file ../output/fd_models_control.eps not found)
(file ../output/fd_models_control.eps written in EPS format)

. 
end of do-file


Execute:  StataMP-64 /e do "./heterogeneity.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./heterogeneity.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. set maxvar 32000 


. 
. program main
  1.         local instub "../temp"
  2.         local outstub "../output"
  3. 
.         use "`instub'/fd_rent_panel.dta", clear
  4. 
.         local tablevars      "med_hhinc20105 college_share20105 teen_share201
> 0 black_share2010 walall_29y_lowinc_ssh halall_29y_lowinc_ssh"
  5.         local demovars       "med_hhinc20105 unemp_share20105 unemp_share2
> 0105 college_share20105 black_share2010 teen_share2010"
  6.         local demovars_extra "teen_share2010 work_county_share20105 rentho
> use_share2010"
  7.         local workvars       "walall_29y_lowinc_ssh halall_29y_lowinc_ssh 
> walall_29y_lowinc_zsh halall_29y_lowinc_zsh"
  8.         
.         * Heterogeneity plot - demographics and workers' type
.         /* foreach var in `demovars' `workvars' `demovars_extra'{
> 
>                 build_ytitle, var(`var')
> 
>                 plot_dd_static_heterogeneity, depvar(ln_med_rent_psqft_sfcc) 
> absorb(year_month zipcode) ///
>                         het_var(`var'_st_qtl) cluster(statefips) ytitle(`r(ti
> tle)')
>                 graph export "`outstub'/fd_static_heter_`var'.eps", replace
>         } */
. 
.         *Table - demographics 
.         make_table_titles, hetlist(`tablevars')
  9.         local het_titles "`r(title_list)'"
 10. 
.         make_dd_static_heterogeneity, depvar(ln_med_rent_psqft_sfcc) ///
>                 absorb(year_month zipcode) cluster(statefips) hetlist(`tablev
> ars')
 11. 
.         esttab * using "`outstub'/fd_table_het.tex", compress se replace     
>    ///
>                 keep(*.qtl*) mtitles(`het_titles') substitute(\_ _)  ///
>                 coeflabels(1.qtl#c.d_ln_mw "First quartile" ///
>                                    2.qtl#c.d_ln_mw "Second quartile" ///
>                                    3.qtl#c.d_ln_mw "Third quartile" ///
>                                    4.qtl#c.d_ln_mw "Fourth quartile") /// 
>                 stats(N, fmt(%9.0gc) labels("Observations")) star(* 0.10 ** 0
> .05 *** 0.01) nonote
 12. 
.         *table - workers' type 
.         make_table_titles, hetlist(`workvars')
 13.         local het_titles "`r(title_list)'"
 14.         make_dd_static_heterogeneity, depvar(ln_med_rent_psqft_sfcc) absor
> b(year_month zipcode) cluster(statefips) hetlist(`workvars')
 15.         esttab * using "`outstub'/fd_table_workers.tex", compress se repla
> ce    ///
>                 keep(*.qtl*) mtitles(`het_titles') substitute(\_ _)  ///
>                 coeflabels(1.qtl#c.d_ln_mw "First quartile" ///
>                                    2.qtl#c.d_ln_mw "Second quartile" ///
>                                    3.qtl#c.d_ln_mw "Third quartile" ///
>                                    4.qtl#c.d_ln_mw "Fourth quartile") /// 
>                 stats(N, fmt(%9.0gc) labels("Observations")) star(* 0.10 ** 0
> .05 *** 0.01)  nonote
 16. end

. 
. program plot_static_heterogeneity
  1.         syntax, depvar(str) absorb(str) cluster(str) het_var(str) ytitle(s
> tr) [qtles(int 4)]
  2. 
.         eststo clear
  3.         define_controls
  4.         local emp_ctrls "`r(emp_ctrls)'"
  5.         local estcount_ctrls "`r(estcount_ctrls)'"
  6.         local avgwwage_ctrls "`r(avgwwage_ctrls)'"
  7.         local controls `"`emp_ctrls' `estcount_ctrls' `avgwwage_ctrls'"'
  8. 
.         reghdfe D.`depvar' c.d_ln_mw#i.`het_var' D.(`controls'), ///
>                 absorb(`absorb') ///
>                 vce(cluster `cluster') nocons
  9. 
.         coefplot, base graphregion(color(white)) bgcolor(white) keep(*.`het_v
> ar') ///
>                 ylabel(1 "First quartile" 2 "Second quartile" 3 "Third quarti
> le" 4 "Fourth quartile") ///
>                 ytitle(`ytitle') xtitle("Elasticity of rents to the MW")     
>    ///
>                 xline(0, lcol(black)) mcolor(edkblue) ciopts(recast(rcap) lc(
> edkblue) lw(vthin))
 10. end

. 
. program build_ytitle, rclass
  1.         syntax, var(str)
  2. 
.         if "`var'" == "med_hhinc20105" {
  3.                 return local title "Quartiles of 2010 median household inc
> ome"
  4.         }
  5.         if "`var'" == "renthouse_share2010" {
  6.                 return local title "Quartiles of 2010 share of houses rent
> "
  7.         }
  8.         if "`var'" == "college_share20105" {
  9.                 return local title "Quartiles of 2010 college share"
 10.         }
 11.         if "`var'" == "black_share2010" {
 12.                 return local title "Quartiles of 2010 share of black indiv
> iduals"
 13.         }
 14.         if "`var'" == "nonwhite_share2010" {
 15.                 return local title "Quartiles of 2010 share of non-white i
> ndividuals"
 16.         }
 17.         if "`var'" == "work_county_share20105" {
 18.                 return local title "Quartiles of 2010 share who work in co
> unty"
 19.         }
 20.         if "`var'" == "unemp_share20105" {
 21.                 return local title "Quartiles of 2010 unemployment rate"
 22.         }
 23.         if "`var'" == "teen_share2010" {
 24.                 return local title "Quartiles of 2010 share of 15-24 years
>  old residents"
 25.         }
 26.         if "`var'" == "urb_share2010" {
 27.                 return local title "Quartiles of 2010 share of urban popul
> ation"
 28.         }
 29.         if "`var'" == "youngadult_share2010" {
 30.                 return local title "Quartiles of 2010 share of 25-34 years
>  old residents"
 31.         }
 32.         if "`var'" == "worktravel_10_share20105" {
 33.                 return local title "Quartiles of 2010 share of workers com
> muting in 10 minutes"
 34.         }
 35.         if "`var'" == "worker_foodservice20105" {
 36.                 return local title "Quartiles of 2010 share of food and se
> rvice industry workers"
 37.         }
 38.         if "`var'" == "lo_hhinc_share20105" {
 39.                 return local title "Quartiles of 2010 share of low-income 
> workers (<$45,000/yr)"
 40.         }       
 41.         if "`var'" == "sh_mww_wmean2" {
 42.                 return local title "Quartiles of 2010 share of MW workers 
> (ACS)"
 43.         }
 44.         if "`var'" == "sh_mww_renter_wmean2" {
 45.                 return local title "Quartiles of 2010 share of MW workers 
> and renters (ACS)"
 46.         }
 47.         if "`var'" == "mww_shrenter_wmean2" {
 48.                 return local title "Quartiles of 2010 share of renters tha
> t are MW workers (ACS)"
 49.         }
 50. 
.         if "`var'" == "walall_njob_29young_ssh" {
 51.                 return local title "Workers 29 yrs or younger - workplace 
> state-level share"
 52.         }
 53.         if "`var'" == "halall_njob_29young_ssh" {
 54.                 return local title "Workers 29 yrs or younger - residence 
> state-level share"
 55.         }
 56.         if "`var'" == "walall_29y_lowinc_ssh" {
 57.                 return local title "Low income workers 29 yrs or younger -
>  workplace state-level share"
 58.         }
 59.         if "`var'" == "halall_29y_lowinc_ssh" {
 60.                 return local title "Low income workers 29 yrs or younger -
>  residence state-level share"
 61.         }
 62.         if "`var'" == "walall_29y_lowinc_zsh" {
 63.                 return local title "Low income workers 29 yrs or younger -
>  workplace zipcode-level share"
 64.         }
 65.         if "`var'" == "halall_29y_lowinc_zsh" {
 66.                 return local title "Low income workers 29 yrs or younger -
>  residence zipcode-level share"
 67.         }
 68. end

. 
. program plot_dd_static_heterogeneity
  1.         syntax, depvar(str) absorb(str) cluster(str) het_var(str) ytitle(s
> tr) [qtles(int 4)]
  2. 
.         eststo clear
  3.         define_controls
  4.         local emp_ctrls "`r(emp_ctrls)'"
  5.         local estcount_ctrls "`r(estcount_ctrls)'"
  6.         local avgwwage_ctrls "`r(avgwwage_ctrls)'"
  7.         local controls `"`emp_ctrls' `estcount_ctrls' `avgwwage_ctrls'"'
  8. 
.         reghdfe D.`depvar' c.d_ln_mw#i.`het_var' D.(`controls'), ///
>                 absorb(`absorb') ///
>                 vce(cluster `cluster') nocons
  9. 
.         coefplot, base graphregion(color(white)) bgcolor(white) keep(*.`het_v
> ar'*) ///
>                 ylabel(1 "1" 2 "2" 3 "3" 4 "4") levels(90) ///
>                 ytitle(`ytitle', size(small)) ///
>                 xtitle("Estimated effect of ln MW on ln rents", size(small)) 
> xlabel(-.05(.02).1)        ///
>                 xline(0, lcol(black)) mc(edkblue) ciopts(recast(rcap) lc(edkb
> lue) lp(dash) lw(vthin))
 10. end

. 
. program make_dd_static_heterogeneity
  1.         syntax, depvar(str) absorb(str) cluster(str) hetlist(str) [qtles(i
> nt 4)]
  2. 
.         define_controls
  3.         local emp_ctrls "`r(emp_ctrls)'"
  4.         local estcount_ctrls "`r(estcount_ctrls)'"
  5.         local avgwwage_ctrls "`r(avgwwage_ctrls)'"
  6.         local controls `"`emp_ctrls' `estcount_ctrls' `avgwwage_ctrls'"'
  7. 
.         local hetlist_qtl ""
  8.         foreach var in `hetlist' {
  9.                 local hetlist_qtl `"`hetlist_qtl' `var'_st_qtl"'
 10.         }
 11. 
.         eststo clear
 12.         foreach var in `hetlist_qtl' {
 13.                 rename `var' qtl
 14.                 eststo: reghdfe D.`depvar' c.d_ln_mw#i.qtl D.(`controls'),
>  ///
>                         absorb(`absorb') ///
>                         vce(cluster `cluster') nocons   
 15.                 rename qtl `var'
 16.         } 
 17. end 

. 
. program make_table_titles, rclass 
  1.         syntax, hetlist(str) 
  2. 
.         local title_list "" 
  3.         foreach var in `hetlist' {
  4.                 if "`var'" == "med_hhinc20105" {
  5.                         local title_list `"`title_list' "\shortstack{Media
> n \\ income}""'
  6.                 }
  7.                 if "`var'" == "renthouse_share2010" {
  8.                         local title_list `"`title_list' "\shortstack{Rent 
> \\ house (\%)}""'
  9.                 }
 10.                 if "`var'" == "college_share20105" {
 11.                         local title_list `"`title_list' "\shortstack{Colle
> ge \\ grad. (\%)}""'
 12.                 }
 13.                 if "`var'" == "black_share2010" {
 14.                         local title_list `"`title_list' "\shortstack{Afric
> an- \\ am. (\%)}""'
 15.                 }
 16.                 if "`var'" == "nonwhite_share2010" {
 17.                         local title_list `"`title_list' "\shortstack{Non-w
> hite \\ pop. (\%)}""'
 18.                 }
 19.                 if "`var'" == "work_county_share20105" {
 20.                         local title_list `"`title_list' "\shortstack{Work 
> in \\ county (\%)}""'
 21.                 }
 22.                 if "`var'" == "unemp_share20105" {
 23.                         local title_list `"`title_list' "\shortstack{Unemp
> . \\ rate (\%)}""'
 24.                 }
 25.                 if "`var'" == "teen_share2010" {
 26.                         local title_list `"`title_list' "\shortstack{15-24
>  years \\ old (\%)}""'
 27.                 }
 28.                 if "`var'" == "lo_hhinc_share20105" {
 29.                         local title_list `"`title_list' "\shortstack{< 45,
> 000USD/yr \\ (\%)}""'
 30.                 }               
 31.                 if "`var'" == "walall_njob_29young_ssh" {
 32.                         local title_list `"`title_list' "\shortstack{Young
>  worker, \\ workplace}""'             
 33.                 }
 34.                 if "`var'" == "halall_njob_29young_ssh" {
 35.                         local title_list `"`title_list' "\shortstack{Young
>  worker, \\ residence}""'             
 36.                 }
 37.                 if "`var'" == "walall_29y_lowinc_ssh" {
 38.                         local title_list `"`title_list' "\shortstack{Young
>  \\ low-income worker,\\ workplace}""'                
 39.                 }
 40.                 if "`var'" == "halall_29y_lowinc_ssh" {
 41.                         local title_list `"`title_list' "\shortstack{Young
>  \\ low-income worker,\\ residence}""'                
 42.                 }
 43.         }
 44. 
.         return local title_list "`title_list'" 
 45. end 

. 
. 
. *Execute 
. main 
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 2 HDFE groups                           F(  12,     40) =       2.18
Statistics robust to heteroskedasticity           Prob > F        =     0.0322
                                                  R-squared       =     0.0242
                                                  Adj R-squared   =     0.0127
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         qtl#|
   c.d_ln_mw |
          1  |   .0367851   .0223255     1.65   0.107    -.0083365    .0819066
          2  |   .0190931   .0146507     1.30   0.200    -.0105172    .0487033
          3  |   .0300298   .0246445     1.22   0.230    -.0197785    .0798382
          4  |   .0128877   .0126035     1.02   0.313     -.012585    .0383603
             |
ln_emp_biz~v |
         D1. |   .0031568    .004478     0.70   0.485    -.0058936    .0122072
             |
 ln_emp_info |
         D1. |   .0008527   .0044447     0.19   0.849    -.0081304    .0098359
             |
  ln_emp_fin |
         D1. |   .0111687   .0058898     1.90   0.065     -.000735    .0230724
             |
ln_estcou~rv |
         D1. |       .014   .0136825     1.02   0.312    -.0136534    .0416533
             |
ln_estcoun~o |
         D1. |   .0035967   .0052515     0.68   0.497    -.0070169    .0142102
             |
ln_estcoun~n |
         D1. |   -.004152   .0086593    -0.48   0.634    -.0216531    .0133491
             |
ln_avgwwag~o |
         D1. |   .0013521   .0018447     0.73   0.468    -.0023762    .0050805
             |
ln_avgwwag~n |
         D1. |  -.0014932   .0013017    -1.15   0.258     -.004124    .0011375
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
     zipcode |      1140        1140           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est1 stored)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 2 HDFE groups                           F(  12,     40) =       1.67
Statistics robust to heteroskedasticity           Prob > F        =     0.1114
                                                  R-squared       =     0.0243
                                                  Adj R-squared   =     0.0127
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         qtl#|
   c.d_ln_mw |
          1  |   .0353608   .0197318     1.79   0.081    -.0045187    .0752402
          2  |   .0448326   .0218012     2.06   0.046     .0007708    .0888944
          3  |   .0252266   .0208922     1.21   0.234    -.0169981    .0674513
          4  |  -.0004281   .0114489    -0.04   0.970    -.0235673     .022711
             |
ln_emp_biz~v |
         D1. |   .0031531   .0044863     0.70   0.486     -.005914    .0122202
             |
 ln_emp_info |
         D1. |   .0008311   .0044556     0.19   0.853     -.008174    .0098362
             |
  ln_emp_fin |
         D1. |   .0112463   .0058798     1.91   0.063    -.0006372    .0231297
             |
ln_estcou~rv |
         D1. |   .0140123   .0136712     1.02   0.312    -.0136182    .0416428
             |
ln_estcoun~o |
         D1. |   .0036134   .0052492     0.69   0.495    -.0069956    .0142224
             |
ln_estcoun~n |
         D1. |  -.0042028   .0086846    -0.48   0.631    -.0217551    .0133494
             |
ln_avgwwag~o |
         D1. |   .0013293   .0018366     0.72   0.473    -.0023826    .0050412
             |
ln_avgwwag~n |
         D1. |  -.0014236   .0012945    -1.10   0.278    -.0040398    .0011927
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
     zipcode |      1140        1140           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est2 stored)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 2 HDFE groups                           F(  12,     40) =       2.60
Statistics robust to heteroskedasticity           Prob > F        =     0.0116
                                                  R-squared       =     0.0242
                                                  Adj R-squared   =     0.0126
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         qtl#|
   c.d_ln_mw |
          1  |   .0194449   .0140029     1.39   0.173    -.0088559    .0477458
          2  |   .0186487    .015631     1.19   0.240    -.0129428    .0502402
          3  |    .020904   .0150276     1.39   0.172    -.0094678    .0512759
          4  |   .0410113   .0144128     2.85   0.007     .0118819    .0701407
             |
ln_emp_biz~v |
         D1. |   .0032242   .0044807     0.72   0.476    -.0058316      .01228
             |
 ln_emp_info |
         D1. |   .0008678   .0044361     0.20   0.846     -.008098    .0098335
             |
  ln_emp_fin |
         D1. |   .0108984   .0059554     1.83   0.075    -.0011379    .0229346
             |
ln_estcou~rv |
         D1. |   .0142058   .0136864     1.04   0.306    -.0134555    .0418671
             |
ln_estcoun~o |
         D1. |   .0036223   .0052224     0.69   0.492    -.0069326    .0141772
             |
ln_estcoun~n |
         D1. |   -.004299   .0086332    -0.50   0.621    -.0217474    .0131495
             |
ln_avgwwag~o |
         D1. |    .001352   .0018362     0.74   0.466    -.0023592    .0050632
             |
ln_avgwwag~n |
         D1. |  -.0015064   .0012935    -1.16   0.251    -.0041206    .0011078
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
     zipcode |      1140        1140           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est3 stored)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 2 HDFE groups                           F(  12,     40) =       1.96
Statistics robust to heteroskedasticity           Prob > F        =     0.0561
                                                  R-squared       =     0.0242
                                                  Adj R-squared   =     0.0126
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         qtl#|
   c.d_ln_mw |
          1  |     .01731   .0158671     1.09   0.282    -.0147585    .0493786
          2  |   .0215652   .0157967     1.37   0.180    -.0103611    .0534914
          3  |   .0206011   .0133859     1.54   0.132    -.0064529     .047655
          4  |   .0402345   .0163265     2.46   0.018     .0072373    .0732316
             |
ln_emp_biz~v |
         D1. |   .0032365   .0044854     0.72   0.475    -.0058289    .0123018
             |
 ln_emp_info |
         D1. |   .0008572   .0044336     0.19   0.848    -.0081034    .0098178
             |
  ln_emp_fin |
         D1. |    .010968   .0059293     1.85   0.072    -.0010157    .0229516
             |
ln_estcou~rv |
         D1. |   .0139387   .0136471     1.02   0.313    -.0136431    .0415205
             |
ln_estcoun~o |
         D1. |   .0036709   .0052382     0.70   0.487    -.0069159    .0142577
             |
ln_estcoun~n |
         D1. |  -.0041551   .0087128    -0.48   0.636    -.0217644    .0134542
             |
ln_avgwwag~o |
         D1. |   .0013284   .0018379     0.72   0.474    -.0023862     .005043
             |
ln_avgwwag~n |
         D1. |   -.001519   .0012988    -1.17   0.249     -.004144    .0011061
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
     zipcode |      1140        1140           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est4 stored)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    107,601
Absorbing 2 HDFE groups                           F(  12,     38) =       2.28
Statistics robust to heteroskedasticity           Prob > F        =     0.0270
                                                  R-squared       =     0.0241
                                                  Adj R-squared   =     0.0125
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         39       Root MSE        =     0.0281

                             (Std. Err. adjusted for 39 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         qtl#|
   c.d_ln_mw |
          1  |   .0212775   .0131983     1.61   0.115    -.0054411    .0479961
          2  |   .0337504   .0195325     1.73   0.092    -.0057911    .0732919
          3  |   .0194733   .0186405     1.04   0.303    -.0182624     .057209
          4  |   .0245846   .0330757     0.74   0.462    -.0423736    .0915429
             |
ln_emp_biz~v |
         D1. |   .0030138   .0044835     0.67   0.506    -.0060625    .0120902
             |
 ln_emp_info |
         D1. |   .0010044    .004398     0.23   0.821    -.0078989    .0099076
             |
  ln_emp_fin |
         D1. |   .0111068   .0059645     1.86   0.070    -.0009677    .0231813
             |
ln_estcou~rv |
         D1. |   .0137867   .0137048     1.01   0.321    -.0139573    .0415306
             |
ln_estcoun~o |
         D1. |    .003885   .0052755     0.74   0.466    -.0067948    .0145648
             |
ln_estcoun~n |
         D1. |  -.0043784   .0087421    -0.50   0.619    -.0220759    .0133192
             |
ln_avgwwag~o |
         D1. |   .0012905   .0018396     0.70   0.487    -.0024336    .0050146
             |
ln_avgwwag~n |
         D1. |  -.0014791   .0012804    -1.16   0.255    -.0040711    .0011129
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
     zipcode |      1137        1137           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est5 stored)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    107,740
Absorbing 2 HDFE groups                           F(  12,     39) =       2.73
Statistics robust to heteroskedasticity           Prob > F        =     0.0089
                                                  R-squared       =     0.0242
                                                  Adj R-squared   =     0.0126
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         40       Root MSE        =     0.0281

                             (Std. Err. adjusted for 40 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         qtl#|
   c.d_ln_mw |
          1  |  -.0033801   .0097896    -0.35   0.732    -.0231815    .0164213
          2  |   .0300904   .0128462     2.34   0.024     .0041065    .0560744
          3  |   .0496974   .0201581     2.47   0.018     .0089237    .0904711
          4  |   .0267083   .0197752     1.35   0.185    -.0132907    .0667074
             |
ln_emp_biz~v |
         D1. |   .0031368   .0044924     0.70   0.489      -.00595    .0122236
             |
 ln_emp_info |
         D1. |    .001047   .0043815     0.24   0.812    -.0078154    .0099094
             |
  ln_emp_fin |
         D1. |   .0114883   .0059054     1.95   0.059    -.0004565    .0234331
             |
ln_estcou~rv |
         D1. |   .0136559   .0137144     1.00   0.326    -.0140842    .0413959
             |
ln_estcoun~o |
         D1. |   .0038569   .0052577     0.73   0.468    -.0067777    .0144915
             |
ln_estcoun~n |
         D1. |  -.0041462   .0086706    -0.48   0.635    -.0216841    .0133916
             |
ln_avgwwag~o |
         D1. |   .0012574    .001834     0.69   0.497    -.0024521    .0049669
             |
ln_avgwwag~n |
         D1. |  -.0014808   .0013023    -1.14   0.262     -.004115    .0011534
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
     zipcode |      1139        1139           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est6 stored)
(note: file ../output/fd_table_het.tex not found)
(output written to ../output/fd_table_het.tex)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    107,601
Absorbing 2 HDFE groups                           F(  12,     38) =       2.28
Statistics robust to heteroskedasticity           Prob > F        =     0.0270
                                                  R-squared       =     0.0241
                                                  Adj R-squared   =     0.0125
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         39       Root MSE        =     0.0281

                             (Std. Err. adjusted for 39 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         qtl#|
   c.d_ln_mw |
          1  |   .0212775   .0131983     1.61   0.115    -.0054411    .0479961
          2  |   .0337504   .0195325     1.73   0.092    -.0057911    .0732919
          3  |   .0194733   .0186405     1.04   0.303    -.0182624     .057209
          4  |   .0245846   .0330757     0.74   0.462    -.0423736    .0915429
             |
ln_emp_biz~v |
         D1. |   .0030138   .0044835     0.67   0.506    -.0060625    .0120902
             |
 ln_emp_info |
         D1. |   .0010044    .004398     0.23   0.821    -.0078989    .0099076
             |
  ln_emp_fin |
         D1. |   .0111068   .0059645     1.86   0.070    -.0009677    .0231813
             |
ln_estcou~rv |
         D1. |   .0137867   .0137048     1.01   0.321    -.0139573    .0415306
             |
ln_estcoun~o |
         D1. |    .003885   .0052755     0.74   0.466    -.0067948    .0145648
             |
ln_estcoun~n |
         D1. |  -.0043784   .0087421    -0.50   0.619    -.0220759    .0133192
             |
ln_avgwwag~o |
         D1. |   .0012905   .0018396     0.70   0.487    -.0024336    .0050146
             |
ln_avgwwag~n |
         D1. |  -.0014791   .0012804    -1.16   0.255    -.0040711    .0011129
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
     zipcode |      1137        1137           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est1 stored)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    107,740
Absorbing 2 HDFE groups                           F(  12,     39) =       2.73
Statistics robust to heteroskedasticity           Prob > F        =     0.0089
                                                  R-squared       =     0.0242
                                                  Adj R-squared   =     0.0126
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         40       Root MSE        =     0.0281

                             (Std. Err. adjusted for 40 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         qtl#|
   c.d_ln_mw |
          1  |  -.0033801   .0097896    -0.35   0.732    -.0231815    .0164213
          2  |   .0300904   .0128462     2.34   0.024     .0041065    .0560744
          3  |   .0496974   .0201581     2.47   0.018     .0089237    .0904711
          4  |   .0267083   .0197752     1.35   0.185    -.0132907    .0667074
             |
ln_emp_biz~v |
         D1. |   .0031368   .0044924     0.70   0.489      -.00595    .0122236
             |
 ln_emp_info |
         D1. |    .001047   .0043815     0.24   0.812    -.0078154    .0099094
             |
  ln_emp_fin |
         D1. |   .0114883   .0059054     1.95   0.059    -.0004565    .0234331
             |
ln_estcou~rv |
         D1. |   .0136559   .0137144     1.00   0.326    -.0140842    .0413959
             |
ln_estcoun~o |
         D1. |   .0038569   .0052577     0.73   0.468    -.0067777    .0144915
             |
ln_estcoun~n |
         D1. |  -.0041462   .0086706    -0.48   0.635    -.0216841    .0133916
             |
ln_avgwwag~o |
         D1. |   .0012574    .001834     0.69   0.497    -.0024521    .0049669
             |
ln_avgwwag~n |
         D1. |  -.0014808   .0013023    -1.14   0.262     -.004115    .0011534
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
     zipcode |      1139        1139           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est2 stored)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    107,601
Absorbing 2 HDFE groups                           F(  12,     38) =       2.48
Statistics robust to heteroskedasticity           Prob > F        =     0.0164
                                                  R-squared       =     0.0241
                                                  Adj R-squared   =     0.0125
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         39       Root MSE        =     0.0281

                             (Std. Err. adjusted for 39 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         qtl#|
   c.d_ln_mw |
          1  |   .0351656   .0166537     2.11   0.041      .001452    .0688792
          2  |   .0076778   .0239392     0.32   0.750    -.0407846    .0561403
          3  |   .0382315   .0186929     2.05   0.048     .0003896    .0760733
          4  |   .0105448   .0142191     0.74   0.463    -.0182404    .0393299
             |
ln_emp_biz~v |
         D1. |    .002989   .0045013     0.66   0.511    -.0061234    .0121014
             |
 ln_emp_info |
         D1. |   .0009908   .0043963     0.23   0.823     -.007909    .0098906
             |
  ln_emp_fin |
         D1. |   .0111215   .0059695     1.86   0.070    -.0009631    .0232061
             |
ln_estcou~rv |
         D1. |   .0137692    .013739     1.00   0.323    -.0140438    .0415823
             |
ln_estcoun~o |
         D1. |   .0037519   .0052832     0.71   0.482    -.0069435    .0144472
             |
ln_estcoun~n |
         D1. |  -.0044222   .0087179    -0.51   0.615    -.0220707    .0132264
             |
ln_avgwwag~o |
         D1. |    .001302   .0018447     0.71   0.485    -.0024324    .0050364
             |
ln_avgwwag~n |
         D1. |   -.001499   .0013083    -1.15   0.259    -.0041475    .0011496
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
     zipcode |      1137        1137           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est3 stored)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    107,740
Absorbing 2 HDFE groups                           F(  12,     39) =       2.18
Statistics robust to heteroskedasticity           Prob > F        =     0.0336
                                                  R-squared       =     0.0241
                                                  Adj R-squared   =     0.0126
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         40       Root MSE        =     0.0281

                             (Std. Err. adjusted for 40 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         qtl#|
   c.d_ln_mw |
          1  |   .0204322    .012964     1.58   0.123    -.0057899    .0466544
          2  |   .0049395   .0170593     0.29   0.774    -.0295663    .0394452
          3  |   .0502759   .0176698     2.85   0.007     .0145354    .0860164
          4  |   .0241373     .02085     1.16   0.254    -.0180358    .0663105
             |
ln_emp_biz~v |
         D1. |   .0031324   .0044935     0.70   0.490    -.0059566    .0122214
             |
 ln_emp_info |
         D1. |   .0010212   .0043961     0.23   0.818    -.0078706    .0099131
             |
  ln_emp_fin |
         D1. |   .0113955   .0059324     1.92   0.062     -.000604     .023395
             |
ln_estcou~rv |
         D1. |   .0134817   .0137145     0.98   0.332    -.0142586     .041222
             |
ln_estcoun~o |
         D1. |   .0037759   .0052567     0.72   0.477    -.0068567    .0144085
             |
ln_estcoun~n |
         D1. |  -.0040674   .0087557    -0.46   0.645    -.0217773    .0136426
             |
ln_avgwwag~o |
         D1. |   .0012712   .0018359     0.69   0.493    -.0024423    .0049847
             |
ln_avgwwag~n |
         D1. |  -.0014627   .0012978    -1.13   0.267    -.0040877    .0011624
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
     zipcode |      1139        1139           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est4 stored)
(note: file ../output/fd_table_workers.tex not found)
(output written to ../output/fd_table_workers.tex)

. 
end of do-file


Execute:  StataMP-64 /e do "./horse_race.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./horse_race.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. set maxvar 32000 


. 
. program main
  1.         local instub "../temp"
  2.         local outstub "../output"
  3. 
.         use "`instub'/fd_rent_panel.dta", clear
  4. 
.         make_results_labels, w(5)
  5.         local estlabels "`r(estlabels_with_lagged_y)'"
  6. 
.         horse_race_models, depvar(ln_med_rent_psqft_sfcc) w(5) ///
>                 absorb(year_month) cluster(statefips)
  7.         esttab * using "`outstub'/horse_race.tex", compress se replace sub
> stitute(\_ _)         ///
>                 keep(*.ln_mw *.ln_med_rent_psqft_sfcc) ///
>                 order(F5D.ln_mw F4D.ln_mw F3D.ln_mw F2D.ln_mw FD.ln_mw D.ln_m
> w ///
>                         LD.ln_mw L2D.ln_mw L3D.ln_mw L4D.ln_mw L5D.ln_mw LD.l
> n_med_rent_psqft_sfcc) ///
>                 coeflabels(`estlabels') ///
>                 stats(k cumsum_b cumsum_V longrun_b longrun_V k p_value_F N, 
> ///
>                         fmt(%s1 %s7 %s7 %s7 %s7 %s1 %9.3f %9.0gc) ///
>                 labels("\vspace{-2mm}" "Cumulative effect" " " "Long-run effe
> ct" " " ///
>                         "\hline" "P-value no pretrends" "Observations")) /// 
>                 star(* 0.10 ** 0.05 *** 0.01)   ///
>                 mtitles("\shortstack{Static \\ model}" "\shortstack{Dynamic \
> \ model}" "\shortstack{Distributed \\ Lags model}" ///
>                 "\shortstack{AB Dynamic \\ model}" "\shortstack{AB Distribute
> d \\ Lags model}") nonote
  8.                 
.                 * "\shortstack{MW Dynamic \\ model}" "\shortstack{MW Distribu
> ted \\ Lags model}"
. end

. 
. program horse_race_models
  1.     syntax, depvar(str) w(int) absorb(str) cluster(str) 
  2.         
.     eststo clear
  3.         define_controls
  4.         local emp_ctrls "`r(emp_ctrls)'"
  5.         local estcount_ctrls "`r(estcount_ctrls)'"
  6.         local avgwwage_ctrls "`r(avgwwage_ctrls)'"
  7.         local controls `"`emp_ctrls' `estcount_ctrls' `avgwwage_ctrls'"'
  8. 
.         local lincomest_coeffs "D1.ln_mw + LD.ln_mw"
  9.         local pretrend_test "(F1D.ln_mw = 0)"
 10.         forvalues i = 2(1)`w'{
 11.                 local lincomest_coeffs "`lincomest_coeffs' + L`i'D.ln_mw"
 12.             local pretrend_test " `pretrend_test' (F`i'D.ln_mw = 0)"
 13.         }
 14. 
.         eststo: reghdfe D.`depvar' D.ln_mw D.(`controls'),      ///
>                 absorb(`absorb') vce(cluster `cluster') nocons
 15. 
.         eststo: reghdfe D.`depvar' L(-`w'/`w').D.ln_mw D.(`controls'), ///
>                 absorb(`absorb') vce(cluster `cluster') nocons
 16.         test `pretrend_test'
 17.         estadd scalar p_value_F = r(p)
 18.         estadd local k ""
 19.         add_cumsum, coefficients(`lincomest_coeffs') est_i(2)
 20.                 
.         eststo: reghdfe D.`depvar' L(0/`w').D.ln_mw D.(`controls'), ///
>                 absorb(`absorb') vce(cluster `cluster') nocons
 21.         estadd local k ""
 22.         add_cumsum, coefficients(`lincomest_coeffs') est_i(3)
 23.         
.         eststo: ivreghdfe D.`depvar' L(-`w'/`w').D.ln_mw (L.D.`depvar' = L2.D
> .`depvar') D.(`controls'), ///
>                 absorb(`absorb') cluster (`cluster') nocons
 24.         test `pretrend_test'
 25.         estadd scalar p_value_F = r(p)
 26.         estadd local k ""
 27.         add_long_run, depvar(`depvar') est_i(4)
 28. 
.         eststo: ivreghdfe D.`depvar' L(0/`w').D.ln_mw (L.D.`depvar' = L2.D.`d
> epvar') D.(`controls'), ///
>                 absorb(`absorb') cluster (`cluster') nocons
 29.         add_long_run, depvar(`depvar') est_i(5)
 30. 
.         /*
>         local w_plus1 = `w' + 1
>         eststo: ivreghdfe D.`depvar' L(-`w'/`w').D.ln_mw (L.D.`depvar' = L`w_
> plus1'.D.ln_mw) D.(`controls'), ///
>                 absorb(`absorb') cluster (`cluster') nocons
>         test `pretrend_test'
>         estadd scalar p_value_F = r(p)
>         estadd local k ""
>         add_long_run, depvar(`depvar') est_i(6)
> 
>         eststo: ivreghdfe D.`depvar' L(0/`w').D.ln_mw (L.D.`depvar' = L`w_plu
> s1'.D.ln_mw) D.(`controls'), ///
>                 absorb(`absorb') cluster (`cluster') nocons
>         add_long_run, depvar(`depvar') est_i(7) 
>         */
. end

. 
. program comment_table_control
  1.         syntax, emp(str) estab(str) wage(str) housing(str)
  2. 
.         estadd local ctrl_emp   "`emp'"
  3.         estadd local ctrl_estab "`estab'"
  4.         estadd local ctrl_wage  "`wage'"
  5.         estadd local ctrl_building "`housing'"
  6. end

. 
. program add_cumsum
  1.         syntax, coefficients(str) est_i(int)
  2.         lincomest `coefficients'
  3.         mat b = e(b)
  4.         mat V = e(V)
  5.         local b_digits = round(b[1,1], 0.001)
  6.         local se_digits = round(V[1,1]^.5, 0.001)
  7.         if abs(b[1,1]/(V[1,1]^.5)) > 1.96 {
  8.                 local star = "\sym{**}"
  9.         }
 10.         else if abs(b[1,1]/(V[1,1]^.5)) > 1.65 {
 11.                 local star = "\sym{*}"
 12.         }
 13.         else {
 14.                 local star = ""
 15.         }
 16. 
.         estadd local cumsum_b = "0`b_digits'`star'": est`est_i'
 17.         estadd local cumsum_V = "(0`se_digits')":  est`est_i'
 18. end

. 
. program add_long_run
  1.         syntax, depvar(str) est_i(int)
  2.         
.         nlcom (_b[D1.ln_mw] + _b[LD.ln_mw])/(1 - _b[LD.`depvar'])
  3.         mat b = r(b)
  4.         mat V = r(V)
  5.         local b_digits = round(b[1,1], 0.001)
  6.         local se_digits = round(V[1,1]^.5, 0.001)
  7.         if abs(b[1,1]/(V[1,1]^.5)) > 1.96 {
  8.                 local star = "\sym{**}"
  9.         }
 10.         else if abs(b[1,1]/(V[1,1]^.5)) > 1.65 {
 11.                 local star = "\sym{*}"
 12.         }
 13.         else {
 14.                 local star = ""
 15.         }
 16. 
.         estadd local longrun_b = "0`b_digits'`star'": est`est_i'
 17.         estadd local longrun_V = "(0`se_digits')":  est`est_i'
 18. end

. 
. 
. main
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    107,814
Absorbing 1 HDFE group                            F(   9,     40) =       2.26
Statistics robust to heteroskedasticity           Prob > F        =     0.0373
                                                  R-squared       =     0.0223
                                                  Adj R-squared   =     0.0212
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |    .025567    .012474     2.05   0.047     .0003561    .0507778
             |
ln_emp_biz~v |
         D1. |   .0048843   .0043705     1.12   0.270    -.0039488    .0137175
             |
 ln_emp_info |
         D1. |   .0013944   .0043386     0.32   0.750    -.0073742    .0101631
             |
  ln_emp_fin |
         D1. |   .0136885   .0054423     2.52   0.016     .0026891    .0246879
             |
ln_estcou~rv |
         D1. |   .0170306   .0138143     1.23   0.225    -.0108891    .0449504
             |
ln_estcoun~o |
         D1. |   .0040387   .0053888     0.75   0.458    -.0068524    .0149299
             |
ln_estcoun~n |
         D1. |  -.0010255   .0095541    -0.11   0.915     -.020335     .018284
             |
ln_avgwwag~o |
         D1. |   .0013919   .0018369     0.76   0.453    -.0023206    .0051044
             |
ln_avgwwag~n |
         D1. |  -.0014928   .0012968    -1.15   0.257    -.0041138    .0011282
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       115           0         115     |
-----------------------------------------------------+
(est1 stored)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    105,463
Absorbing 1 HDFE group                            F(  19,     40) =       7.95
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0224
                                                  Adj R-squared   =     0.0213
                                                  Within R-sq.    =     0.0004
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0144124   .0088971    -1.62   0.113    -.0323941    .0035693
        F4D. |  -.0019305   .0114831    -0.17   0.867    -.0251386    .0212777
        F3D. |   .0000879   .0091361     0.01   0.992    -.0183769    .0185526
        F2D. |   .0064868   .0116857     0.56   0.582    -.0171309    .0301045
         FD. |  -.0004972   .0123481    -0.04   0.968    -.0254537    .0244593
         D1. |   .0257382   .0125127     2.06   0.046     .0004492    .0510273
         LD. |   .0144176   .0071865     2.01   0.052    -.0001068    .0289421
        L2D. |  -.0063877   .0132315    -0.48   0.632    -.0331296    .0203542
        L3D. |   .0044055   .0075921     0.58   0.565    -.0109387    .0197498
        L4D. |   .0097958   .0065353     1.50   0.142    -.0034126    .0230042
        L5D. |   .0098654   .0065172     1.51   0.138    -.0033063    .0230371
             |
ln_emp_biz~v |
         D1. |   .0054532   .0042452     1.28   0.206    -.0031267     .014033
             |
 ln_emp_info |
         D1. |   .0015997   .0042468     0.38   0.708    -.0069835    .0101829
             |
  ln_emp_fin |
         D1. |   .0134047   .0055866     2.40   0.021     .0021137    .0246957
             |
ln_estcou~rv |
         D1. |   .0164958   .0139731     1.18   0.245     -.011745    .0447365
             |
ln_estcoun~o |
         D1. |   .0038845   .0054038     0.72   0.476     -.007037    .0148059
             |
ln_estcoun~n |
         D1. |   -.000991    .009607    -0.10   0.918    -.0204074    .0184253
             |
ln_avgwwag~o |
         D1. |   .0014355   .0018357     0.78   0.439    -.0022746    .0051456
             |
ln_avgwwag~n |
         D1. |  -.0015869   .0012832    -1.24   0.223    -.0041804    .0010065
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+
(est2 stored)

 ( 1)  FD.ln_mw = 0
 ( 2)  F2D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F4D.ln_mw = 0
 ( 5)  F5D.ln_mw = 0

       F(  5,    40) =    0.72
            Prob > F =    0.6151

added scalar:
          e(p_value_F) =  .61512235

added macro:
                  e(k) : ""
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0578349   .0342731     1.69   0.099    -.0114336    .1271033
------------------------------------------------------------------------------
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    107,743
Absorbing 1 HDFE group                            F(  14,     40) =       9.89
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0222
                                                  Adj R-squared   =     0.0211
                                                  Within R-sq.    =     0.0003
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0257992   .0125586     2.05   0.047     .0004173     .051181
         LD. |   .0171794   .0076441     2.25   0.030       .00173    .0326287
        L2D. |  -.0061729   .0123044    -0.50   0.619    -.0310411    .0186953
        L3D. |    .004427   .0077271     0.57   0.570      -.01119     .020044
        L4D. |   .0094111   .0067071     1.40   0.168    -.0041444    .0229666
        L5D. |   .0090267   .0067668     1.33   0.190    -.0046496     .022703
             |
ln_emp_biz~v |
         D1. |   .0049881   .0042826     1.16   0.251    -.0036675    .0136436
             |
 ln_emp_info |
         D1. |   .0013773   .0043079     0.32   0.751    -.0073292    .0100838
             |
  ln_emp_fin |
         D1. |   .0139442   .0052765     2.64   0.012       .00328    .0246084
             |
ln_estcou~rv |
         D1. |   .0165067   .0139674     1.18   0.244    -.0117225    .0447358
             |
ln_estcoun~o |
         D1. |   .0038847   .0053969     0.72   0.476    -.0070228    .0147921
             |
ln_estcoun~n |
         D1. |  -.0009936   .0095194    -0.10   0.917    -.0202331    .0182459
             |
ln_avgwwag~o |
         D1. |   .0014133   .0018199     0.78   0.442    -.0022647    .0050914
             |
ln_avgwwag~n |
         D1. |  -.0015836   .0013078    -1.21   0.233    -.0042267    .0010595
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       111           0         111     |
-----------------------------------------------------+
(est3 stored)

added macro:
                  e(k) : ""
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0596704    .034386     1.74   0.090    -.0098263    .1291671
------------------------------------------------------------------------------
Warning: time variable year_month has 140 gap(s) in relevant range
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on statefips

Number of clusters (statefips) =     41               Number of obs =   103254
                                                      F( 20,    40) =    71.99
                                                      Prob > F      =   0.0000
Total (centered) SS     =  79.54314258                Centered R2   =  -0.3886
Total (uncentered) SS   =  79.54314258                Uncentered R2 =  -0.3886
Residual SS             =  110.4511366                Root MSE      =   .03273

------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
ln_med_ren~c |
         LD. |   .4244392   .0238561    17.79   0.000     .3762242    .4726542
             |
       ln_mw |
        F5D. |  -.0132338   .0090862    -1.46   0.153    -.0315977    .0051301
        F4D. |   .0053646   .0104801     0.51   0.612    -.0158164    .0265457
        F3D. |    .000636   .0092777     0.07   0.946    -.0181149    .0193869
        F2D. |   .0064265   .0141024     0.46   0.651    -.0220755    .0349286
         FD. |   -.005423   .0152898    -0.35   0.725    -.0363249    .0254789
         D1. |    .027803   .0155324     1.79   0.081    -.0035892    .0591952
         LD. |   .0024095     .00753     0.32   0.751    -.0128092    .0176283
        L2D. |  -.0126957   .0126181    -1.01   0.320    -.0381979    .0128065
        L3D. |   .0076761   .0074751     1.03   0.311    -.0074317    .0227839
        L4D. |   .0070342   .0065425     1.08   0.289    -.0061886     .020257
        L5D. |   .0053404   .0080973     0.66   0.513    -.0110247    .0217056
             |
ln_emp_biz~v |
         D1. |   -.000684   .0051778    -0.13   0.896    -.0111486    .0097807
             |
 ln_emp_info |
         D1. |   .0020239   .0048374     0.42   0.678    -.0077529    .0118006
             |
  ln_emp_fin |
         D1. |    .010997     .00664     1.66   0.106    -.0024229     .024417
             |
ln_estcou~rv |
         D1. |   .0097546    .012263     0.80   0.431    -.0150298     .034539
             |
ln_estcoun~o |
         D1. |   .0011897   .0066107     0.18   0.858    -.0121711    .0145505
             |
ln_estcoun~n |
         D1. |    .002435   .0083559     0.29   0.772    -.0144529    .0193229
             |
ln_avgwwag~o |
         D1. |   .0013063   .0019717     0.66   0.511    -.0026786    .0052911
             |
ln_avgwwag~n |
         D1. |    -.00208   .0012514    -1.66   0.104    -.0046092    .0004491
------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             12.090
                                                   Chi-sq(1) P-val =    0.0005
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):             6361.949
                         (Kleibergen-Paap rk Wald F statistic):       1375.764
Stock-Yogo weak ID test critical values: 10% maximal IV size             16.38
                                         15% maximal IV size              8.96
                                         20% maximal IV size              6.66
                                         25% maximal IV size              5.53
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         LD.ln_med_rent_psqft_sfcc
Included instruments: F5D.ln_mw F4D.ln_mw F3D.ln_mw F2D.ln_mw FD.ln_mw D.ln_mw
                      LD.ln_mw L2D.ln_mw L3D.ln_mw L4D.ln_mw L5D.ln_mw
                      D.ln_emp_bizserv D.ln_emp_info D.ln_emp_fin
                      D.ln_estcount_bizserv D.ln_estcount_info D.ln_estcount_fi
> n
                      D.ln_avgwwage_info D.ln_avgwwage_fin
Excluded instruments: L2D.ln_med_rent_psqft_sfcc
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+
(est4 stored)

 ( 1)  FD.ln_mw = 0
 ( 2)  F2D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F4D.ln_mw = 0
 ( 5)  F5D.ln_mw = 0

       F(  5,    40) =    0.53
            Prob > F =    0.7500

added scalar:
          e(p_value_F) =  .74995757

added macro:
                  e(k) : ""

       _nl_1:  (_b[D1.ln_mw] + _b[LD.ln_mw])/(1 - _b[LD.ln_med_rent_psqft_sfcc]
> )

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       _nl_1 |   .0524924   .0233339     2.25   0.024     .0067588     .098226
------------------------------------------------------------------------------
Warning: time variable year_month has 143 gap(s) in relevant range
(MWFE estimator converged in 1 iterations)

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on statefips

Number of clusters (statefips) =     41               Number of obs =   105534
                                                      F( 15,    40) =    78.46
                                                      Prob > F      =   0.0000
Total (centered) SS     =  81.13930202                Centered R2   =  -0.3969
Total (uncentered) SS   =  81.13930202                Uncentered R2 =  -0.3969
Residual SS             =   113.340556                Root MSE      =   .03279

------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
ln_med_ren~c |
         LD. |   .4315858   .0233357    18.49   0.000     .3844225    .4787491
             |
       ln_mw |
         D1. |   .0279128   .0156699     1.78   0.082    -.0037572    .0595828
         LD. |   .0059618   .0080757     0.74   0.465    -.0103598    .0222834
        L2D. |  -.0138143   .0117528    -1.18   0.247    -.0375676     .009939
        L3D. |   .0077082   .0072912     1.06   0.297    -.0070279    .0224442
        L4D. |   .0066166   .0068728     0.96   0.341    -.0072737     .020507
        L5D. |   .0046499   .0084292     0.55   0.584    -.0123861    .0216859
             |
ln_emp_biz~v |
         D1. |  -.0014823   .0053081    -0.28   0.781    -.0122103    .0092457
             |
 ln_emp_info |
         D1. |   .0018421   .0049402     0.37   0.711    -.0081424    .0118265
             |
  ln_emp_fin |
         D1. |   .0117064   .0060355     1.94   0.060    -.0004919    .0239046
             |
ln_estcou~rv |
         D1. |   .0097558   .0122611     0.80   0.431    -.0150248    .0345365
             |
ln_estcoun~o |
         D1. |   .0011223   .0066155     0.17   0.866    -.0122482    .0144928
             |
ln_estcoun~n |
         D1. |   .0024244   .0082814     0.29   0.771     -.014313    .0191618
             |
ln_avgwwag~o |
         D1. |   .0012764   .0019716     0.65   0.521    -.0027082    .0052611
             |
ln_avgwwag~n |
         D1. |  -.0020941   .0012721    -1.65   0.108    -.0046651    .0004768
------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             12.125
                                                   Chi-sq(1) P-val =    0.0005
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):             6429.158
                         (Kleibergen-Paap rk Wald F statistic):       1312.762
Stock-Yogo weak ID test critical values: 10% maximal IV size             16.38
                                         15% maximal IV size              8.96
                                         20% maximal IV size              6.66
                                         25% maximal IV size              5.53
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         LD.ln_med_rent_psqft_sfcc
Included instruments: D.ln_mw LD.ln_mw L2D.ln_mw L3D.ln_mw L4D.ln_mw L5D.ln_mw
                      D.ln_emp_bizserv D.ln_emp_info D.ln_emp_fin
                      D.ln_estcount_bizserv D.ln_estcount_info D.ln_estcount_fi
> n
                      D.ln_avgwwage_info D.ln_avgwwage_fin
Excluded instruments: L2D.ln_med_rent_psqft_sfcc
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       111           0         111     |
-----------------------------------------------------+
(est5 stored)

       _nl_1:  (_b[D1.ln_mw] + _b[LD.ln_mw])/(1 - _b[LD.ln_med_rent_psqft_sfcc]
> )

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       _nl_1 |   .0595949   .0238367     2.50   0.012     .0128758     .106314
------------------------------------------------------------------------------
(note: file ../output/horse_race.tex not found)
(output written to ../output/horse_race.tex)

. 
end of do-file

 make.py ended: 2020-12-11 13:43:16
