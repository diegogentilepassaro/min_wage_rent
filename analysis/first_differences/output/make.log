
 make.py started: 2020-10-01 11:13:38 /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/code 




Execute:  stataSE -e do "./preclean.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.1   Copyright 1985-2019 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

120-user Stata network perpetual license:
       Serial number:  401606201670
         Licensed to:  Brown University
                       Brown University

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./preclean.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "/Applications/Stata/ado/base/"
  [2]  (SITE)      "/Applications/Stata/ado/site/"
  [3]              "."
  [4]  (PERSONAL)  "/Users/gabriborg/Documents/Stata/ado/personal/"
  [5]  (PLUS)      "/Users/gabriborg/Library/Application Support/Stata/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. set maxvar 32000 


. 
. program main
  1.         local instub "../../../drive/derived_large/output"
  2.         local outstub "../temp"
  3.         local logfile "../output/data_file_manifest.log"
  4. 
. 
.         use "`instub'/baseline_rent_panel.dta", clear
  5.         keep zipcode place_code msa countyfips statefips                               
>                                  ///
>                 year_month calendar_month trend trend_sq trend_cu                         
>                               ///
>                 actual_mw medrentpricepsqft_sfcc medrentprice_sfcc                        
>                               ///
>                 med_hhinc20105 renthouse_share2010 white_share2010 black_share2010        
>               ///
>                 college_share20105 work_county_share20105
  6.         
. 
.         local het_vars "med_hhinc20105 renthouse_share2010 college_share20105 black_share2
> 010"
  7.         local het_vars "`het_vars' nonwhite_share2010 work_county_share20105"
  8. 
.         create_vars,    log_vars(actual_mw medrentpricepsqft_sfcc medrentprice_sfcc)    //
> /
>                                         heterogeneity_vars(`het_vars')
  9.         
.         simplify_varnames
 10. 
.         xtset zipcode year_month
 11.         gen d_ln_mw = D.ln_mw
 12. 
.         save_data "`outstub'/fd_rent_panel.dta", key(zipcode year_month) replace log(`logf
> ile')
 13. end

. 
. program create_vars
  1.         syntax, log_vars(str) heterogeneity_vars(str)
  2. 
.         foreach var in `log_vars' {
  3.                 gen ln_`var' = ln(`var')
  4.         }
  5. 
.         gen nonwhite_share2010 = 1 - white_share2010
  6.         
.         gen trend_times2 = 2*trend
  7. 
.         foreach var in `heterogeneity_vars' {
  8.                 *xtile `var'_nat_dec = `var', nq(10)
.                 xtile `var'_nat_qtl = `var', nq(4)
  9.                 levelsof statefips, local(states)
 10. 
.                 foreach state in `states'{
 11.                         *xtile deciles_`state'_`var' = `var' if statefips == `state', n
> q(10)
.                         xtile qtiles_`state'_`var' = `var' if statefips == `state', nq(4)
 12.                 }
 13.                 *egen `var'_st_dec = rowtotal(deciles_*)
.                 egen `var'_st_qtl = rowtotal(qtiles_*)
 14.                 
.                 *drop deciles_* qtiles_*
.                 drop qtiles_*
 15.         }
 16. 
. end

. 
. program simplify_varnames
  1.         
.     rename      (ln_actual_mw   ln_medrentpricepsqft_sfcc)              ///
>                 (ln_mw                  ln_med_rent_psqft)
  2. 
. end

. 
. main
(43,225 missing values generated)
(30,956 missing values generated)
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 20 21 22 24 25 26 27 28 29 32 34 35 36 37 39 40 41 42 
> 44 45 47 48 49 51 53 54 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 20 21 22 24 25 26 27 28 29 32 34 35 36 37 39 40 41 42 
> 44 45 47 48 49 51 53 54 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 20 21 22 24 25 26 27 28 29 32 34 35 36 37 39 40 41 42 
> 44 45 47 48 49 51 53 54 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 20 21 22 24 25 26 27 28 29 32 34 35 36 37 39 40 41 42 
> 44 45 47 48 49 51 53 54 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 20 21 22 24 25 26 27 28 29 32 34 35 36 37 39 40 41 42 
> 44 45 47 48 49 51 53 54 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 20 21 22 24 25 26 27 28 29 32 34 35 36 37 39 40 41 42 
> 44 45 47 48 49 51 53 54 56
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(1,305 missing values generated)
(data already sorted by zipcode year_month)
  variable trend_times2 was float now int
  variable med_hhinc20105_st_qtl was float now byte
  variable renthouse_share2010_st_qtl was float now byte
  variable college_share20105_st_qtl was float now byte
  variable black_share2010_st_qtl was float now byte
  variable nonwhite_share2010_st_qtl was float now byte
  variable work_county_share20105_st_qtl was float now byte
  (3,132,000 bytes saved)
============================================================================
File: ../temp/fd_rent_panel.dta
Key: zipcode year_month
============================================================================
  156600:37(57114):3972239627:4251456276

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    156,600    51920.57    29185.78       2113      99577
  year_month |    156,600       659.5    34.63992        600        719
  place_code |    129,840    40657.65    22564.03        410      87240
  countyfips |    156,240    24077.04    16484.28       1003      56021
   statefips |    156,600    23.97854    16.42626          1         56
-------------+---------------------------------------------------------
medre~e_sfcc |    125,644    1651.102    702.9949        595       6595
   actual_mw |    156,600     8.07779    1.207718       7.25         16
calendar_m~h |    156,600         6.5    3.452064          1         12
         msa |    156,600    436.1801    240.1675         12        860
       trend |    156,600       225.5    34.63992        166        285
-------------+---------------------------------------------------------
    trend_sq |    156,600    52050.17    15659.42      27556      81225
    trend_cu |    156,600    1.23e+07     5408203    4574296   2.31e+07
medre~t_sfcc |    113,375    1.188344    .7824813   .4180214   6.731387
white_s~2010 |    156,600    .5392018    .2225559   .0037838   .9401773
black_s~2010 |    156,600     .165993    .2003044    .003148   .9753076
-------------+---------------------------------------------------------
renthou~2010 |    156,600    .3834818     .176359   .0644567   .9662035
work_c~20105 |    156,600    .7557563    .2036341   .1421741    .995271
colleg~20105 |    156,600    .4447718    .1662964   .0856991   .9082218
med_hh~20105 |    156,600    66919.72    24575.33   20527.66   191553.2
       ln_mw |    156,600    2.079602    .1327775   1.981001   2.772589
-------------+---------------------------------------------------------
ln_med_ren~t |    113,375    .0472541    .4493362  -.8722228   1.906781
ln_medrent~c |    125,644    7.334093    .3761665   6.388561   8.794067
nonwhit~2010 |    156,600    .4607982    .2225559   .0598227   .9962162
trend_times2 |    156,600         451    69.27985        332        570
med_h~at_qtl |    156,600    2.498851     1.11838          1          4
-------------+---------------------------------------------------------
med_h~st_qtl |    156,600    2.467433    1.120644          1          4
renth~at_qtl |    156,600    2.498851     1.11838          1          4
renth~st_qtl |    156,600    2.467433    1.120644          1          4
colle~at_qtl |    156,600    2.498851     1.11838          1          4
colle~st_qtl |    156,600    2.467433    1.120644          1          4
-------------+---------------------------------------------------------
black~at_qtl |    156,600    2.498851     1.11838          1          4
black~st_qtl |    156,600    2.467433    1.120644          1          4
nonwh~at_qtl |    156,600    2.498851     1.11838          1          4
nonwh~st_qtl |    156,600    2.467433    1.120644          1          4
work_~at_qtl |    156,600    2.498851     1.11838          1          4
-------------+---------------------------------------------------------
work_~st_qtl |    156,600    2.467433    1.120644          1          4
     d_ln_mw |    155,295    .0016445    .0119584   -.290338   .2412503




(note: file ../temp/fd_rent_panel.dta not found)
file ../temp/fd_rent_panel.dta saved

. 
end of do-file


Execute:  stataSE -e do "./first_differences.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.1   Copyright 1985-2019 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

120-user Stata network perpetual license:
       Serial number:  401606201670
         Licensed to:  Brown University
                       Brown University

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./first_differences.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "/Applications/Stata/ado/base/"
  [2]  (SITE)      "/Applications/Stata/ado/site/"
  [3]              "."
  [4]  (PERSONAL)  "/Users/gabriborg/Documents/Stata/ado/personal/"
  [5]  (PLUS)      "/Users/gabriborg/Library/Application Support/Stata/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "/Applications/Stata/ado/base/"
  [2]  (SITE)      "/Applications/Stata/ado/site/"
  [3]              "."
  [4]  (PERSONAL)  "/Users/gabriborg/Documents/Stata/ado/personal/"
  [5]  (PLUS)      "/Users/gabriborg/Library/Application Support/Stata/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. set maxvar 32000 


. 
. program main
  1.         local instub "../temp"
  2.         local outstub "../output"
  3. 
.         use "`instub'/fd_rent_panel.dta", clear
  4. 
.         * Static Model
.         run_static_model, depvar(ln_med_rent_psqft) absorb(year_month)                    
>                       ///
>                 cluster(statefips)
  5. 
.         esttab * using "`outstub'/fd_table.tex", keep(D.ln_mw) compress se replace        
>               ///
>                 stats(zs_trend zs_trend_sq r2 N, fmt(%s3 %s3 %9.3f %9.0g)               //
> /
>                 labels("Zipcode-specifc linear trend"                                     
>                                               ///
>                 "Zipcode-specific linear and square trend"                                
>                               ///
>                 "R-squared" "Observations")) star(* 0.10 ** 0.05 *** 0.01)                
>                               ///
>                 nonote
  6.         
.         * Dynamic Model
.         run_dynamic_model, depvar(ln_med_rent_psqft) absorb(year_month)                   
>                       ///
>                 cluster(statefips)
  7.         
.         esttab reg1 reg2 reg3 using "`outstub'/fd_dynamic_table.tex",                     
>               ///
>                 keep(*.ln_mw) compress se replace                                         
>                                                       ///
>                 stats(p_value_F zs_trend zs_trend_sq r2 N, fmt(%9.3f %s3 %s3 %9.3f %9.0g) 
>               ///
>                 labels("P-value no pretrends" "Zipcode-specifc linear trend"              
>                                                                       ///
>                 "Zipcode-specific linear and square trend"                                
>                               ///
>                 "R-squared" "Observations")) star(* 0.10 ** 0.05 *** 0.01)                
>                               ///
>                 nonote
  8. 
.         esttab lincom1 lincom2 lincom3 using "`outstub'/fd_dynamic_lincom_table.tex", ///
>                 compress se replace                                                       
>                                                               ///
>         stats(zs_trend zs_trend_sq N, fmt(%s3 %s3 %9.0g)                                //
> /
>                 labels("Zipcode-specifc linear trend"                                     
>                                               ///
>             "Zipcode-specific linear and square trend" ///
>                 "Observations"))                                ///
>                 star(* 0.10 ** 0.05 *** 0.01)                                             
>                                                       ///
>                 nonote coeflabel((1) "Sum of MW effects")
  9. 
.         * Heterogeneity
.         foreach var in med_hhinc20105 renthouse_share2010 college_share20105              
>               ///
>                                 black_share2010 nonwhite_share2010 work_county_share20105 
> {
 10. 
.                 build_ytitle, var(`var')
 11. 
.                 run_static_heterogeneity, depvar(ln_med_rent_psqft) absorb(year_month)    
>               ///
>                         het_var(`var'_st_qtl) cluster(statefips) ytitle(`r(title)')
 12.                 graph export "`outstub'/fd_static_heter_`var'.png", replace
 13.         }
 14. end

. 
. program run_static_model
  1.     syntax, depvar(str) absorb(str) cluster(str)
  2. 
.         eststo clear
  3.         eststo reg1: reghdfe D.`depvar' D.ln_mw,                                       
>                  ///
>                 absorb(`absorb')                                                          
>                                       ///
>                 vce(cluster `cluster') nocons
  4.         comment_table, trend_lin("No") trend_sq("No")
  5.         
.         scalar static_effect = _b[D.ln_mw]
  6.         scalar static_effect_se = _se[D.ln_mw]
  7. 
.         eststo: reghdfe D.`depvar' D.ln_mw,                                               
>                       ///
>                 absorb(`absorb' i.zipcode)                                                
>               ///
>                 vce(cluster `cluster') nocons
  8.         comment_table, trend_lin("Yes") trend_sq("No")
  9. 
.         eststo: reghdfe D.`depvar' D.ln_mw,                                               
>                       ///
>                 absorb(`absorb' i.zipcode c.trend_times2#i.zipcode)             ///
>                 vce(cluster `cluster') nocons
 10.         comment_table, trend_lin("Yes") trend_sq("Yes")
 11. end

. 
. program run_dynamic_model
  1.         syntax, depvar(str) absorb(str) cluster(str) [w(int 5)]
  2.         
.         local lincomest_coeffs "D1.ln_mw + LD.ln_mw"
  3.         forvalues i = 2(1)`w'{
  4.                 local lincomest_coeffs "`lincomest_coeffs' + L`i'D.ln_mw"
  5.         }
  6. 
.         eststo clear
  7.         eststo reg1: reghdfe D.`depvar' L(-`w'/`w').D.ln_mw,                    ///
>                 absorb(`absorb')                                                          
>                               ///
>                 vce(cluster `cluster') nocons
  8.         comment_table, trend_lin("No") trend_sq("No")
  9.         
.         test (F5D.ln_mw = 0) (F4D.ln_mw = 0) (F3D.ln_mw = 0) (F2D.ln_mw = 0) (F1D.ln_mw = 
> 0)
 10.     estadd scalar p_value_F = r(p)
 11. 
.         preserve
 12.                 coefplot, vertical base gen
 13.                 keep __at __b __se
 14.                 rename (__at __b __se) (at b_full se_full)
 15.                 
.                 keep if !missing(at)
 16. 
.                 gen b_full_lb = b_full - 1.96*se_full
 17.                 gen b_full_ub = b_full + 1.96*se_full
 18.                 
.                 gen static_path = 0 if at <= `w' 
 19.                 replace static_path = scalar(static_effect) if at > `w'
 20.                 gen static_path_lb = 0 if at <= `w'
 21.                 replace static_path_lb = scalar(static_effect) - 1.96*scalar(static_eff
> ect_se) if at > `w'
 22.                 gen static_path_ub = 0 if at <= `w'
 23.                 replace static_path_ub = scalar(static_effect) + 1.96*scalar(static_eff
> ect_se) if at > `w'
 24.                 
.                 save "../temp/plot_coeffs.dta", replace
 25.     restore
 26.                 
.         eststo lincom1: lincomest `lincomest_coeffs'
 27.         comment_table, trend_lin("No") trend_sq("No")
 28.                         
.         qui reghdfe D.`depvar' L(0/`w').D.ln_mw,                        ///
>                 absorb(`absorb')                                                          
>                               ///
>                 vce(cluster `cluster') nocons
 29.                         
.         preserve
 30.                 coefplot, vertical base gen
 31.                 keep __at __b __se
 32.                 rename (__at __b __se) (at b_lags se_lags)
 33.                 tset at
 34. 
.             keep if !missing(at)
 35. 
.                 gen b_lags_lb = b_lags - 1.96*se_lags
 36.                 gen b_lags_ub = b_lags + 1.96*se_lags
 37.                 
.                 gen cumsum_b_lags = b_lags[1]
 38.                 replace cumsum_b_lags = cumsum_b_lags[_n-1] + b_lags[_n] if _n > 1
 39.                 
.                 replace at = at + `w'
 40.                 
.                 merge 1:1 at using "../temp/plot_coeffs.dta", nogen
 41.                 replace cumsum_b_lags = 0 if at <= `w'
 42.                 sort at
 43.                 
.                 // To avoid the lines overlapping perfectly
.                 gen at_full = at - 0.09
 44.                 gen at_lags = at + 0.09
 45.                 replace at_full = at if _n <= `w'
 46.                 replace at_lags = at if _n <= `w'
 47. 
.                 replace cumsum_b_lags = cumsum_b_lags - 0.00007 if _n <= `w'
 48.                 replace static_path = static_path + 0.00007 if _n <= `w'
 49. 
.                 // Figure
.                 twoway (scatter b_full at_full, mcol(navy))                             //
> /
>                         (rcap b_full_lb b_full_ub at_full, col(navy))                   //
> /
>                         (scatter b_lags at_lags, mcol(maroon))                            
>       ///
>                         (rcap b_lags_lb b_lags_ub at_lags, col(maroon))                 //
> /
>                         (line static_path at, lcol(gs4) lpat(dash))                     //
> /
>                         (line cumsum_b_lags at, lcol(maroon)),                            
>       ///
>                         yline(0, lcol(grey) lpat(dot))                                    
>               ///
>                         graphregion(color(white)) bgcolor(white)                          
>       ///
>                         xlabel(1 "F5D.ln_mw" 2 "F4D.ln_mw" 3 "F3D.ln_mw" 4 "F2D.ln_mw" ///
>                         5 "FD.ln_mw" 6 "D.ln_mw" 7 "LD.ln_mw" 8 "L2D.ln_mw" 9 "L3D.ln_mw" 
> ///
>                         10 "L4D.ln_mw" 11 "L5D.ln_mw", labsize(vsmall)) xtitle("Leads and 
> lags of ln MW") ///
>                         ytitle("Effect on ln rent per sqft")                              
>       ///
>                         legend(order(1 "Full dynamic model" 3 "Distributed lags model" ///
>                         5 "Effects path static model" 6 "Effects path distributed lags mod
> el") size(small))
 50.                 graph export "../output/fd_models.png", replace
 51.         restore 
 52.         
.         eststo reg2: reghdfe D.`depvar' L(-`w'/`w').D.ln_mw `if',               ///
>                 absorb(`absorb' i.zipcode)                                                
>       ///
>                 vce(cluster `cluster') nocons
 53.         comment_table, trend_lin("Yes") trend_sq("No")
 54.         
.         test (F5D.ln_mw = 0) (F4D.ln_mw = 0) (F3D.ln_mw = 0) (F2D.ln_mw = 0) (F1D.ln_mw = 
> 0)
 55.     estadd scalar p_value_F = r(p)
 56.         
.         eststo lincom2: lincomest `lincomest_coeffs'
 57.         comment_table, trend_lin("Yes") trend_sq("No")
 58.         
.         eststo reg3: reghdfe D.`depvar' L(-`w'/`w').D.ln_mw `if',               ///
>                 absorb(`absorb' i.zipcod c.trend_times2#i.zipcode)      ///
>                 vce(cluster `cluster') nocons
 59.         comment_table, trend_lin("Yes") trend_sq("Yes")
 60. 
.         test (F5D.ln_mw = 0) (F4D.ln_mw = 0) (F3D.ln_mw = 0) (F2D.ln_mw = 0) (F1D.ln_mw = 
> 0)
 61.     estadd scalar p_value_F = r(p)
 62.         
.         eststo lincom3: lincomest `lincomest_coeffs'
 63.         comment_table, trend_lin("Yes") trend_sq("Yes")
 64. end

. 
. program run_static_heterogeneity
  1.         syntax, depvar(str) absorb(str) cluster(str) het_var(str) ytitle(str) [qtles(in
> t 4)]
  2. 
.     eststo clear
  3.         reghdfe D.`depvar' c.d_ln_mw#i.`het_var',                                      
>                  ///
>                 absorb(`absorb') ///
>                 vce(cluster `cluster') nocons
  4. 
.         coefplot, base graphregion(color(white)) bgcolor(white)                           
>               ///
>         ylabel(1 "1" 2 "2" 3 "3" 4 "4")                                                 //
> /
>         ytitle(`ytitle')                                                                  
>                               ///
>         xtitle("Estimated effect of ln MW on ln rents")                                 //
> /
>         xline(0, lcol(grey) lpat(dot))
  5. end

. 
. program build_ytitle, rclass
  1.         syntax, var(str)
  2. 
.         if "`var'" == "med_hhinc20105" {
  3.                 return local title "Quintiles of within state 2010 median household inc
> ome"
  4.         }
  5.         if "`var'" == "renthouse_share2010" {
  6.                 return local title "Quintiles of 2010 share of houses rent"
  7.         }
  8.         if "`var'" == "college_share20105" {
  9.                 return local title "Quintiles of 2010 college share"
 10.         }
 11.         if "`var'" == "black_share2010" {
 12.                 return local title "Quintiles of 2010 share of black individuals"
 13.         }
 14.         if "`var'" == "nonwhite_share2010" {
 15.                 return local title "Quintiles of 2010 share of non-white individuals"
 16.         }
 17.         if "`var'" == "work_county_share20105" {
 18.                 return local title "Quintiles of 2010 share who work in county"
 19.         }                 
 20. end

. 
. program comment_table
  1.         syntax, trend_lin(str) trend_sq(str)
  2. 
.         estadd local zs_trend           "`trend_lin'"   
  3.         estadd local zs_trend_sq        "`trend_sq'"
  4. end

. 
. main
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   1,     40) =       4.13
Statistics robust to heteroskedasticity           Prob > F        =     0.0488
                                                  R-squared       =     0.0218
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~t |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0260395   .0128154     2.03   0.049     .0001386    .0519404
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 2 HDFE groups                           F(   1,     40) =       4.56
Statistics robust to heteroskedasticity           Prob > F        =     0.0389
                                                  R-squared       =     0.0236
                                                  Adj R-squared   =     0.0125
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~t |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0256987   .0120325     2.14   0.039     .0013801    .0500173
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
     zipcode |      1143        1143           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est2 stored)

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"
(MWFE estimator converged in 31 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 3 HDFE groups                           F(   1,     40) =       4.79
Statistics robust to heteroskedasticity           Prob > F        =     0.0345
                                                  R-squared       =     0.0264
                                                  Adj R-squared   =     0.0051
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0282

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~t |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |    .025532   .0116619     2.19   0.034     .0019624    .0491016
------------------------------------------------------------------------------

Absorbed degrees of freedom:
----------------------------------------------------------------+
            Absorbed FE | Categories  - Redundant  = Num. Coefs |
------------------------+---------------------------------------|
             year_month |       118           0         118     |
                zipcode |      1143        1143           0    *|
 zipcode#c.trend_times2 |      1143           0        1143    ?|
----------------------------------------------------------------+
? = number of redundant parameters may be higher
* = FE nested within cluster; treated as redundant for DoF computation
(est3 stored)

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"
(note: file ../output/fd_table.tex not found)
(output written to ../output/fd_table.tex)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    106,446
Absorbing 1 HDFE group                            F(  11,     40) =       5.26
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0222
                                                  Adj R-squared   =     0.0211
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~t |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0148356   .0090279    -1.64   0.108    -.0330816    .0034104
        F4D. |  -.0023735   .0115976    -0.20   0.839    -.0258131     .021066
        F3D. |   .0011058   .0091637     0.12   0.905    -.0174147    .0196264
        F2D. |   .0060276   .0115539     0.52   0.605    -.0173236    .0293788
         FD. |  -.0002217   .0122864    -0.02   0.986    -.0250534      .02461
         D1. |   .0270699   .0126282     2.14   0.038     .0015474    .0525925
         LD. |   .0135805    .007154     1.90   0.065    -.0008782    .0280392
        L2D. |  -.0070232   .0133453    -0.53   0.602     -.033995    .0199487
        L3D. |   .0036262   .0080799     0.45   0.656    -.0127038    .0199563
        L4D. |   .0107927   .0069339     1.56   0.127    -.0032212    .0248065
        L5D. |    .008621   .0068652     1.26   0.216    -.0052542    .0224961
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"

 ( 1)  F5D.ln_mw = 0
 ( 2)  F4D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F2D.ln_mw = 0
 ( 5)  FD.ln_mw = 0

       F(  5,    40) =    0.78
            Prob > F =    0.5675

added scalar:
          e(p_value_F) =  .56754406

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
--------------------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(156,589 observations deleted)
(6 missing values generated)
(6 real changes made)
(6 missing values generated)
(6 real changes made)
(6 missing values generated)
(6 real changes made)
(note: file ../temp/plot_coeffs.dta not found)
file ../temp/plot_coeffs.dta saved
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~t |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0566671   .0346332     1.64   0.110    -.0133293    .1266635
------------------------------------------------------------------------------

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
--------------------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
        time variable:  at, 1 to 6
                delta:  1 unit
(156,594 observations deleted)
(5 real changes made)
(6 real changes made)

    Result                           # of obs.
    -----------------------------------------
    not matched                             5
        from master                         0  
        from using                          5  

    matched                                 6  
    -----------------------------------------
(5 real changes made)
(5 real changes made)
(5 real changes made)
(5 real changes made)
(5 real changes made)
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/fd_models.png written in PNG format)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    106,446
Absorbing 2 HDFE groups                           F(  11,     40) =       4.82
Statistics robust to heteroskedasticity           Prob > F        =     0.0001
                                                  R-squared       =     0.0242
                                                  Adj R-squared   =     0.0125
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~t |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0153073    .009146    -1.67   0.102    -.0337921    .0031774
        F4D. |  -.0030621    .011022    -0.28   0.783    -.0253383    .0192142
        F3D. |   .0003797   .0082879     0.05   0.964    -.0163708    .0171302
        F2D. |   .0053139   .0120729     0.44   0.662    -.0190864    .0297142
         FD. |   -.000798   .0126499    -0.06   0.950    -.0263643    .0247683
         D1. |   .0265456   .0119411     2.22   0.032     .0024118    .0506795
         LD. |   .0128094   .0073927     1.73   0.091    -.0021318    .0277506
        L2D. |  -.0078453   .0134818    -0.58   0.564     -.035093    .0194024
        L3D. |   .0027691   .0075088     0.37   0.714    -.0124067     .017945
        L4D. |   .0099381   .0069494     1.43   0.160    -.0041071    .0239833
        L5D. |   .0077819   .0073506     1.06   0.296    -.0070743    .0226381
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
     zipcode |      1143        1143           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"

 ( 1)  F5D.ln_mw = 0
 ( 2)  F4D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F2D.ln_mw = 0
 ( 5)  FD.ln_mw = 0

       F(  5,    40) =    0.76
            Prob > F =    0.5814

added scalar:
          e(p_value_F) =  .58139317
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~t |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0519989   .0335108     1.55   0.129     -.015729    .1197268
------------------------------------------------------------------------------

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"
(MWFE estimator converged in 31 iterations)

HDFE Linear regression                            Number of obs   =    106,446
Absorbing 3 HDFE groups                           F(  11,     40) =       5.13
Statistics robust to heteroskedasticity           Prob > F        =     0.0001
                                                  R-squared       =     0.0272
                                                  Adj R-squared   =     0.0047
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0283

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~t |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0157145   .0093849    -1.67   0.102    -.0346821    .0032531
        F4D. |  -.0038162   .0101236    -0.38   0.708    -.0242768    .0166443
        F3D. |  -.0002136    .008309    -0.03   0.980    -.0170067    .0165795
        F2D. |   .0047728   .0115417     0.41   0.681     -.018554    .0280995
         FD. |  -.0014329   .0142061    -0.10   0.920    -.0301444    .0272786
         D1. |   .0260095   .0110368     2.36   0.023     .0037032    .0483158
         LD. |   .0117583   .0080537     1.46   0.152    -.0045188    .0280354
        L2D. |  -.0088439   .0123523    -0.72   0.478    -.0338089    .0161212
        L3D. |   .0019087   .0081188     0.24   0.815       -.0145    .0183175
        L4D. |   .0091793   .0072379     1.27   0.212     -.005449    .0238075
        L5D. |   .0073554   .0071709     1.03   0.311    -.0071374    .0218483
------------------------------------------------------------------------------

Absorbed degrees of freedom:
----------------------------------------------------------------+
            Absorbed FE | Categories  - Redundant  = Num. Coefs |
------------------------+---------------------------------------|
             year_month |       109           0         109     |
                zipcode |      1143        1143           0    *|
 zipcode#c.trend_times2 |      1143           0        1143    ?|
----------------------------------------------------------------+
? = number of redundant parameters may be higher
* = FE nested within cluster; treated as redundant for DoF computation

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"

 ( 1)  F5D.ln_mw = 0
 ( 2)  F4D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F2D.ln_mw = 0
 ( 5)  FD.ln_mw = 0

       F(  5,    40) =    0.73
            Prob > F =    0.6018

added scalar:
          e(p_value_F) =  .60176964
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~t |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0473674   .0300703     1.58   0.123    -.0134069    .1081417
------------------------------------------------------------------------------

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"
(note: file ../output/fd_dynamic_table.tex not found)
(output written to ../output/fd_dynamic_table.tex)
(note: file ../output/fd_dynamic_lincom_table.tex not found)
(output written to ../output/fd_dynamic_lincom_table.tex)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   4,     40) =       2.55
Statistics robust to heteroskedasticity           Prob > F        =     0.0536
                                                  R-squared       =     0.0219
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                                       (Std. Err. adjusted for 41 clusters in statefips)
----------------------------------------------------------------------------------------
                       |               Robust
   D.ln_med_rent_psqft |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------------+----------------------------------------------------------------
 med_hhinc20105_st_qtl#|
             c.d_ln_mw |
                    1  |   .0419993   .0223738     1.88   0.068    -.0032199    .0872185
                    2  |   .0216153   .0154763     1.40   0.170    -.0096635    .0528942
                    3  |   .0302303   .0248445     1.22   0.231    -.0199823     .080443
                    4  |   .0112318   .0125119     0.90   0.375    -.0140557    .0365193
----------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/fd_static_heter_med_hhinc20105.png written in PNG format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   4,     40) =       4.28
Statistics robust to heteroskedasticity           Prob > F        =     0.0056
                                                  R-squared       =     0.0219
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                                          (Std. Err. adjusted for 41 clusters in statefips)
-------------------------------------------------------------------------------------------
                          |               Robust
      D.ln_med_rent_psqft |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------+----------------------------------------------------------------
renthouse_share2010_st_~l#|
                c.d_ln_mw |
                       1  |   .0285769   .0178447     1.60   0.117    -.0074887    .0646425
                       2  |   .0126106   .0174708     0.72   0.475    -.0226992    .0479203
                       3  |   .0173506   .0232753     0.75   0.460    -.0296906    .0643918
                       4  |   .0438048   .0153479     2.85   0.007     .0127857     .074824
-------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/fd_static_heter_renthouse_share2010.png written in PNG format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   4,     40) =       2.25
Statistics robust to heteroskedasticity           Prob > F        =     0.0805
                                                  R-squared       =     0.0219
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                                          (Std. Err. adjusted for 41 clusters in statefips)
-------------------------------------------------------------------------------------------
                          |               Robust
      D.ln_med_rent_psqft |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------+----------------------------------------------------------------
college_share20105_st_qtl#|
                c.d_ln_mw |
                       1  |   .0395533   .0198258     2.00   0.053    -.0005161    .0796226
                       2  |   .0484482   .0220461     2.20   0.034     .0038912    .0930051
                       3  |   .0252557   .0213406     1.18   0.244    -.0178753    .0683868
                       4  |  -.0014074   .0121841    -0.12   0.909    -.0260323    .0232175
-------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/fd_static_heter_college_share20105.png written in PNG format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   4,     40) =       1.68
Statistics robust to heteroskedasticity           Prob > F        =     0.1747
                                                  R-squared       =     0.0218
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                                        (Std. Err. adjusted for 41 clusters in statefips)
-----------------------------------------------------------------------------------------
                        |               Robust
    D.ln_med_rent_psqft |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
 black_share2010_st_qtl#|
              c.d_ln_mw |
                     1  |   .0172663   .0166765     1.04   0.307    -.0164382    .0509707
                     2  |   .0226168   .0158719     1.42   0.162    -.0094616    .0546952
                     3  |   .0231978   .0143278     1.62   0.113    -.0057597    .0521554
                     4  |    .042954    .016962     2.53   0.015     .0086724    .0772355
-----------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/fd_static_heter_black_share2010.png written in PNG format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   4,     40) =       2.55
Statistics robust to heteroskedasticity           Prob > F        =     0.0537
                                                  R-squared       =     0.0219
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                                          (Std. Err. adjusted for 41 clusters in statefips)
-------------------------------------------------------------------------------------------
                          |               Robust
      D.ln_med_rent_psqft |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------+----------------------------------------------------------------
nonwhite_share2010_st_qtl#|
                c.d_ln_mw |
                       1  |   .0272939   .0201742     1.35   0.184    -.0134796    .0680674
                       2  |   .0024112   .0172733     0.14   0.890    -.0324995    .0373219
                       3  |   .0333827    .012845     2.60   0.013     .0074219    .0593434
                       4  |   .0402633   .0187977     2.14   0.038     .0022718    .0782549
-------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/fd_static_heter_nonwhite_share2010.png written in PNG format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   4,     40) =       7.17
Statistics robust to heteroskedasticity           Prob > F        =     0.0002
                                                  R-squared       =     0.0219
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                                          (Std. Err. adjusted for 41 clusters in statefips)
-------------------------------------------------------------------------------------------
                          |               Robust
      D.ln_med_rent_psqft |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------+----------------------------------------------------------------
work_county_share2~st_qtl#|
                c.d_ln_mw |
                       1  |    .056401   .0139257     4.05   0.000     .0282562    .0845458
                       2  |   .0242271   .0154487     1.57   0.125    -.0069958      .05545
                       3  |   .0042514   .0131226     0.32   0.748    -.0222703    .0307731
                       4  |   .0238836   .0296351     0.81   0.425    -.0360111    .0837783
-------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/fd_static_heter_work_county_share20105.png written in PNG format)

. 
end of do-file

 make.py ended: 2020-10-01 11:19:23
