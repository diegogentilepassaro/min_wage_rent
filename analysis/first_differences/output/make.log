
 make.py started: 2020-09-27 19:53:46 /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/code 




Execute:  stataSE -e do "./preclean.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.1   Copyright 1985-2019 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

120-user Stata network perpetual license:
       Serial number:  401606201670
         Licensed to:  Brown University
                       Brown University

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./preclean.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "/Applications/Stata/ado/base/"
  [2]  (SITE)      "/Applications/Stata/ado/site/"
  [3]              "."
  [4]  (PERSONAL)  "/Users/gabriborg/Documents/Stata/ado/personal/"
  [5]  (PLUS)      "/Users/gabriborg/Library/Application Support/Stata/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. set maxvar 32000 


. 
. program main
  1.         local instub "../../../drive/derived_large/output"
  2.         local outstub "../temp"
  3.         local logfile "../output/data_file_manifest.log"
  4. 
. 
.         use "`instub'/baseline_rent_panel.dta", clear
  5.         keep zipcode place_code msa countyfips statefips                               
>                                  ///
>                 year_month calendar_month trend trend_sq trend_cu                         
>                               ///
>                 dactual_mw actual_mw medrentpricepsqft_*                                  
>                       ///
>                 med_hhinc20105 renthouse_share2010 white_share2010 black_share2010        
>               ///
>                 college_share20105 work_county_share20105
  6.         
. 
.         local het_vars "med_hhinc20105 renthouse_share2010 college_share20105 black_share2
> 010"
  7.         local het_vars "`het_vars' nonwhite_share2010 work_county_share20105"
  8. 
.         create_vars,    log_vars(actual_mw medrentpricepsqft_sfcc medrentpricepsqft_2br me
> drentpricepsqft_mfr5plus)     ///
>                                         heterogeneity_vars(`het_vars')
  9.         
.         simplify_varnames
 10. 
.         xtset zipcode year_month
 11.         gen d_ln_mw = D.ln_mw
 12. 
.         save_data "`outstub'/fd_rent_panel.dta", key(zipcode year_month) replace log(`logf
> ile')
 13. 
.         use zipcode place_code msa countyfips statefips                                   
>                               ///
>                 year_month calendar_month trend trend_sq trend_cu                         
>                               ///
>                 dactual_mw actual_mw medrentpricepsqft_*                                  
>                       ///
>                 med_hhinc20105 renthouse_share2010 white_share2010 black_share2010        
>               ///
>                 college_share20105 work_county_share20105 entry* ///
>                 using `instub'/unbal_rent_panel.dta, clear 
 14. 
.         local het_vars "med_hhinc20105 renthouse_share2010 college_share20105 black_share2
> 010"
 15.         local het_vars "`het_vars' nonwhite_share2010 work_county_share20105"
 16. 
.         create_vars,    log_vars(actual_mw medrentpricepsqft_sfcc medrentpricepsqft_2br me
> drentpricepsqft_mfr5plus)     ///
>                                         heterogeneity_vars(`het_vars')
 17.         
.         simplify_varnames
 18. 
.         xtset zipcode year_month
 19.         gen d_ln_mw = D.ln_mw
 20. 
.         save_data "`outstub'/unbal_fd_rent_panel.dta", key(zipcode year_month) replace log
> (`logfile')
 21. 
. 
. 
. end

. 
. program create_vars
  1.         syntax, log_vars(str) heterogeneity_vars(str)
  2. 
.         foreach var in `log_vars' {
  3.                 gen ln_`var' = ln(`var')
  4.         }
  5. 
.         gen nonwhite_share2010 = 1 - white_share2010
  6.         
.         gen trend_times2 = 2*trend
  7. 
.         if "`heterogeneity_vars'"!="no" {
  8.                 foreach var in `heterogeneity_vars' {
  9.                         *xtile `var'_nat_dec = `var', nq(10)
.                         xtile `var'_nat_qtl = `var', nq(4)
 10.                         levelsof statefips, local(states)
 11. 
.                         foreach state in `states'{
 12.                                 *xtile deciles_`state'_`var' = `var' if statefips == `s
> tate', nq(10)
.                                 xtile qtiles_`state'_`var' = `var' if statefips == `state'
> , nq(4)
 13.                         }
 14.                         *egen `var'_st_dec = rowtotal(deciles_*)
.                         egen `var'_st_qtl = rowtotal(qtiles_*)
 15.                         
.                         *drop deciles_* qtiles_*
.                         drop qtiles_*
 16.                 }               
 17.         } 
 18. end

. 
. program simplify_varnames
  1.         
.     rename      (ln_actual_mw   ln_medrentpricepsqft_sfcc ln_medrentpricepsqft_2br ln_medr
> entpricepsqft_mfr5plus)               ///
>                 (ln_mw                  ln_med_rent_psqft_sfcc ln_med_rent_psqft_2br ln_me
> d_rent_psqft_mfr5plus)
  2. 
. end

. 
. main
(43,225 missing values generated)
(131,811 missing values generated)
(119,012 missing values generated)
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 20 21 22 24 25 26 27 28 29 32 34 35 36 37 39 40 41 42 
> 44 45 47 48 49 51 53 54 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 20 21 22 24 25 26 27 28 29 32 34 35 36 37 39 40 41 42 
> 44 45 47 48 49 51 53 54 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 20 21 22 24 25 26 27 28 29 32 34 35 36 37 39 40 41 42 
> 44 45 47 48 49 51 53 54 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 20 21 22 24 25 26 27 28 29 32 34 35 36 37 39 40 41 42 
> 44 45 47 48 49 51 53 54 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 20 21 22 24 25 26 27 28 29 32 34 35 36 37 39 40 41 42 
> 44 45 47 48 49 51 53 54 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 20 21 22 24 25 26 27 28 29 32 34 35 36 37 39 40 41 42 
> 44 45 47 48 49 51 53 54 56
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(1,305 missing values generated)
(data already sorted by zipcode year_month)
  variable trend_times2 was float now int
  variable med_hhinc20105_st_qtl was float now byte
  variable renthouse_share2010_st_qtl was float now byte
  variable college_share20105_st_qtl was float now byte
  variable black_share2010_st_qtl was float now byte
  variable nonwhite_share2010_st_qtl was float now byte
  variable work_county_share20105_st_qtl was float now byte
  (3,132,000 bytes saved)
============================================================================
File: ../temp/fd_rent_panel.dta
Key: zipcode year_month
============================================================================
  156600:40(73724):498492281:1547141

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    156,600    51920.57    29185.78       2113      99577
  year_month |    156,600       659.5    34.63992        600        719
  place_code |    129,840    40657.65    22564.03        410      87240
  countyfips |    156,240    24077.04    16484.28       1003      56021
   statefips |    156,600    23.97854    16.42626          1         56
-------------+---------------------------------------------------------
   actual_mw |    156,600     8.07779    1.207718       7.25         16
  dactual_mw |    156,600    .0152048    .1121804          0       2.21
calendar_m~h |    156,600         6.5    3.452064          1         12
         msa |    156,600    436.1801    240.1675         12        860
       trend |    156,600       225.5    34.63992        166        285
-------------+---------------------------------------------------------
    trend_sq |    156,600    52050.17    15659.42      27556      81225
    trend_cu |    156,600    1.23e+07     5408203    4574296   2.31e+07
medrentpri~c |    113,375    1.188344    .7824813   .4180214   6.731387
medrentpri~r |     24,789     1.84165    .9184999   .5015197   6.499599
medrentpri~s |     37,588    1.842276    1.001968   .5106889    6.48415
-------------+---------------------------------------------------------
white_s~2010 |    156,600    .5392018    .2225559   .0037838   .9401773
black_s~2010 |    156,600     .165993    .2003044    .003148   .9753076
renthou~2010 |    156,600    .3834818     .176359   .0644567   .9662035
work_c~20105 |    156,600    .7557563    .2036341   .1421741    .995271
colleg~20105 |    156,600    .4447718    .1662964   .0856991   .9082218
-------------+---------------------------------------------------------
med_hh~20105 |    156,600    66919.72    24575.33   20527.66   191553.2
       ln_mw |    156,600    2.079602    .1327775   1.981001   2.772589
ln_med_ren~c |    113,375    .0472541    .4493362  -.8722228   1.906781
ln_med_ren~r |     24,789    .5040377    .4535385  -.6901123    1.87174
ln_med_ren~s |     37,588    .4931396     .468299  -.6719947   1.869361
-------------+---------------------------------------------------------
nonwhit~2010 |    156,600    .4607982    .2225559   .0598227   .9962162
trend_times2 |    156,600         451    69.27985        332        570
med_h~at_qtl |    156,600    2.498851     1.11838          1          4
med_h~st_qtl |    156,600    2.467433    1.120644          1          4
renth~at_qtl |    156,600    2.498851     1.11838          1          4
-------------+---------------------------------------------------------
renth~st_qtl |    156,600    2.467433    1.120644          1          4
colle~at_qtl |    156,600    2.498851     1.11838          1          4
colle~st_qtl |    156,600    2.467433    1.120644          1          4
black~at_qtl |    156,600    2.498851     1.11838          1          4
black~st_qtl |    156,600    2.467433    1.120644          1          4
-------------+---------------------------------------------------------
nonwh~at_qtl |    156,600    2.498851     1.11838          1          4
nonwh~st_qtl |    156,600    2.467433    1.120644          1          4
work_~at_qtl |    156,600    2.498851     1.11838          1          4
work_~st_qtl |    156,600    2.467433    1.120644          1          4
     d_ln_mw |    155,295    .0016445    .0119584   -.290338   .2412503




(note: file ../temp/fd_rent_panel.dta not found)
file ../temp/fd_rent_panel.dta saved
(354,499 missing values generated)
(459,685 missing values generated)
(405,619 missing values generated)
(480 missing values generated)
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 
> 37 38 39 40 41 42 44 45 46 47 48 49 50 51 53 54 55 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 
> 37 38 39 40 41 42 44 45 46 47 48 49 50 51 53 54 55 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 
> 37 38 39 40 41 42 44 45 46 47 48 49 50 51 53 54 55 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 
> 37 38 39 40 41 42 44 45 46 47 48 49 50 51 53 54 55 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 
> 37 38 39 40 41 42 44 45 46 47 48 49 50 51 53 54 55 56
1 2 4 5 6 8 9 10 11 12 13 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 
> 37 38 39 40 41 42 44 45 46 47 48 49 50 51 53 54 55 56
       panel variable:  zipcode (unbalanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(4,604 missing values generated)
(data already sorted by zipcode year_month)
  variable trend_times2 was float now int
  variable med_hhinc20105_st_qtl was float now byte
  variable renthouse_share2010_st_qtl was float now byte
  variable college_share20105_st_qtl was float now byte
  variable black_share2010_st_qtl was float now byte
  variable nonwhite_share2010_st_qtl was float now byte
  variable work_county_share20105_st_qtl was float now byte
  (11,049,540 bytes saved)
============================================================================
File: ../temp/unbal_fd_rent_panel.dta
Key: zipcode year_month
============================================================================
  552477:43(74545):2929601828:2694648442

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    552,477    53537.25    30554.29       1060      99705
  year_month |    552,477    659.5003    34.63966        600        719
  place_code |    453,837    41994.73    23168.35        100      88940
  countyfips |    551,157    25881.72    16485.24       1001      56021
   statefips |    552,477    25.79028    16.43845          1         56
-------------+---------------------------------------------------------
medrentpri~r |     92,792    1.682865     .803698   .5015197   12.55461
medrentpri~c |    197,978    1.303812    1.033133   .1091193   23.96932
medrentpri~s |    146,858    1.736677     .849114   .3150482   12.55435
   actual_mw |    552,477    8.200625     1.36035       7.25         16
  dactual_mw |    552,473     .017035    .1206529          0       3.25
-------------+---------------------------------------------------------
calendar_m~h |    552,477     6.50003    3.452041          1         12
         msa |    552,357    442.6709     239.245          2        860
       trend |    552,477    225.5003    34.63966        166        285
    trend_sq |    552,477     52050.3    15659.32      27556      81225
    trend_cu |    552,477    1.23e+07     5408175    4574296   2.31e+07
-------------+---------------------------------------------------------
  entry_sfcc |    397,920    660.2961    34.20743        601        708
   entry_2br |    286,919    681.1911    24.64555        601        708
entry_mfr5~s |    403,797    676.3571    27.37039        601        708
white_s~2010 |    551,997     .589158    .2409829   .0037838   .9748839
black_s~2010 |    551,997    .1447029     .191157   .0009378   .9753076
-------------+---------------------------------------------------------
renthou~2010 |    551,997    .4013557    .1759362   .0608285   .9884645
work_c~20105 |    551,997     .755335    .1942749   .1248519    .998565
colleg~20105 |    551,997    .4360505    .1674601   .0580171   .9082218
med_hh~20105 |    551,997    64289.41    25477.42   12404.68   214212.3
       ln_mw |    552,477    2.092554    .1468084   1.981001   2.772589
-------------+---------------------------------------------------------
ln_med_ren~c |    197,978    .1260564    .4678614  -2.215314   3.176775
ln_med_ren~r |     92,792    .4297764    .4123671  -.6901123   2.530088
ln_med_ren~s |    146,858    .4566693     .422476   -1.15503   2.530067
nonwhit~2010 |    551,997     .410842    .2409829   .0251161   .9962162
trend_times2 |    552,477    451.0006    69.27932        332        570
-------------+---------------------------------------------------------
med_h~at_qtl |    551,997    2.499352    1.118034          1          4
med_h~st_qtl |    552,477    2.487407    1.119516          0          4
renth~at_qtl |    551,997    2.499992    1.118033          1          4
renth~st_qtl |    552,477    2.487828     1.11952          0          4
colle~at_qtl |    551,997    2.499568    1.118227          1          4
-------------+---------------------------------------------------------
colle~st_qtl |    552,477    2.487622    1.119711          0          4
black~at_qtl |    551,997    2.499995    1.118036          1          4
black~st_qtl |    552,477    2.487401    1.119324          0          4
nonwh~at_qtl |    551,997    2.499995    1.118034          1          4
nonwh~st_qtl |    552,477    2.487617    1.119711          0          4
-------------+---------------------------------------------------------
work_~at_qtl |    551,997    2.499994    1.118034          1          4
work_~st_qtl |    552,477    2.487832    1.119521          0          4
     d_ln_mw |    547,873    .0017993    .0125654   -.331534   .3083012




(note: file ../temp/unbal_fd_rent_panel.dta not found)
file ../temp/unbal_fd_rent_panel.dta saved

. 
end of do-file


Execute:  stataSE -e do "./first_differences.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.1   Copyright 1985-2019 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

120-user Stata network perpetual license:
       Serial number:  401606201670
         Licensed to:  Brown University
                       Brown University

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./first_differences.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "/Applications/Stata/ado/base/"
  [2]  (SITE)      "/Applications/Stata/ado/site/"
  [3]              "."
  [4]  (PERSONAL)  "/Users/gabriborg/Documents/Stata/ado/personal/"
  [5]  (PLUS)      "/Users/gabriborg/Library/Application Support/Stata/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "/Applications/Stata/ado/base/"
  [2]  (SITE)      "/Applications/Stata/ado/site/"
  [3]              "."
  [4]  (PERSONAL)  "/Users/gabriborg/Documents/Stata/ado/personal/"
  [5]  (PLUS)      "/Users/gabriborg/Library/Application Support/Stata/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. set maxvar 32000 


. 
. program main
  1.         local instub "../temp"
  2.         local outstub "../output"
  3. 
.         local housetype "sfcc 2br mfr5plus"
  4. 
.         foreach type in `housetype' {
  5. 
.                 ** Balanced panel
.                 use "`instub'/fd_rent_panel.dta", clear
  6.                 * Static Model
.                 run_static_model, depvar(ln_med_rent_psqft_`type') absorb(year_month)     
>                                       ///
>                         cluster(statefips) type(`type')
  7. 
.                 esttab * using "`outstub'/fd_table_`type'.tex", keep(D.ln_mw) compress se 
> replace                       ///
>                         stats(zs_trend zs_trend_sq r2 N, fmt(%s3 %s3 %9.3f %9.0g)         
>       ///
>                         labels("Zipcode-specifc linear trend"                             
>                                                       ///
>                         "Zipcode-specific linear and square trend"                        
>                                       ///
>                         "R-squared" "Observations")) star(* 0.10 ** 0.05 *** 0.01)        
>                                       ///
>                         nonote
  8.                 
.                 * Dynamic Model
.                 run_dynamic_model, depvar(ln_med_rent_psqft_`type') absorb(year_month)    
>                               ///
>                         cluster(statefips) type(`type') sampl(bal)
  9.                 
.                 esttab reg1 reg2 reg3 using "`outstub'/fd_dynamic_table_`type'.tex",      
>                               ///
>                         keep(*.ln_mw) compress se replace                                 
>                                                               ///
>                         stats(p_value_F zs_trend zs_trend_sq r2 N, fmt(%9.3f %s3 %s3 %9.3f
>  %9.0g)               ///
>                         labels("P-value no pretrends" "Zipcode-specifc linear trend"      
>                                                                               ///
>                         "Zipcode-specific linear and square trend"                        
>                                       ///
>                         "R-squared" "Observations")) star(* 0.10 ** 0.05 *** 0.01)        
>                                       ///
>                         nonote
 10. 
.                 esttab lincom1 lincom2 lincom3 using "`outstub'/fd_dynamic_lincom_table_`t
> ype'.tex", ///
>                         compress se replace                                               
>                                                                       ///
>                 stats(zs_trend zs_trend_sq N, fmt(%s3 %s3 %9.0g)                          
>       ///
>                         labels("Zipcode-specifc linear trend"                             
>                                                       ///
>                     "Zipcode-specific linear and square trend" ///
>                         "Observations"))                                ///
>                         star(* 0.10 ** 0.05 *** 0.01)                                     
>                                                               ///
>                         nonote coeflabel((1) "Sum of MW effects")
 11.          
.                 * Heterogeneity
.                 foreach var in med_hhinc20105 renthouse_share2010 college_share20105      
>                       ///
>                                         black_share2010 {
 12. 
.                         build_ytitle, var(`var')
 13. 
.                         run_static_heterogeneity, depvar(ln_med_rent_psqft_`type') absorb(
> year_month)                   ///
>                                 het_var(`var'_st_qtl) cluster(statefips) ytitle(`r(title)'
> )
 14.                         graph export "`outstub'/fd_static_`type'_heter_`var'.png", repl
> ace
 15.                 }
 16. 
.                 ** Unbalanced Panel 
.                 use "`instub'/unbal_fd_rent_panel.dta", clear
 17.                 
.                 * Static Model
.                 run_static_model, depvar(ln_med_rent_psqft_`type') absorb(year_month entry
> _`type'#year_month)                   ///
>                         type(`type') cluster(statefips)
 18. 
.                 esttab * using "`outstub'/unb_fd_table_`type'.tex", keep(D.ln_mw) compress
>  se replace                   ///
>                         stats(zs_trend zs_trend_sq r2 N, fmt(%s3 %s3 %9.3f %9.0g)         
>       ///
>                         labels("Zipcode-specifc linear trend"                             
>                                                       ///
>                         "Zipcode-specific linear and square trend"                        
>                                       ///
>                         "R-squared" "Observations")) star(* 0.10 ** 0.05 *** 0.01)        
>                                       ///
>                         nonote
 19.                 
.                 * Dynamic Model
.                 run_dynamic_model, depvar(ln_med_rent_psqft_`type') absorb(year_month entr
> y_`type'#year_month)                                  ///
>                         cluster(statefips) type(`type') sampl(unbal)
 20.                 
.                 esttab reg1 reg2 reg3 using "`outstub'/unb_fd_dynamic_table_`type'.tex",  
>                                       ///
>                         keep(*.ln_mw) compress se replace                                 
>                                                               ///
>                         stats(p_value_F zs_trend zs_trend_sq r2 N, fmt(%9.3f %s3 %s3 %9.3f
>  %9.0g)               ///
>                         labels("P-value no pretrends" "Zipcode-specifc linear trend"      
>                                                                               ///
>                         "Zipcode-specific linear and square trend"                        
>                                       ///
>                         "R-squared" "Observations")) star(* 0.10 ** 0.05 *** 0.01)        
>                                       ///
>                         nonote
 21. 
.                 esttab lincom1 lincom2 lincom3 using "`outstub'/unb_fd_dynamic_lincom_tabl
> e_`type'.tex", ///
>                         compress se replace                                               
>                                                                       ///
>                 stats(zs_trend zs_trend_sq N, fmt(%s3 %s3 %9.0g)                          
>       ///
>                         labels("Zipcode-specifc linear trend"                             
>                                                       ///
>                     "Zipcode-specific linear and square trend" ///
>                         "Observations"))                                ///
>                         star(* 0.10 ** 0.05 *** 0.01)                                     
>                                                               ///
>                         nonote coeflabel((1) "Sum of MW effects")
 22. 
.                 * Heterogeneity
.                 foreach var in med_hhinc20105 renthouse_share2010 college_share20105      
>                       ///
>                                         black_share2010 {
 23. 
.                         build_ytitle, var(`var')
 24. 
.                         run_static_heterogeneity, depvar(ln_med_rent_psqft_`type') absorb(
> year_month)                   ///
>                                 het_var(`var'_st_qtl) cluster(statefips) ytitle(`r(title)'
> )
 25.                         graph export "`outstub'/unb_fd_static_`type'_heter_`var'.png", 
> replace
 26. 
.         }
 27. end

. 
. program run_static_model
  1.     syntax, depvar(str) absorb(str) cluster(str) type(str)
  2. 
.         eststo clear
  3.         eststo: reghdfe D.`depvar' D.ln_mw,                                            
>          ///
>                 absorb(`absorb')                                                          
>                                       ///
>                 vce(cluster `cluster') nocons
  4.         comment_table, trend_lin("No") trend_sq("No")
  5.         
.         distinct zipcode if e(sample)==1
  6. 
.         scalar static_effect = _b[D.ln_mw]
  7.         scalar static_effect_se = _se[D.ln_mw]
  8. 
.         eststo: reghdfe D.`depvar' D.ln_mw,                                               
>                       ///
>                 absorb(`absorb' i.zipcode)                                                
>               ///
>                 vce(cluster `cluster') nocons
  9.         comment_table, trend_lin("Yes") trend_sq("No")
 10. 
.         eststo: reghdfe D.`depvar' D.ln_mw,                                               
>                       ///
>                 absorb(`absorb' i.zipcode c.trend_times2#i.zipcode)             ///
>                 vce(cluster `cluster') nocons
 11.         comment_table, trend_lin("Yes") trend_sq("Yes")
 12. end

. 
. program run_dynamic_model
  1.         syntax, depvar(str) absorb(str) cluster(str) type(str) sampl(str) [w(int 5) ful
> lcenter(str)="no"]
  2.         
.         local lincomest_coeffs "D1.ln_mw + LD.ln_mw"
  3.         forvalues i = 2(1)`w'{
  4.                 local lincomest_coeffs "`lincomest_coeffs' + L`i'D.ln_mw"
  5.         }
  6. 
.         eststo clear
  7.         eststo reg1: reghdfe D.`depvar' L(-`w'/`w').D.ln_mw,                    ///
>                 absorb(`absorb')                                                          
>                               ///
>                 vce(cluster `cluster') nocons
  8.         comment_table, trend_lin("No") trend_sq("No")
  9.         
.         test (F5D.ln_mw = 0) (F4D.ln_mw = 0) (F3D.ln_mw = 0) (F2D.ln_mw = 0) (F1D.ln_mw = 
> 0)
 10.     estadd scalar p_value_F = r(p)
 11. 
.         preserve
 12.                 coefplot, vertical base gen
 13.                 keep __at __b __se
 14.                 rename (__at __b __se) (at b_full se_full)
 15.                 
.                 keep if !missing(at)
 16. 
.                 if "`fullcenter'"=="yes" {
 17.                         levelsof b_full if _n==`w', local(baseline)
 18.                         replace b_full = b_full - `baseline'
 19.                         replace se_full = 0 if _n==`w'                  
 20.                 }
 21. 
.                 gen b_full_lb = b_full - 1.96*se_full
 22.                 gen b_full_ub = b_full + 1.96*se_full
 23.                 
.                 gen static_path = 0 if at <= `w' 
 24.                 replace static_path = scalar(static_effect) if at > `w'
 25.                 gen static_path_lb = 0 if at <= `w'
 26.                 replace static_path_lb = scalar(static_effect) - 1.96*scalar(static_eff
> ect_se) if at > `w'
 27.                 gen static_path_ub = 0 if at <= `w'
 28.                 replace static_path_ub = scalar(static_effect) + 1.96*scalar(static_eff
> ect_se) if at > `w'
 29.                 
.                 save "../temp/plot_coeffs.dta", replace
 30.     restore
 31.                 
.         eststo lincom1: lincomest `lincomest_coeffs'
 32.         comment_table, trend_lin("No") trend_sq("No")
 33.                         
.         qui reghdfe D.`depvar' L(0/`w').D.ln_mw,                        ///
>                 absorb(`absorb')                                                          
>                               ///
>                 vce(cluster `cluster') nocons
 34.                         
.         preserve
 35.                 coefplot, vertical base gen
 36.                 keep __at __b __se
 37.                 rename (__at __b __se) (at b_lags se_lags)
 38.                 tset at
 39. 
.             keep if !missing(at)
 40. 
.                 gen b_lags_lb = b_lags - 1.96*se_lags
 41.                 gen b_lags_ub = b_lags + 1.96*se_lags
 42.                 
.                 gen cumsum_b_lags = b_lags[1]
 43.                 replace cumsum_b_lags = cumsum_b_lags[_n-1] + b_lags[_n] if _n > 1
 44.                 
.                 replace at = at + `w'
 45.                 
.                 merge 1:1 at using "../temp/plot_coeffs.dta", nogen
 46.                 replace cumsum_b_lags = 0 if at <= `w'
 47.                 sort at
 48.                 
.                 // To avoid the lines overlapping perfectly
.                 gen at_full = at - 0.09
 49.                 gen at_lags = at + 0.09
 50.                 replace at_full = at if _n <= `w'
 51.                 replace at_lags = at if _n <= `w'
 52. 
.                 replace cumsum_b_lags = cumsum_b_lags - 0.00007 if _n <= `w'
 53.                 replace static_path = static_path + 0.00007 if _n <= `w'
 54. 
.                 // Figure
.                 twoway (scatter b_full at_full, mcol(navy))                             //
> /
>                         (rcap b_full_lb b_full_ub at_full, col(navy) lp(dash) lw(thin))   
>                       ///
>                         (scatter b_lags at_lags, mcol(maroon))                            
>       ///
>                         (rcap b_lags_lb b_lags_ub at_lags, col(maroon) lp(dash) lw(thin)) 
>               ///
>                         (line static_path at, lcol(gs11) lpat(dash))                    //
> /
>                         (line cumsum_b_lags at, lcol(maroon%60)),                         
>               ///
>                         yline(0, lcol(gray) lpat(shortdash))                              
>                       ///
>                         graphregion(color(white)) bgcolor(white)                          
>       ///
>                         xlabel(1 "F5D.ln_mw" 2 "F4D.ln_mw" 3 "F3D.ln_mw" 4 "F2D.ln_mw" ///
>                         5 "FD.ln_mw" 6 "D.ln_mw" 7 "LD.ln_mw" 8 "L2D.ln_mw" 9 "L3D.ln_mw" 
> ///
>                         10 "L4D.ln_mw" 11 "L5D.ln_mw", labsize(vsmall)) xtitle("Leads and 
> lags of ln MW") ///
>                         ytitle("Effect on ln rent per sqft")                              
>       ///
>                         legend(order(1 "Full dynamic model" 3 "Distributed lags model" ///
>                         5 "Effects path static model" 6 "Effects path distributed lags mod
> el") size(small))
 55.                 if "`sampl'"=="bal" {
 56.                         graph export "../output/fd_models_`type'.png", replace
 57.                 }
 58.                 else if "`sampl'"=="unbal" {
 59.                         graph export "../output/unb_fd_models_`type'.png", replace     
>  
 60.                 }
 61.         restore 
 62.         
.         eststo reg2: reghdfe D.`depvar' L(-`w'/`w').D.ln_mw  `if',              ///
>                 absorb(`absorb' i.zipcode)                                                
>       ///
>                 vce(cluster `cluster') nocons
 63.         comment_table, trend_lin("Yes") trend_sq("No")
 64.         
.         test (F5D.ln_mw = 0) (F4D.ln_mw = 0) (F3D.ln_mw = 0) (F2D.ln_mw = 0) (F1D.ln_mw = 
> 0)
 65.     estadd scalar p_value_F = r(p)
 66.         
.         eststo lincom2: lincomest `lincomest_coeffs'
 67.         comment_table, trend_lin("Yes") trend_sq("No")
 68.         
.         eststo reg3: reghdfe D.`depvar' L(-`w'/`w').D.ln_mw `if',               ///
>                 absorb(`absorb' i.zipcod c.trend_times2#i.zipcode)      ///
>                 vce(cluster `cluster') nocons
 69.         comment_table, trend_lin("Yes") trend_sq("Yes")
 70. 
.         test (F5D.ln_mw = 0) (F4D.ln_mw = 0) (F3D.ln_mw = 0) (F2D.ln_mw = 0) (F1D.ln_mw = 
> 0)
 71.     estadd scalar p_value_F = r(p)
 72.         
.         eststo lincom3: lincomest `lincomest_coeffs'
 73.         comment_table, trend_lin("Yes") trend_sq("Yes")
 74. end

. 
. program run_static_heterogeneity
  1.         syntax, depvar(str) absorb(str) cluster(str) het_var(str) ytitle(str) [qtles(in
> t 4)]
  2. 
.     eststo clear
  3.         reghdfe D.`depvar' c.d_ln_mw#i.`het_var',                                      
>                  ///
>                 absorb(`absorb') ///
>                 vce(cluster `cluster') nocons
  4. 
.         coefplot, base graphregion(color(white)) bgcolor(white)                           
>               ///
>         ylabel(1 "1" 2 "2" 3 "3" 4 "4")                                                 //
> /
>         ytitle(`ytitle')                                                                  
>                               ///
>         xtitle("Estimated effect of ln MW on ln rents")                                 //
> /
>         xline(0, lcol(grey) lpat(dot))
  5. end

. 
. program build_ytitle, rclass
  1.         syntax, var(str)
  2. 
.         if "`var'" == "med_hhinc20105" {
  3.                 return local title "Quintiles of within state 2010 median household inc
> ome"
  4.         }
  5.         if "`var'" == "renthouse_share2010" {
  6.                 return local title "Quintiles of 2010 share of houses rent"
  7.         }
  8.         if "`var'" == "college_share20105" {
  9.                 return local title "Quintiles of 2010 college share"
 10.         }
 11.         if "`var'" == "black_share2010" {
 12.                 return local title "Quintiles of 2010 share of black individuals"
 13.         }
 14.         if "`var'" == "nonwhite_share2010" {
 15.                 return local title "Quintiles of 2010 share of non-white individuals"
 16.         }
 17.         if "`var'" == "work_county_share20105" {
 18.                 return local title "Quintiles of 2010 share who work in county"
 19.         }                 
 20. end

. 
. program comment_table
  1.         syntax, trend_lin(str) trend_sq(str)
  2. 
.         estadd local zs_trend           "`trend_lin'"   
  3.         estadd local zs_trend_sq        "`trend_sq'"
  4. end

. 
. main
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   1,     40) =       4.13
Statistics robust to heteroskedasticity           Prob > F        =     0.0488
                                                  R-squared       =     0.0218
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0260395   .0128154     2.03   0.049     .0001386    .0519404
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(est1 stored)

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"

         |        Observations
         |      total   distinct
---------+----------------------
 zipcode |     112232       1143
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 2 HDFE groups                           F(   1,     40) =       4.56
Statistics robust to heteroskedasticity           Prob > F        =     0.0389
                                                  R-squared       =     0.0236
                                                  Adj R-squared   =     0.0125
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0256987   .0120325     2.14   0.039     .0013801    .0500173
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
     zipcode |      1143        1143           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est2 stored)

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"
(MWFE estimator converged in 31 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 3 HDFE groups                           F(   1,     40) =       4.79
Statistics robust to heteroskedasticity           Prob > F        =     0.0345
                                                  R-squared       =     0.0264
                                                  Adj R-squared   =     0.0051
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0282

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |    .025532   .0116619     2.19   0.034     .0019624    .0491016
------------------------------------------------------------------------------

Absorbed degrees of freedom:
----------------------------------------------------------------+
            Absorbed FE | Categories  - Redundant  = Num. Coefs |
------------------------+---------------------------------------|
             year_month |       118           0         118     |
                zipcode |      1143        1143           0    *|
 zipcode#c.trend_times2 |      1143           0        1143    ?|
----------------------------------------------------------------+
? = number of redundant parameters may be higher
* = FE nested within cluster; treated as redundant for DoF computation
(est3 stored)

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"
(note: file ../output/fd_table_sfcc.tex not found)
(output written to ../output/fd_table_sfcc.tex)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    106,446
Absorbing 1 HDFE group                            F(  11,     40) =       5.26
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0222
                                                  Adj R-squared   =     0.0211
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0280

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0148356   .0090279    -1.64   0.108    -.0330816    .0034104
        F4D. |  -.0023735   .0115976    -0.20   0.839    -.0258131     .021066
        F3D. |   .0011058   .0091637     0.12   0.905    -.0174147    .0196264
        F2D. |   .0060276   .0115539     0.52   0.605    -.0173236    .0293788
         FD. |  -.0002217   .0122864    -0.02   0.986    -.0250534      .02461
         D1. |   .0270699   .0126282     2.14   0.038     .0015474    .0525925
         LD. |   .0135805    .007154     1.90   0.065    -.0008782    .0280392
        L2D. |  -.0070232   .0133453    -0.53   0.602     -.033995    .0199487
        L3D. |   .0036262   .0080799     0.45   0.656    -.0127038    .0199563
        L4D. |   .0107927   .0069339     1.56   0.127    -.0032212    .0248065
        L5D. |    .008621   .0068652     1.26   0.216    -.0052542    .0224961
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
-----------------------------------------------------+

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"

 ( 1)  F5D.ln_mw = 0
 ( 2)  F4D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F2D.ln_mw = 0
 ( 5)  FD.ln_mw = 0

       F(  5,    40) =    0.78
            Prob > F =    0.5675

added scalar:
          e(p_value_F) =  .56754406

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
--------------------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(156,589 observations deleted)
(6 missing values generated)
(6 real changes made)
(6 missing values generated)
(6 real changes made)
(6 missing values generated)
(6 real changes made)
(note: file ../temp/plot_coeffs.dta not found)
file ../temp/plot_coeffs.dta saved
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0566671   .0346332     1.64   0.110    -.0133293    .1266635
------------------------------------------------------------------------------

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
--------------------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
        time variable:  at, 1 to 6
                delta:  1 unit
(156,594 observations deleted)
(5 real changes made)
(6 real changes made)

    Result                           # of obs.
    -----------------------------------------
    not matched                             5
        from master                         0  
        from using                          5  

    matched                                 6  
    -----------------------------------------
(5 real changes made)
(5 real changes made)
(5 real changes made)
(5 real changes made)
(5 real changes made)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/fd_models_sfcc.png written in PNG format)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =    106,446
Absorbing 2 HDFE groups                           F(  11,     40) =       4.82
Statistics robust to heteroskedasticity           Prob > F        =     0.0001
                                                  R-squared       =     0.0242
                                                  Adj R-squared   =     0.0125
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0281

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0153073    .009146    -1.67   0.102    -.0337921    .0031774
        F4D. |  -.0030621    .011022    -0.28   0.783    -.0253383    .0192142
        F3D. |   .0003797   .0082879     0.05   0.964    -.0163708    .0171302
        F2D. |   .0053139   .0120729     0.44   0.662    -.0190864    .0297142
         FD. |   -.000798   .0126499    -0.06   0.950    -.0263643    .0247683
         D1. |   .0265456   .0119411     2.22   0.032     .0024118    .0506795
         LD. |   .0128094   .0073927     1.73   0.091    -.0021318    .0277506
        L2D. |  -.0078453   .0134818    -0.58   0.564     -.035093    .0194024
        L3D. |   .0027691   .0075088     0.37   0.714    -.0124067     .017945
        L4D. |   .0099381   .0069494     1.43   0.160    -.0041071    .0239833
        L5D. |   .0077819   .0073506     1.06   0.296    -.0070743    .0226381
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       109           0         109     |
     zipcode |      1143        1143           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"

 ( 1)  F5D.ln_mw = 0
 ( 2)  F4D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F2D.ln_mw = 0
 ( 5)  FD.ln_mw = 0

       F(  5,    40) =    0.76
            Prob > F =    0.5814

added scalar:
          e(p_value_F) =  .58139317
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0519989   .0335108     1.55   0.129     -.015729    .1197268
------------------------------------------------------------------------------

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"
(MWFE estimator converged in 31 iterations)

HDFE Linear regression                            Number of obs   =    106,446
Absorbing 3 HDFE groups                           F(  11,     40) =       5.13
Statistics robust to heteroskedasticity           Prob > F        =     0.0001
                                                  R-squared       =     0.0272
                                                  Adj R-squared   =     0.0047
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0283

                             (Std. Err. adjusted for 41 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0157145   .0093849    -1.67   0.102    -.0346821    .0032531
        F4D. |  -.0038162   .0101236    -0.38   0.708    -.0242768    .0166443
        F3D. |  -.0002136    .008309    -0.03   0.980    -.0170067    .0165795
        F2D. |   .0047728   .0115417     0.41   0.681     -.018554    .0280995
         FD. |  -.0014329   .0142061    -0.10   0.920    -.0301444    .0272786
         D1. |   .0260095   .0110368     2.36   0.023     .0037032    .0483158
         LD. |   .0117583   .0080537     1.46   0.152    -.0045188    .0280354
        L2D. |  -.0088439   .0123523    -0.72   0.478    -.0338089    .0161212
        L3D. |   .0019087   .0081188     0.24   0.815       -.0145    .0183175
        L4D. |   .0091793   .0072379     1.27   0.212     -.005449    .0238075
        L5D. |   .0073554   .0071709     1.03   0.311    -.0071374    .0218483
------------------------------------------------------------------------------

Absorbed degrees of freedom:
----------------------------------------------------------------+
            Absorbed FE | Categories  - Redundant  = Num. Coefs |
------------------------+---------------------------------------|
             year_month |       109           0         109     |
                zipcode |      1143        1143           0    *|
 zipcode#c.trend_times2 |      1143           0        1143    ?|
----------------------------------------------------------------+
? = number of redundant parameters may be higher
* = FE nested within cluster; treated as redundant for DoF computation

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"

 ( 1)  F5D.ln_mw = 0
 ( 2)  F4D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F2D.ln_mw = 0
 ( 5)  FD.ln_mw = 0

       F(  5,    40) =    0.73
            Prob > F =    0.6018

added scalar:
          e(p_value_F) =  .60176964
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0473674   .0300703     1.58   0.123    -.0134069    .1081417
------------------------------------------------------------------------------

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"
(note: file ../output/fd_dynamic_table_sfcc.tex not found)
(output written to ../output/fd_dynamic_table_sfcc.tex)
(note: file ../output/fd_dynamic_lincom_table_sfcc.tex not found)
(output written to ../output/fd_dynamic_lincom_table_sfcc.tex)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   4,     40) =       2.55
Statistics robust to heteroskedasticity           Prob > F        =     0.0536
                                                  R-squared       =     0.0219
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                                       (Std. Err. adjusted for 41 clusters in statefips)
----------------------------------------------------------------------------------------
D.                     |               Robust
ln_med_rent_psqft_sfcc |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------------+----------------------------------------------------------------
 med_hhinc20105_st_qtl#|
             c.d_ln_mw |
                    1  |   .0419993   .0223738     1.88   0.068    -.0032199    .0872185
                    2  |   .0216153   .0154763     1.40   0.170    -.0096635    .0528942
                    3  |   .0302303   .0248445     1.22   0.231    -.0199823     .080443
                    4  |   .0112318   .0125119     0.90   0.375    -.0140557    .0365193
----------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/fd_static_sfcc_heter_med_hhinc20105.png written in PNG format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   4,     40) =       4.28
Statistics robust to heteroskedasticity           Prob > F        =     0.0056
                                                  R-squared       =     0.0219
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                                          (Std. Err. adjusted for 41 clusters in statefips)
-------------------------------------------------------------------------------------------
                          |               Robust
 D.ln_med_rent_psqft_sfcc |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------+----------------------------------------------------------------
renthouse_share2010_st_~l#|
                c.d_ln_mw |
                       1  |   .0285769   .0178447     1.60   0.117    -.0074887    .0646425
                       2  |   .0126106   .0174708     0.72   0.475    -.0226992    .0479203
                       3  |   .0173506   .0232753     0.75   0.460    -.0296906    .0643918
                       4  |   .0438048   .0153479     2.85   0.007     .0127857     .074824
-------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/fd_static_sfcc_heter_renthouse_share2010.png written in PNG format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   4,     40) =       2.25
Statistics robust to heteroskedasticity           Prob > F        =     0.0805
                                                  R-squared       =     0.0219
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0002
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                                          (Std. Err. adjusted for 41 clusters in statefips)
-------------------------------------------------------------------------------------------
                          |               Robust
 D.ln_med_rent_psqft_sfcc |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------+----------------------------------------------------------------
college_share20105_st_qtl#|
                c.d_ln_mw |
                       1  |   .0395533   .0198258     2.00   0.053    -.0005161    .0796226
                       2  |   .0484482   .0220461     2.20   0.034     .0038912    .0930051
                       3  |   .0252557   .0213406     1.18   0.244    -.0178753    .0683868
                       4  |  -.0014074   .0121841    -0.12   0.909    -.0260323    .0232175
-------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/fd_static_sfcc_heter_college_share20105.png written in PNG format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    112,232
Absorbing 1 HDFE group                            F(   4,     40) =       1.68
Statistics robust to heteroskedasticity           Prob > F        =     0.1747
                                                  R-squared       =     0.0218
                                                  Adj R-squared   =     0.0208
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         41       Root MSE        =     0.0279

                                        (Std. Err. adjusted for 41 clusters in statefips)
-----------------------------------------------------------------------------------------
D.                      |               Robust
 ln_med_rent_psqft_sfcc |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
 black_share2010_st_qtl#|
              c.d_ln_mw |
                     1  |   .0172663   .0166765     1.04   0.307    -.0164382    .0509707
                     2  |   .0226168   .0158719     1.42   0.162    -.0094616    .0546952
                     3  |   .0231978   .0143278     1.62   0.113    -.0057597    .0521554
                     4  |    .042954    .016962     2.53   0.015     .0086724    .0772355
-----------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/fd_static_sfcc_heter_black_share2010.png written in PNG format)
(dropped 367 singleton observations)
(MWFE estimator converged in 2 iterations)

HDFE Linear regression                            Number of obs   =    194,295
Absorbing 2 HDFE groups                           F(   1,     48) =       3.96
Statistics robust to heteroskedasticity           Prob > F        =     0.0524
                                                  R-squared       =     0.0514
                                                  Adj R-squared   =     0.0201
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         49       Root MSE        =     0.0328

                             (Std. Err. adjusted for 49 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0228969   .0115103     1.99   0.052    -.0002462    .0460399
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------------+
             Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------------+---------------------------------------|
              year_month |       118           0         118     |
   entry_sfcc#year_month |      6217         118        6099     |
-----------------------------------------------------------------+
(est1 stored)

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"

         |        Observations
         |      total   distinct
---------+----------------------
 zipcode |     194295       3310
(dropped 367 singleton observations)
(MWFE estimator converged in 2 iterations)

HDFE Linear regression                            Number of obs   =    194,295
Absorbing 3 HDFE groups                           F(   1,     48) =       3.93
Statistics robust to heteroskedasticity           Prob > F        =     0.0532
                                                  R-squared       =     0.0548
                                                  Adj R-squared   =     0.0060
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         49       Root MSE        =     0.0330

                             (Std. Err. adjusted for 49 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0219646   .0110803     1.98   0.053    -.0003137     .044243
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------------+
             Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------------+---------------------------------------|
              year_month |       118           0         118     |
   entry_sfcc#year_month |      6217         118        6099     |
                 zipcode |      3310        3310           0    *|
-----------------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(est2 stored)

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"
(dropped 367 singleton observations)
(MWFE estimator converged in 80 iterations)

HDFE Linear regression                            Number of obs   =    194,295
Absorbing 4 HDFE groups                           F(   1,     48) =       3.97
Statistics robust to heteroskedasticity           Prob > F        =     0.0519
                                                  R-squared       =     0.0611
                                                  Adj R-squared   =    -0.0054
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         49       Root MSE        =     0.0332

                             (Std. Err. adjusted for 49 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
         D1. |   .0218884   .0109786     1.99   0.052    -.0001855    .0439623
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------------+
             Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------------+---------------------------------------|
              year_month |       118           0         118     |
   entry_sfcc#year_month |      6217         118        6099     |
                 zipcode |      3310        3310           0    *|
  zipcode#c.trend_times2 |      3310           0        3310    ?|
-----------------------------------------------------------------+
? = number of redundant parameters may be higher
* = FE nested within cluster; treated as redundant for DoF computation
(est3 stored)

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"
(note: file ../output/unb_fd_table_sfcc.tex not found)
(output written to ../output/unb_fd_table_sfcc.tex)
(dropped 337 singleton observations)
(MWFE estimator converged in 2 iterations)

HDFE Linear regression                            Number of obs   =    177,659
Absorbing 2 HDFE groups                           F(  11,     48) =       0.97
Statistics robust to heteroskedasticity           Prob > F        =     0.4864
                                                  R-squared       =     0.0525
                                                  Adj R-squared   =     0.0209
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         49       Root MSE        =     0.0326

                             (Std. Err. adjusted for 49 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0100013   .0078834    -1.27   0.211     -.025852    .0058494
        F4D. |  -.0065711   .0089315    -0.74   0.465    -.0245291    .0113869
        F3D. |   -.000199   .0078473    -0.03   0.980    -.0159771    .0155791
        F2D. |  -.0007336   .0063005    -0.12   0.908    -.0134016    .0119345
         FD. |   .0070428   .0099803     0.71   0.484     -.013024    .0271096
         D1. |   .0233548   .0116099     2.01   0.050     .0000117     .046698
         LD. |   .0073137   .0057144     1.28   0.207    -.0041759    .0188033
        L2D. |   .0066305   .0081721     0.81   0.421    -.0098006    .0230615
        L3D. |   .0059836   .0065444     0.91   0.365    -.0071748     .019142
        L4D. |   .0076692   .0080222     0.96   0.344    -.0084605    .0237989
        L5D. |   .0031881   .0092162     0.35   0.731    -.0153423    .0217186
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------------+
             Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------------+---------------------------------------|
              year_month |       109           0         109     |
   entry_sfcc#year_month |      5727         109        5618     |
-----------------------------------------------------------------+

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"

 ( 1)  F5D.ln_mw = 0
 ( 2)  F4D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F2D.ln_mw = 0
 ( 5)  FD.ln_mw = 0

       F(  5,    48) =    0.75
            Prob > F =    0.5922

added scalar:
          e(p_value_F) =  .59222274

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
--------------------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
(552,466 observations deleted)
(6 missing values generated)
(6 real changes made)
(6 missing values generated)
(6 real changes made)
(6 missing values generated)
(6 real changes made)
file ../temp/plot_coeffs.dta saved
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0541399   .0291576     1.86   0.069    -.0044853    .1127652
------------------------------------------------------------------------------

added macro:
           e(zs_trend) : "No"

added macro:
        e(zs_trend_sq) : "No"

Generated variables:
              storage   display    value
variable name   type    format     label      variable label
--------------------------------------------------------------------------------------------
__by            byte    %9.0g      __by       subgraph ID
__plot          byte    %9.0g      __plot     plot ID
__at            byte    %9.0g                 plot position (category axis)
__mlbl          str1    %9s                   marker label
__mlpos         byte    %9.0g                 marker label position
__b             float   %9.0g                 coefficient
__V             float   %9.0g                 variance
__se            float   %9.0g                 standard error
__t             float   %9.0g                 t or z statistic
__df            byte    %9.0g                 degrees of freedom
__pval          float   %9.0g                 p-value
__ll1           float   %9.0g                 CI1: lower limit
__ul1           float   %9.0g                 CI1: upper limit
        time variable:  at, 1 to 6
                delta:  1 unit
(552,471 observations deleted)
(5 real changes made)
(6 real changes made)

    Result                           # of obs.
    -----------------------------------------
    not matched                             5
        from master                         0  
        from using                          5  

    matched                                 6  
    -----------------------------------------
(5 real changes made)
(5 real changes made)
(5 real changes made)
(5 real changes made)
(5 real changes made)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/unb_fd_models_sfcc.png written in PNG format)
(dropped 337 singleton observations)
(MWFE estimator converged in 2 iterations)

HDFE Linear regression                            Number of obs   =    177,659
Absorbing 3 HDFE groups                           F(  11,     48) =       0.99
Statistics robust to heteroskedasticity           Prob > F        =     0.4682
                                                  R-squared       =     0.0567
                                                  Adj R-squared   =     0.0061
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         49       Root MSE        =     0.0328

                             (Std. Err. adjusted for 49 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0114692   .0081035    -1.42   0.163    -.0277623    .0048239
        F4D. |  -.0081242   .0079168    -1.03   0.310    -.0240421    .0077936
        F3D. |  -.0017105   .0086384    -0.20   0.844    -.0190792    .0156581
        F2D. |  -.0023341   .0074253    -0.31   0.755    -.0172636    .0125955
         FD. |   .0055244   .0082307     0.67   0.505    -.0110246    .0220734
         D1. |   .0217942   .0117467     1.86   0.070    -.0018242    .0454126
         LD. |   .0047283   .0057356     0.82   0.414     -.006804    .0162605
        L2D. |   .0040486   .0091469     0.44   0.660    -.0143425    .0224398
        L3D. |   .0034699   .0063198     0.55   0.586    -.0092368    .0161767
        L4D. |   .0051463   .0068762     0.75   0.458    -.0086792    .0189718
        L5D. |   .0007674   .0077382     0.10   0.921    -.0147913    .0163261
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------------+
             Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------------+---------------------------------------|
              year_month |       109           0         109     |
   entry_sfcc#year_month |      5727         109        5618     |
                 zipcode |      3310        3310           0    *|
-----------------------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"

 ( 1)  F5D.ln_mw = 0
 ( 2)  F4D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F2D.ln_mw = 0
 ( 5)  FD.ln_mw = 0

       F(  5,    48) =    0.74
            Prob > F =    0.5944

added scalar:
          e(p_value_F) =  .59444223
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0399547   .0267614     1.49   0.142    -.0138527    .0937622
------------------------------------------------------------------------------

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "No"
(dropped 337 singleton observations)
(MWFE estimator converged in 116 iterations)

HDFE Linear regression                            Number of obs   =    177,659
Absorbing 4 HDFE groups                           F(  11,     48) =       0.98
Statistics robust to heteroskedasticity           Prob > F        =     0.4750
                                                  R-squared       =     0.0640
                                                  Adj R-squared   =    -0.0059
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         49       Root MSE        =     0.0330

                             (Std. Err. adjusted for 49 clusters in statefips)
------------------------------------------------------------------------------
D.           |               Robust
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       ln_mw |
        F5D. |  -.0122703   .0077075    -1.59   0.118    -.0277673    .0032266
        F4D. |  -.0090429   .0077021    -1.17   0.246     -.024529    .0064431
        F3D. |  -.0022981   .0078692    -0.29   0.772    -.0181202     .013524
        F2D. |  -.0026153    .008142    -0.32   0.749     -.018986    .0137553
         FD. |    .005236   .0089949     0.58   0.563    -.0128495    .0233214
         D1. |   .0213519   .0109961     1.94   0.058    -.0007571     .043461
         LD. |   .0037122   .0059551     0.62   0.536    -.0082613    .0156858
        L2D. |   .0029586   .0092657     0.32   0.751    -.0156715    .0215886
        L3D. |   .0027151   .0062749     0.43   0.667    -.0099014    .0153316
        L4D. |   .0048255    .007258     0.66   0.509    -.0097677    .0194186
        L5D. |   .0007086   .0073003     0.10   0.923    -.0139697    .0153869
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------------+
             Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------------------+---------------------------------------|
              year_month |       109           0         109     |
   entry_sfcc#year_month |      5727         109        5618     |
                 zipcode |      3310        3310           0    *|
  zipcode#c.trend_times2 |      3310           0        3310    ?|
-----------------------------------------------------------------+
? = number of redundant parameters may be higher
* = FE nested within cluster; treated as redundant for DoF computation

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"

 ( 1)  F5D.ln_mw = 0
 ( 2)  F4D.ln_mw = 0
 ( 3)  F3D.ln_mw = 0
 ( 4)  F2D.ln_mw = 0
 ( 5)  FD.ln_mw = 0

       F(  5,    48) =    0.82
            Prob > F =    0.5419

added scalar:
          e(p_value_F) =  .54193153
Confidence interval for formula:
D1.ln_mw+LD.ln_mw+L2D.ln_mw+L3D.ln_mw+L4D.ln_mw+L5D.ln_mw

------------------------------------------------------------------------------
D.           |
ln_med_ren~c |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         (1) |   .0362718   .0238609     1.52   0.135    -.0117038    .0842474
------------------------------------------------------------------------------

added macro:
           e(zs_trend) : "Yes"

added macro:
        e(zs_trend_sq) : "Yes"
(note: file ../output/unb_fd_dynamic_table_sfcc.tex not found)
(output written to ../output/unb_fd_dynamic_table_sfcc.tex)
(note: file ../output/unb_fd_dynamic_lincom_table_sfcc.tex not found)
(output written to ../output/unb_fd_dynamic_lincom_table_sfcc.tex)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    194,662
Absorbing 1 HDFE group                            F(   5,     48) =     158.19
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0159
                                                  Adj R-squared   =     0.0153
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         49       Root MSE        =     0.0329

                                       (Std. Err. adjusted for 49 clusters in statefips)
----------------------------------------------------------------------------------------
D.                     |               Robust
ln_med_rent_psqft_sfcc |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------------+----------------------------------------------------------------
 med_hhinc20105_st_qtl#|
             c.d_ln_mw |
                    0  |  -.3388481   .0156186   -21.70   0.000    -.3702515   -.3074448
                    1  |   .0049862   .0321534     0.16   0.877    -.0596624    .0696349
                    2  |   .0397351   .0119686     3.32   0.002     .0156706    .0637996
                    3  |   .0180772   .0146248     1.24   0.222    -.0113279    .0474823
                    4  |   .0146147   .0123013     1.19   0.241    -.0101187    .0393481
----------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/unb_fd_static_sfcc_heter_med_hhinc20105.png written in PNG format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    194,662
Absorbing 1 HDFE group                            F(   5,     48) =     145.22
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0159
                                                  Adj R-squared   =     0.0153
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         49       Root MSE        =     0.0329

                                          (Std. Err. adjusted for 49 clusters in statefips)
-------------------------------------------------------------------------------------------
                          |               Robust
 D.ln_med_rent_psqft_sfcc |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------+----------------------------------------------------------------
renthouse_share2010_st_~l#|
                c.d_ln_mw |
                       0  |   -.338625   .0156045   -21.70   0.000         -.37     -.30725
                       1  |   .0162945   .0148432     1.10   0.278    -.0135498    .0461387
                       2  |   .0152799   .0124301     1.23   0.225    -.0097125    .0402723
                       3  |   .0044781   .0161107     0.28   0.782    -.0279145    .0368708
                       4  |   .0392719   .0202964     1.93   0.059    -.0015367    .0800805
-------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/unb_fd_static_sfcc_heter_renthouse_share2010.png written in PNG format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    194,662
Absorbing 1 HDFE group                            F(   5,     48) =     158.56
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0159
                                                  Adj R-squared   =     0.0153
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         49       Root MSE        =     0.0329

                                          (Std. Err. adjusted for 49 clusters in statefips)
-------------------------------------------------------------------------------------------
                          |               Robust
 D.ln_med_rent_psqft_sfcc |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------+----------------------------------------------------------------
college_share20105_st_qtl#|
                c.d_ln_mw |
                       0  |  -.3387315   .0156201   -21.69   0.000    -.3701378   -.3073253
                       1  |   .0225298    .029067     0.78   0.442    -.0359134     .080973
                       2  |   .0334416   .0126568     2.64   0.011     .0079934    .0588897
                       3  |   .0106035   .0182631     0.58   0.564    -.0261168    .0473239
                       4  |    .015073   .0141178     1.07   0.291    -.0133127    .0434587
-------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/unb_fd_static_sfcc_heter_college_share20105.png written in PNG format)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    194,662
Absorbing 1 HDFE group                            F(   5,     48) =     144.62
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0159
                                                  Adj R-squared   =     0.0153
                                                  Within R-sq.    =     0.0001
Number of clusters (statefips) =         49       Root MSE        =     0.0329

                                        (Std. Err. adjusted for 49 clusters in statefips)
-----------------------------------------------------------------------------------------
D.                      |               Robust
 ln_med_rent_psqft_sfcc |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
 black_share2010_st_qtl#|
              c.d_ln_mw |
                     0  |   -.338523     .01556   -21.76   0.000    -.3698085   -.3072375
                     1  |  -.0037424   .0148514    -0.25   0.802    -.0336031    .0261182
                     2  |   .0127812   .0173903     0.73   0.466    -.0221844    .0477469
                     3  |    .040861   .0108352     3.77   0.000     .0190754    .0626466
                     4  |   .0250223   .0170117     1.47   0.148    -.0091821    .0592266
-----------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
  year_month |       118           0         118     |
-----------------------------------------------------+
(note:  named style grey not found in class color, default attributes used)
(file /Users/gabriborg/Dropbox (Brown)/research/min_wage_rent/analysis/first_differences/cod
> e/../output/unb_fd_static_sfcc_heter_black_share2010.png written in PNG format)
program error:  matching close brace not found
r(198);

end of do-file
r(198);


Execute:  stataSE -e do "./horse_race_dynamic_models.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.1   Copyright 1985-2019 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

120-user Stata network perpetual license:
       Serial number:  401606201670
         Licensed to:  Brown University
                       Brown University

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./horse_race_dynamic_models.do 

. clear all

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "/Applications/Stata/ado/base/"
  [2]  (SITE)      "/Applications/Stata/ado/site/"
  [3]              "."
  [4]  (PERSONAL)  "/Users/gabriborg/Documents/Stata/ado/personal/"
  [5]  (PLUS)      "/Users/gabriborg/Library/Application Support/Stata/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/min_wage/ado
  [1]  (BASE)      "/Applications/Stata/ado/base/"
  [2]  (SITE)      "/Applications/Stata/ado/site/"
  [3]              "."
  [4]  (PERSONAL)  "/Users/gabriborg/Documents/Stata/ado/personal/"
  [5]  (PLUS)      "/Users/gabriborg/Library/Application Support/Stata/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/min_wage/ado"

. set maxvar 32000 


. 
. program main
  1.         local instub "../temp"
  2.         local outstub "../output"
  3. 
.         use "`instub'/fd_rent_panel.dta", clear
  4. 
.         horse_race_models, depvar(ln_med_rent_psqft) w(5) ///
>             absorb(year_month) cluster(statefips)
  5.         esttab * using "`outstub'/horse_race.tex", compress se replace substitute(\_ _)
>          ///
>             order(F5D.ln_mw F4D.ln_mw F3D.ln_mw F2D.ln_mw FD.ln_mw D.ln_mw ///
>                 LD.ln_mw L2D.ln_mw L3D.ln_mw L4D.ln_mw L5D.ln_mw LD.ln_med_rent_psqft) ///
>         coeflabels(F5D.ln_mw "$\Delta \ln(MW)_{t-5}$" F4D.ln_mw "$\Delta \ln(MW)_{t-4}$" /
> //
>                 F3D.ln_mw "$\Delta \ln(MW)_{t-3}$" F2D.ln_mw "$\Delta \ln(MW)_{t-2}$" ///
>                 FD.ln_mw "$\Delta \ln(MW)_{t-1}$" D.ln_mw "$\Delta \ln(MW)_{t}$" ///
>                 LD.ln_mw "$\Delta \ln(MW)_{t+1}$" L2D.ln_mw "$\Delta \ln(MW)_{t+2}$" ///
>                 L3D.ln_mw "$\Delta \ln(MW)_{t+3}$" L4D.ln_mw "$\Delta \ln(MW)_{t+4}$" ///
>                 L5D.ln_mw "$\Delta \ln(MW)_{t+5}$" LD.ln_med_rent_psqft "$\Delta \ln(y)_{t
> -1}$") ///
>                 stats(N, fmt(%9.0g)             ///
>                 labels("Observations")) star(* 0.10 ** 0.05 *** 0.01)   ///
>                 mtitles("DiD" "Distributed leads and lags" "Distributed Lags" ///
>                 "AB distributed leads and lags" "AB distributed lags" ///
>                 "MW distributed leads and lags" "MW distributed lags") nonote
  6.                 
.         horse_race_models, depvar(ln_med_rent_psqft) w(5) ///
>             absorb(year_month zipcode) cluster(statefips)
  7.         esttab * using "`outstub'/horse_race_zipcode_trend.tex", compress se replace   
>  ///
>             order(F5D.ln_mw F4D.ln_mw F3D.ln_mw F2D.ln_mw FD.ln_mw D.ln_mw ///
>                 LD.ln_mw L2D.ln_mw L3D.ln_mw L4D.ln_mw L5D.ln_mw LD.ln_med_rent_psqft) ///
>        
>                 coeflabels(F5D.ln_mw "$\Delta \ln(MW)_{t-5}$" F4D.ln_mw "$\Delta \ln(MW)_{
> t-4}$" ///
>                 F3D.ln_mw "$\Delta \ln(MW)_{t-3}$" F2D.ln_mw "$\Delta \ln(MW)_{t-2}$" ///
>                 FD.ln_mw "$\Delta \ln(MW)_{t-1}$" D.ln_mw "$\Delta \ln(MW)_{t}$" ///
>                 LD.ln_mw "$\Delta \ln(MW)_{t+1}$" L2D.ln_mw "$\Delta \ln(MW)_{t+2}$" ///
>                 L3D.ln_mw "$\Delta \ln(MW)_{t+3}$" L4D.ln_mw "$\Delta \ln(MW)_{t+4}$" ///
>                 L5D.ln_mw "$\Delta \ln(MW)_{t+5}$" LD.ln_med_rent_psqft "$\Delta \ln(y)_{t
> -1}$") ///
>                 stats(N, fmt(%9.0g)             ///
>                 labels("Observations")) star(* 0.10 ** 0.05 *** 0.01)                     
>                       ///
>                 mtitles("DiD" "Distributed leads and lags" "Distributed Lags" ///
>                 "AB distributed leads and lags" "AB distributed lags" ///
>                 "MW distributed leads and lags" "MW distributed lags") nonote
  8.                 
.         horse_race_models, depvar(ln_med_rent_psqft) w(5) ///
>             absorb(year_month zipcode c.trend_times2#i.zipcode) cluster(statefips)
  9.         esttab * using "`outstub'/horse_race_zipcode_trend_sq.tex", compress se replace
>          ///
>             order(F5D.ln_mw F4D.ln_mw F3D.ln_mw F2D.ln_mw FD.ln_mw D.ln_mw ///
>                 LD.ln_mw L2D.ln_mw L3D.ln_mw L4D.ln_mw L5D.ln_mw LD.ln_med_rent_psqft) ///
>     
>         coeflabels(F5D.ln_mw "$\Delta \ln(MW)_{t-5}$" F4D.ln_mw "$\Delta \ln(MW)_{t-4}$" /
> //
>                 F3D.ln_mw "$\Delta \ln(MW)_{t-3}$" F2D.ln_mw "$\Delta \ln(MW)_{t-2}$" ///
>                 FD.ln_mw "$\Delta \ln(MW)_{t-1}$" D.ln_mw "$\Delta \ln(MW)_{t}$" ///
>                 LD.ln_mw "$\Delta \ln(MW)_{t+1}$" L2D.ln_mw "$\Delta \ln(MW)_{t+2}$" ///
>                 L3D.ln_mw "$\Delta \ln(MW)_{t+3}$" L4D.ln_mw "$\Delta \ln(MW)_{t+4}$" ///
>                 L5D.ln_mw "$\Delta \ln(MW)_{t+5}$" LD.ln_med_rent_psqft "$\Delta \ln(y)_{t
> -1}$") ////
>                 stats(N, fmt(%9.0g)             ///
>                 labels("Observations")) star(* 0.10 ** 0.05 *** 0.01)                     
>                       ///
>                 mtitles("DiD" "Distributed leads and lags" "Distributed Lags" ///
>                 "AB distributed leads and lags" "AB distributed lags" ///
>                 "MW distributed leads and lags" "MW distributed lags") nonote
 10. end

. 
. program horse_race_models
  1.     syntax, depvar(str) w(int) absorb(str) cluster(str) 
  2.         
.     eststo clear
  3.         eststo: qui reghdfe D.`depvar' D.ln_mw,                                        
>          ///
>                 absorb(`absorb')                                                          
>                                       ///
>                 vce(cluster `cluster') nocons
  4.                 
.         eststo: qui reghdfe D.`depvar' L(-`w'/`w').D.ln_mw,                     ///
>                 absorb(`absorb')                                                          
>                               ///
>                 vce(cluster `cluster') nocons
  5.                 
.         eststo: qui reghdfe D.`depvar' L(0/`w').D.ln_mw,                        ///
>                 absorb(`absorb')                                                          
>                               ///
>                 vce(cluster `cluster') nocons
  6.                 
.         eststo: qui ivreghdfe D.`depvar' L(-`w'/`w').D.ln_mw (L.D.`depvar' = L2.D.`depvar'
> ),                    ///
>                 absorb(`absorb') ///
>                 cluster (`cluster') nocons
  7. 
.         eststo: qui ivreghdfe D.`depvar' L(0/`w').D.ln_mw (L.D.`depvar' = L2.D.`depvar'), 
>                       ///
>                 absorb(`absorb') ///
>                 cluster (`cluster') nocons
  8.                 
.         eststo: qui ivreghdfe D.`depvar' L(-`w'/`w').D.ln_mw (L.D.`depvar' = L6.D.ln_mw), 
>                       ///
>                 absorb(`absorb') ///
>                 cluster (`cluster') nocons
  9.                 
.         eststo: qui ivreghdfe D.`depvar' L(0/`w').D.ln_mw (L.D.`depvar' = L6.D.ln_mw),    
>               ///
>                 absorb(`absorb') ///
>                 cluster (`cluster') nocons
 10. end

. 
. 
. main
ln_med_rent_psqft ambiguous abbreviation
r(111);

end of do-file
r(111);

 make.py ended: 2020-09-27 20:15:44
