
 make.py started: 2022-03-17 23:17:39 C:\Users\Usuario\Documents\GitHub\min_wage_rent\descriptive\document_claims\code 




Execute:  R CMD BATCH --no-save "./build.R" build.Rout

R version 4.1.2 (2021-11-01) -- "Bird Hippie"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R es un software libre y viene sin GARANTIA ALGUNA.
Usted puede redistribuirlo bajo ciertas circunstancias.
Escriba 'license()' o 'licence()' para detalles de distribucion.

R es un proyecto colaborativo con muchos contribuyentes.
Escriba 'contributors()' para obtener más información y
'citation()' para saber cómo citar R o paquetes de R en publicaciones.

Escriba 'demo()' para demostraciones, 'help()' para el sistema on-line de ayuda,
o 'help.start()' para abrir el sistema de ayuda HTML con su navegador.
Escriba 'q()' para salir de R.

> remove(list = ls())
> 
> library(data.table)
> library(stringr)
> 
> source('../../../lib/R/write_command.R')
> source('autofill_estimates.R')
> source('event_counts.R')
> 
> main <- function() {
+   in_sample <- '../../../drive/derived_large/estimation_samples'
+   in_estimates <- '../../../analysis/fd_baseline/output'
+   out_estimates <- '../output/estimates.tex'
+   out_events <- '../output/events_count.tex'
+   out_corrmatrix <- '../output/corrmatrix.txt'
+   
+   varchar <- c('zipcode', 'countyfips', 'statefips', 'place_code','year_month')
+   
+   varnum <-  c("statutory_mw", "binding_mw", "binding_mw_max", 
+               "mw_res", "mw_wkp_tot_17", "mw_wkp_age_under29_17", 
+               "mw_wkp_earn_under1250_17","baseline_sample", "fullbal_sample")
+   
+   data <- fread(file.path(in_sample, 'zipcode_months.csv'),
+     colClasses = list(
+       character = varchar,
+       numeric = varnum
+       ),
+     select = c(varchar,varnum)
+     )
+   
+   # Correlation matrix
+   
+   vars <- c("mw_wkp_tot_17", "mw_wkp_age_under29_17", "mw_wkp_earn_under1250_17")
+   
+   corrmatrix <- cor(data[, ..vars])
+   
+   stargazer::stargazer(corrmatrix,
+                        summary = F,
+                        type="text",
+                        out=out_corrmatrix, 
+                        digits = 4)
+   
+   # Introduction estimates
+   
+   mw_pc_change <- 10
+   
+   output_estimates <- intro_estimates(in_estimates,mw_pc_change)
+   
+   write.table(output_estimates, out_estimates, quote = F, row.names = F, col.names = F)
+   
+   # MW summary statistics
+   
+   output_summary <- mw_summary(data)
+   
+   write.table(output_summary, out_events, quote = F, row.names = F, col.names = F)
+   
+ }
> 
> # Execute
> main()

=====================================================================================
                         mw_wkp_tot_17 mw_wkp_age_under29_17 mw_wkp_earn_under1250_17
-------------------------------------------------------------------------------------
mw_wkp_tot_17                  1              0.9971                  0.9912         
mw_wkp_age_under29_17       0.9971               1                    0.9946         
mw_wkp_earn_under1250_17    0.9912            0.9946                    1            
-------------------------------------------------------------------------------------
> 
> proc.time()
   user  system elapsed 
   2.34    0.54    3.25 

 make.py ended: 2022-03-17 23:17:42
