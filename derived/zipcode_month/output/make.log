
 make.py started: 2020-05-14 16:14:09 C:\Users\diegog\Desktop\Diego\min_wage_rent\derived\zipcode_month\code 




Execute:  R CMD BATCH --no-save "./ReshapeMergeZillow_zip.R" ReshapeMergeZillow_zip.Rout

R version 3.6.3 (2020-02-29) -- "Holding the Windsock"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> remove(list = ls())
> source("../../../lib/R/load_packages.R")
> source("../../../lib/R/save_data.R")

Please cite as: 

 Hlavac, Marek (2018). stargazer: Well-Formatted Regression and Summary Statistics Tables.
 R package version 5.2.2. https://CRAN.R-project.org/package=stargazer 


Attaching package: 'dplyr'

The following objects are masked from 'package:stats':

    filter, lag

The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union


Attaching package: 'data.table'

The following objects are masked from 'package:dplyr':

    between, first, last

> 
> load_packages(c('tidyverse', 'data.table', 'tidycensus'))
-- Attaching packages --------------------------------------- tidyverse 1.3.0 --
v ggplot2 3.3.0     v purrr   0.3.3
v tibble  2.1.3     v stringr 1.4.0
v tidyr   1.0.2     v forcats 0.5.0
v readr   1.3.1     
-- Conflicts ------------------------------------------ tidyverse_conflicts() --
x data.table::between() masks dplyr::between()
x dplyr::filter()       masks stats::filter()
x data.table::first()   masks dplyr::first()
x dplyr::lag()          masks stats::lag()
x data.table::last()    masks dplyr::last()
x purrr::transpose()    masks data.table::transpose()
> 
> main <- function(){
+    datadir <- '../../../base/zillow_min_wage/output/'
+    tempdir <- "../temp/"
+    
+    filelist <- reshape_zillow_zip_level(infiles = datadir)
+    merge_zillow(l = filelist, outstub = paste0(tempdir,"zillow_clean.csv"),
+                 key = c('zipcode', 'date'))
+ }
> 
> reshape_zillow_zip_level <- function(infiles){
+    
+    filenames <- list.files(infiles)
+    filenames <- filenames[str_detect(filenames, "Zip_*")]
+    filenames <- filenames[!str_detect(filenames, "_Summary.csv")]
+    
+    value_names <- str_replace_all(filenames, "Zip_", "")
+    value_names <- target_varname(value_names)
+    value_names <- str_replace(value_names, ".csv", "")
+    
+    id_fullvars <- c("zipcode", "city", "county", "msa", "stateabb")
+    
+    zillow_data <- mapply(function(filename, valname){
+             data <- fread(paste0(infiles, filename), stringsAsFactors = F)
+             idvars <- colnames(data)
+             idvars <- idvars[!str_detect(idvars, "[0-9]")]
+             data <- data.table::melt(data,
+                                      id.vars = idvars,
+                                      variable.name = 'date',
+                                       value.name = valname)
+             missing_id_vars <- setdiff(id_fullvars, idvars)
+             data[, (missing_id_vars):= ""]   
+             return(data)},
+       filename = filenames,
+       valname = value_names,
+       SIMPLIFY = F)
+    
+    return(zillow_data)
+ }
> 
> merge_zillow <- function(l, outstub, key){
+ 
+    geovars <- c('zipcode', 'city', 'msa', 'county', 'stateabb')
+    geovar_df <- lapply(l, function(x){
+       state_name <- x[,..geovars]
+       state_name <- unique(state_name)
+    })
+    geovar_df <- rbindlist(geovar_df, use.names = T)
+    geovar_df <- unique(geovar_df)
+    geovar_df <- as.data.frame(geovar_df)
+    geovar_df[geovar_df==""] <- NA
+    geovar_df <- setDT(geovar_df)[, lapply(.SD, function(y) y[!is.na(y)]), by = c('zipcode', 'city', 'msa', 'county')]
+    
+    geovar_df <- geovar_df[, city := str_replace_all(city, "^Town of ", "")][
+       ,city := str_replace_all(city, " Township$", "")]
+    
+    geovar_df <- geovar_df[, lapply(.SD, function(y) y[!is.na(y)]), by = c('zipcode', 'city', 'msa', 'county')]
+    geovar_df <- unique(geovar_df)
+    
+    geovar_df <- geovar_df[,totNA := rowSums(is.na(geovar_df))]
+    
+    geovar_df <- geovar_df[, minNA := min(totNA), by = zipcode][
+       totNA == minNA,]
+    
+    setkey(geovar_df, 'zipcode')
+    geovar_df <- geovar_df[J(unique(zipcode)), mult = "first"]
+    
+    geovar_df[,c('totNA', 'minNA'):=NULL]
+    
+       
+    
+    exclude_geo <- setdiff(c(geovars, 'date'), key)
+ 
+    l <- lapply(l, function(y) y[, (exclude_geo):=NULL])
+    file_combined <-  Reduce(function(x,y,m = mvars){merge(x,y,all = T, by = key)}, l)
+    file_combined <- setDT(geovar_df)[file_combined, on = 'zipcode']
+ 
+    data.table::setorder(file_combined, zipcode, date)
+ 
+    file_combined[,date:=str_replace_all(date, "-", "_")]
+    
+    save_data(file_combined, file = outstub, key = key, nolog = TRUE)
+ }
> 
> target_varname <- function(x){
+    x <- str_replace_all(x, "AllHomes", "SFCC")
+    x <- str_replace_all(x, "SingleFamilyResidence", "SF")
+    x <- str_replace_all(x, "Condominium", "C")
+    x <- str_replace_all(x, "Condominum", "C")
+    x <- str_replace_all(x, "1Bedroom", "1BR")
+    x <- str_replace_all(x, "1bedroom", "1BR")
+    x <- str_replace_all(x, "2Bedroom", "2BR")
+    x <- str_replace_all(x, "2bedroom", "2BR")
+    x <- str_replace_all(x, "3Bedroom", "3BR")
+    x <- str_replace_all(x, "3bedroom", "3BR")
+    x <- str_replace_all(x, "4Bedroom", "4BR")
+    x <- str_replace_all(x, "4bedroom", "4BR")
+    x <- str_replace_all(x, "5BedroomOrMore", "5BR")
+    x <- str_replace_all(x, "CondoCoop", "CC")
+    x <- str_replace_all(x, "Sfr", "SF")
+    x <- str_replace_all(x, "DuplexTriplex", "MFdxtx")
+    x <- str_replace_all(x, "Mfr5PLus", "MF5")
+    x <- str_replace_all(x, "BottomTier", "low_tier")
+    x <- str_replace_all(x, "MiddleTier", "mid_tier")
+    x <- str_replace_all(x, "TopTier", "top_tier")
+    x <- str_replace_all(x, "MultiFamilyResidenceRental", "MF")
+    x <- str_replace_all(x, "SingleFamilyResidenceRental", "SF")
+    x <- str_replace_all(x, "SingleFamilyResidenceRental", "SF")
+    x <- str_replace_all(x, "PlusMultifamily", "MF")
+ 
+    x <- str_replace_all(x, "ListingsWithPriceReductions", "listings_pricedown")
+    x <- str_replace_all(x, "Zhvi", "zhvi")
+    x <- str_replace_all(x, "Zri", "zri")
+    
+       
+    x <- str_replace_all(x, "Listing", "listing")
+    x <- str_replace_all(x, "Median", "med")
+    x <- str_replace_all(x, "Price", "price")
+    x <- str_replace_all(x, "PerSqft", "psqft")
+    x <- str_replace_all(x, "PctOf", "pct")
+    x <- str_replace_all(x, "Reduction", "reduction")
+    x <- str_replace_all(x, "Rental", "rent")
+    x <- str_replace_all(x, "Homes", "homes")
+    x <- str_replace_all(x, "Homes", "homes")
+    return(x)
+ }
> 
> 
> main()
[1] "File '../temp/zillow_clean.csv' saved successfully."
There were 46 warnings (use warnings() to see them)
> 
> proc.time()
   user  system elapsed 
 150.29   48.39  100.85 


Execute:  R CMD BATCH --no-save "./addMinWage.R" addMinWage.Rout

R version 3.6.3 (2020-02-29) -- "Holding the Windsock"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> remove(list = ls())
> source("../../../lib/R/load_packages.R")
> source("../../../lib/R/save_data.R")

Please cite as: 

 Hlavac, Marek (2018). stargazer: Well-Formatted Regression and Summary Statistics Tables.
 R package version 5.2.2. https://CRAN.R-project.org/package=stargazer 


Attaching package: 'dplyr'

The following objects are masked from 'package:stats':

    filter, lag

The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union


Attaching package: 'data.table'

The following objects are masked from 'package:dplyr':

    between, first, last

> 
> load_packages(c('tidyverse', 'data.table', 'matrixStats'))
-- Attaching packages --------------------------------------- tidyverse 1.3.0 --
v ggplot2 3.3.0     v purrr   0.3.3
v tibble  2.1.3     v stringr 1.4.0
v tidyr   1.0.2     v forcats 0.5.0
v readr   1.3.1     
-- Conflicts ------------------------------------------ tidyverse_conflicts() --
x data.table::between() masks dplyr::between()
x dplyr::filter()       masks stats::filter()
x data.table::first()   masks dplyr::first()
x dplyr::lag()          masks stats::lag()
x data.table::last()    masks dplyr::last()
x purrr::transpose()    masks data.table::transpose()

Attaching package: 'matrixStats'

The following object is masked from 'package:dplyr':

    count

> 
> main <- function(){
+    datadir   <- '../../../base/zillow_min_wage/output/'
+    tempdir   <- "../temp/"
+    log_file  <- "../output/data_file_manifest.log"
+    
+    data <- load_data(infile_zillow = paste0(tempdir, 'zillow_clean.csv'), 
+                      infile_statemw = paste0(datadir, 'VZ_state_monthly.csv'), 
+                      infile_localmw = paste0(datadir, 'VZ_substate_monthly.csv'),
+                      infile_place = paste0(datadir, 'places10.csv'),
+                      infile_county = paste0(datadir,'zip_county10.csv'),
+                      infile_zipplace = paste0(datadir,'zip_places10.csv'))
+    
+    data <- assemble_data(data)
+ 
+    data <- create_minwage_eventvars(data)
+ 
+    save_data(df = data, key = c('zipcode', 'date'),
+              filename = paste0(tempdir, 'data_clean.csv'), nolog = TRUE)
+ }
> 
> load_data <- function(infile_zillow, infile_statemw, infile_localmw, infile_place,infile_county, infile_zipplace){
+    dfZillow <- fread(infile_zillow)
+    
+    dfZillow[, zipcode := str_pad(as.character(zipcode), 5, pad = 0)]
+    dfZillow[,date := as.Date(paste0(date, "_01"), "%Y_%m_%d")]
+ 
+    dfStatemw <- fread(infile_statemw)
+    setnames(dfStatemw, old = c('monthly_date', 'mw'), new = c('date', 'state_mw'))
+    dfStatemw[,date := str_replace_all(date, "m", "_")][,date:= as.Date(paste0(date, "_01"), "%Y_%m_%d")]
+    dfStatemw[, statefips := str_pad(as.character(statefips), 2, pad = 0)]
+ 
+    dfLocalmw <- fread(infile_localmw)
+    setnames(dfLocalmw, old = c('monthly_date'), new = c('date'))
+    dfLocalmw[,date := str_replace_all(date, "m", "_")][,date:= as.Date(paste0(date, "_01"), "%Y_%m_%d")]
+    dfLocalmw[, statefips := str_pad(as.character(statefips), 2, pad = 0)]
+    dfLocalmw[,iscounty:=str_extract_all(locality, " County")][,iscounty:= ifelse(iscounty==" County", 1, 0)]
+ 
+    mw_vars <- names(dfLocalmw)
+    mw_vars <- mw_vars[grepl("mw", mw_vars)]
+    
+    county_mw_vars <- paste0("county_", mw_vars)
+    local_mw_vars <- paste0("local_", mw_vars)
+    
+    dfCountymw <- dfLocalmw[iscounty==1,][,iscounty:=NULL]
+    setnames(dfCountymw, old = c('locality', mw_vars), 
+                         new = c('county', county_mw_vars))
+    
+    dfLocalmw <- dfLocalmw[iscounty==0,][,iscounty:=NULL]
+    setnames(dfLocalmw, old = c('locality', mw_vars), 
+                        new = c('placename', local_mw_vars))
+    
+    usps_zip_to_zcta <- readxl::read_excel('../../../drive/raw_data/usd_mapper_Xwalk/zip_to_zcta_2019.xlsx')
+    old_vars <- c('ZIP_CODE', 'ZCTA')
+    new_vars <- c('zipcode', 'zcta')
+    setnames(usps_zip_to_zcta, old = old_vars, new = new_vars)
+    usps_zip_to_zcta <- usps_zip_to_zcta[,c("zipcode", 'zcta')]
+    
+    place10 <- fread(infile_place)
+    setnames(place10, old = c("state"), new = "statefips")
+    place10[, statefips := str_pad(as.character(statefips), 2, pad = 0)]
+    place10[, place_code := str_pad(as.character(place_code), 5, pad = 0)]
+    # place10 <- place10[placetype=="city",]
+ 
+    zip_places10 <- fread(infile_zipplace, colClasses = c("place_code"="character", "zcta"="character",
+                                                          "statefips"="character"))
+    setorder(zip_places10, zcta)
+    zip_places10 <- place10[zip_places10, on = c('statefips', 'place_code')]
+    zip_places10 <- zip_places10[pct_zip_houses_inplace>=50,]
+    zip_places10 <- left_join(zip_places10, usps_zip_to_zcta, by=c('zcta'))
+    
+    
+    zip_county10 <- fread(infile_county, colClasses = c("zcta"="character", "statefips"="character",
+                                                        "county_code"="character", "countyfips"="character"))
+    setorder(zip_county10, zcta)
+    zip_county10 <- zip_county10[pct_zip_houses_incounty>=50,]
+    zip_county10[, ind := max(pct_zip_pop_incounty, na.rm = T), by = 'zcta'][, ind:= ifelse(ind==pct_zip_pop_incounty, 1, 0)]
+    zip_county10 <- zip_county10[ind==1,]
+    zip_county10 <- zip_county10[, ind:=NULL]
+    zip_county10 <- left_join(zip_county10, usps_zip_to_zcta, by=c('zcta'))
+    
+    return(list('df_zillow'    = dfZillow,     'df_state_mw' = dfStatemw,
+                'df_county_mw' = dfCountymw,   'df_local_mw' = dfLocalmw,
+                'zip_county'   = zip_county10, 'zip_place'   = zip_places10))
+ }
> 
> assemble_data <- function(data) {
+    DF <- data[['df_zillow']]
+    DF <- left_join(DF, data[['df_state_mw']], by=c('stateabb', 'date'))
+    DF <- left_join(DF, data[['zip_county']], by=c('statefips', 'stateabb', 'zipcode'))
+    DF <- subset(DF, select = -c(statename, county.x, county_code))
+    setnames(DF, old = c("county.y"), new = "county")
+    DF <- left_join(DF, data[['zip_place']], by=c('statefips', 'stateabb', 'zipcode'))
+    DF <- subset(DF, select = -c(zcta.x))
+    setnames(DF, old = c("zcta.y"), new = "zcta")
+    DF <- left_join(DF, data[['df_county_mw']], by=c('statefips', 'stateabb', 'county', 'date'))
+    DF <- subset(DF, select = -c(statename))
+    DF <- left_join(DF, data[['df_local_mw']], by=c('statefips', 'stateabb', 'placename', 'date'))
+    DF <- subset(DF, select = -c(statename))
+    
+    colorder1 <- c('date', 'zipcode', 'zcta', 'place_code', 'placename', 'placetype', 
+                   'city', 'msa', 'countyfips', 'county', 'statefips', 'stateabb')
+    colorder2 <- setdiff(colorder1, names(DF))
+    setcolorder(DF, c(colorder1,colorder2))
+    return(as.data.table(DF))
+ }
> 
> create_minwage_eventvars <- function(x){
+    
+    mw_vars <- names(x)
+    mw_vars <- mw_vars[grepl("mw", mw_vars)]
+    mw_vars <- mw_vars[!grepl("abovestate", mw_vars)]
+    
+    mw_vars_regular <- mw_vars[!grepl("smallbusiness", mw_vars)]
+    
+    mw_vars_smallb <- c(mw_vars[grepl('smallbusiness', mw_vars)], 
+                        'fed_mw', 'state_mw') 
+ 
+    
+    x[ , actual_mw := 
+         rowMaxs(as.matrix(x[,..mw_vars_regular]), na.rm = T)][ , actual_mw:= ifelse(actual_mw == -Inf, 
+                                                                                         NA, actual_mw)]
+    x[ , actual_mw_smallbusiness := 
+         rowMaxs(as.matrix(x[,..mw_vars_smallb]), na.rm = T)][ ,actual_mw_smallbusiness:= ifelse(actual_mw_smallbusiness == -Inf, 
+                                                                                         NA, actual_mw_smallbusiness)]
+    
+    setorderv(x, cols = c('zipcode', 'date'))
+    x[,Dactual_mw := actual_mw - shift(actual_mw), by = 'zipcode'][,mw_event := ifelse(Dactual_mw > 0 , 1, 0)]
+    x[,Dactual_mw_smallbusiness := actual_mw_smallbusiness - shift(actual_mw_smallbusiness), by = 'zipcode'][,mw_event_smallbusiness := ifelse(Dactual_mw_smallbusiness > 0 , 1, 0)]
+ 
+    return(x)
+ }
> 
> main()
[1] "File '../temp/data_clean.csv' saved successfully."
Warning messages:
1: In `[.data.table`(x, , ..mw_vars_regular) :
  Both 'mw_vars_regular' and '..mw_vars_regular' exist in calling scope. Please remove the '..mw_vars_regular' variable in calling scope for clarity.
2: In `[.data.table`(x, , ..mw_vars_smallb) :
  Both 'mw_vars_smallb' and '..mw_vars_smallb' exist in calling scope. Please remove the '..mw_vars_smallb' variable in calling scope for clarity.
> 
> proc.time()
   user  system elapsed 
 214.59   30.25  206.76 


Execute:  StataMP-64 /e do "./clean_gen_label.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./clean_gen_label.do 

. set more off

. clear all

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/mental_coupons/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/mental_coupons/ado"

. 
. program main 
  1.     import delim "../temp/data_clean.csv", delim(",")
  2. 
.     clean_vars
  3.     gen_vars
  4. 
.     compress
  5.     save_data "../temp/zipcode_yearmonth_panel.dta", key(zipcode year_mont
> h) ///
>         log(none) replace
  6. end  

. 
. program clean_vars
  1.     *clean date
.     gen     year_month = date(date, "YMD")
  2.     gen calendar_month = month(year_month)
  3.     drop date
  4.     replace year_month = mofd(year_month)
  5.     format  year_month %tm
  6. 
.     drop if missing(year_month)
  7.     drop if missing(zipcode)
  8.         
.         rename msa msa_str
  9.         encode msa_str, gen(msa)
 10.         drop msa_str
 11.         
.         replace dactual_mw = round(dactual_mw, 0.01)
 12.         replace dactual_mw = 0 if dactual_mw < 0
 13. end

. 
. program gen_vars
  1.     bysort zipcode (year_month): gen trend = _n
  2. 
.     local mw_type `" "" "_smallbusiness" "'
  3.     foreach var_type in `mw_type' {
  4.         bysort zipcode (year_month): gen dpct_actual_mw`var_type' = dactua
> l_mw`var_type'/actual_mw`var_type'[_n-1]
  5. 
.         gen event_month`var_type' = mw_event`var_type' == 1
  6.         replace event_month`var_type' = 1 if year_month != year_month[_n-1
> ] + 1  // zipcode changes
  7. 
.         gen event_month`var_type'_id = sum(event_month`var_type')
  8. 
.         bysort event_month`var_type'_id: gen months_since`var_type' = _n - 1
  9.         bysort event_month`var_type'_id: gen months_until`var_type' = _N -
>  months_since`var_type'
 10. 
.         bysort event_month`var_type'_id: replace months_until`var_type' = 0 i
> f _N == months_until`var_type'
 11. 
.         drop event_month`var_type'_id event_month`var_type'        
 12.     }
 13.         
.     gen sal_mw_event = (dactual_mw >= 0.5)
 14.         gen mw_event025 = (dactual_mw >= 0.25)
 15.         gen mw_event075 = (dactual_mw >= 0.75)
 16. end

. 
. main
(72 vars, 8,799,516 obs)
(7,005 missing values generated)
(7,005 missing values generated)
(8,792,511 real changes made)
(7,005 observations deleted)
(0 observations deleted)
(166,838 real changes made)
(648 real changes made)
(91,793 missing values generated)
(30,687 real changes made)
(302500 real changes made)
(91,793 missing values generated)
(30,687 real changes made)
(302488 real changes made)
  variable year_month was float now int
  variable calendar_month was float now byte
  variable msa was long now int
  variable trend was float now int
  variable months_since was float now int
  variable months_until was float now int
  variable months_since_smallbusiness was float now int
  variable months_until_smallbusiness was float now int
  variable sal_mw_event was float now byte
  variable mw_event025 was float now byte
  variable mw_event075 was float now byte
  (228,605,286 bytes saved)
(data now sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/zipcode_yearmonth_panel.dta
Key: zipcode year_month
===============================================================================
> ===================
  8792511:83(83943):1161706662:1112742972

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |  8,792,511    48754.23    27453.74        501      99929
  year_month |  8,792,511    578.0919    82.85671        435        721
        zcta |  4,070,272    55407.32    27551.92       1001      99929
  place_code |  4,070,272    41803.02    23819.56        100      89300
   placename |          0
-------------+---------------------------------------------------------
   placetype |          0
        city |          0
  countyfips |  8,669,215    29866.56    15229.81       1001      56045
      county |          0
   statefips |  8,731,405    29.79272    15.22646          1         56
-------------+---------------------------------------------------------
    stateabb |          0
medli~e_sfcc |    919,945    296431.4    256952.6      12000    6995000
m~e_low_tier |    237,537    151736.7    94283.89      11750     939935
m~e_top_tier |    481,521    463979.4    350800.1     112450    7295000
medli~t_sfcc |  1,084,523    165.6084    135.7259   11.57113   2802.347
-------------+---------------------------------------------------------
m~t_low_tier |    296,286    121.5329    83.33472   11.50727   1672.388
m~t_top_tier |    516,368    206.6456    177.9822   31.52173   2799.423
medren~e_1br |     69,440    1607.937     670.499        350       5195
medren~e_2br |    106,799    1766.741    879.0102        475      19500
medren~e_3br |     76,539    1928.871     1459.31        455      40000
-------------+---------------------------------------------------------
medren~e_4br |     10,310    3116.339    5197.041        435      50000
medren~e_5br |        868     5715.09    7571.906       1250      50000
medre~e_sfcc |    192,932    1768.679    1527.426        500      50000
medrent~e_cc |     34,676     2105.65    938.7924        700       8975
med~e_mfdxtx |     26,880    1979.011    832.9655        375       6646
-------------+---------------------------------------------------------
m~e_mfr5plus |    175,096     1554.04    697.8883        375      20000
medrent~e_sf |    142,386    1778.371    1931.017        500      50000
med~e_studio |     28,999    1670.905    1365.808        300      50000
medren~t_1br |     55,424    2.191226    .9194792   .6388889   7.164352
medren~t_2br |     92,792    1.682865     .803698   .5015197   12.55461
-------------+---------------------------------------------------------
medren~t_3br |     67,139    1.233209    .8117302   .5060225       17.5
medren~t_4br |      8,370     1.49865    2.559936   .5492424   21.85141
medren~t_5br |        537    7.753782    7.031498   .3727683         22
medre~t_sfcc |    197,978    1.303812    1.033133   .1091193   23.96932
medrent~t_cc |     30,608    2.170225    1.168605   .5835432   12.92755
-------------+---------------------------------------------------------
med~t_mfdxtx |     11,949    2.451649    1.286775   .3627695   6.936797
m~t_mfr5plus |    146,858    1.736677     .849114   .3150482   12.55435
medrent~t_sf |    144,593       1.145    1.002039   .1039069   24.48466
med~t_studio |     23,491    1.954625    1.574804   .4288971   7.347833
    zhvi_2br |  5,565,556    146003.9    133146.3       7100    3893638
-------------+---------------------------------------------------------
   zhvi_sfcc |  6,699,435    183337.3    176086.7       8565    6648479
      zhvi_c |  2,325,780    199634.7      160856      13592    3848327
     zhvi_sf |  6,686,415    191190.8    212985.5       8565    8737684
  zri_sfccmf |  1,347,720    1356.072    875.9493        368      83894
      zri_mf |    140,035    1518.065    639.5489        420      18349
-------------+---------------------------------------------------------
      fed_mw |  8,731,405    6.133715    1.054042       4.25       7.25
    state_mw |  8,731,405    6.567077    1.465736       4.25         14
pop10_zip_~y |  8,669,215    10139.74    13964.11          0     113916
houses10_z~y |  8,669,215    4328.356    5661.727          1      47617
pct_zip_po~y |  8,669,215    96.09368    9.709425          0        100
-------------+---------------------------------------------------------
pct_zip_ho~y |  8,669,215    96.04085    9.580142         50        100
  placepop10 |  4,070,272    241329.9    998106.5         16    8175133
landarea_s~m |  4,070,272    126.6059    325.0486          0       7434
pop10_zip_~e |  4,070,272    12798.36    15072.28          0     113916
houses10_z~e |  4,070,272    5410.332     6085.59          1      47617
-------------+---------------------------------------------------------
pct_zip_po~e |  4,070,272    80.26835    18.30725          0        100
pct_zip_ho~e |  4,070,272    80.56913    17.65957         50        100
   county_mw |    154,096    8.233972    1.887734       5.15      14.25
county_mw_~s |    154,096    8.162659    1.731204       5.15      13.25
county_abo~w |    154,096    .1989539    .3992146          0          1
-------------+---------------------------------------------------------
county_abo~e |    154,096    .1668311    .3728262          0          1
    local_mw |     94,464    8.780504    2.126039       5.15      16.09
local_mw_s~s |     94,464    8.679119    1.940648       5.15      16.09
local_abov~w |     94,464    .2929582    .4551218          0          1
local_abov~s |     94,464    .2618987    .4396701          0          1
-------------+---------------------------------------------------------
   actual_mw |  8,731,405    6.575721    1.489869       4.25      16.09
actual_mw_~s |  8,731,405     6.57402    1.483117       4.25      16.09
  dactual_mw |  8,700,718    .0159194    .1055625          0       5.81
    mw_event |  8,700,718    .0312403    .1739665          0          1
dactual_mw~s |  8,700,718    .0158332    .1055986      -3.59          6
-------------+---------------------------------------------------------
mw_event_s~s |  8,700,718    .0312389    .1739628          0          1
calendar_m~h |  8,792,511    6.512318    3.451861          1         12
         msa |  6,725,330    437.6946    246.4384          1        862
       trend |  8,792,511    143.9015    82.85817          1        287
dpct_actua~w |  8,700,718    .0025974    .0175524          0   .6504854
-------------+---------------------------------------------------------
months_since |  8,792,511    37.80943    35.76716          0        145
months_until |  8,792,511    37.80943    35.76716          0        145
dpct_actua~s |  8,700,718    .0025906    .0175507  -.2821782   .6666667
months_sin~s |  8,792,511    37.81098    35.76615          0        145
months_unt~s |  8,792,511    37.81098    35.76615          0        145
-------------+---------------------------------------------------------
sal_mw_event |  8,792,511    .0269045    .1618043          0          1
 mw_event025 |  8,792,511    .0347101    .1830446          0          1
 mw_event075 |  8,792,511     .016299    .1266228          0          1




(note: file ../temp/zipcode_yearmonth_panel.dta not found)
file ../temp/zipcode_yearmonth_panel.dta saved

. 
end of do-file


Execute:  StataMP-64 /e do "./create_final_panels.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./create_final_panels.do 

. set more off

. clear all

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/mental_coupons/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/mental_coupons/ado"

. 
. program main
  1.         foreach var in medrentprice_sfcc medrentprice_mfr5plus medrentpric
> e_2br ///
>             medrentpricepsqft_sfcc medrentpricepsqft_mfr5plus medrentpricepsq
> ft_2br {
  2.                 
.             create_baseline_panel, var(`var') balance_date(01jan2013) ///
>                     start_date(01jan2010) end_date(12dec2019)
  3.         }
  4.         use "../temp/baseline_medrentprice_sfcc.dta", clear
  5.         foreach var in medrentprice_mfr5plus medrentprice_2br ///
>             medrentpricepsqft_sfcc medrentpricepsqft_mfr5plus medrentpricepsq
> ft_2br {
  6.                 
.                 merge 1:1 zipcode year_month using "../temp/baseline_`var'.dt
> a", ///
>                     nogen keep(1 3)
  7.                 }
  8.         save_data "../../../drive/derived_large/output/baseline_rent_panel
> .dta", key(zipcode year_month) replace
  9. 
.         foreach var in medlistingprice_sfcc medlistingprice_low_tier ///
>             medlistingprice_top_tier medlistingpricepsqft_sfcc ///
>                 medlistingpricepsqft_low_tier medlistingpricepsqft_top_tier {
 10.                 
.             create_baseline_panel, var(`var') balance_date(01jan2013) ///
>                     start_date(01jan2010) end_date(12dec2019)
 11.         }
 12.         use "../temp/baseline_medlistingpricepsqft_sfcc.dta", clear
 13.         foreach var in medlistingprice_sfcc medlistingprice_low_tier ///
>             medlistingprice_top_tier ///
>                 medlistingpricepsqft_low_tier medlistingpricepsqft_top_tier {
 14.                 
.                 merge 1:1 zipcode year_month using "../temp/baseline_`var'.dt
> a", ///
>                     nogen keep(1 3)
 15.                 }
 16.         save_data "../../../drive/derived_large/output/baseline_listing_pa
> nel.dta", key(zipcode year_month) replace
 17. 
.         use "../temp/zipcode_yearmonth_panel.dta", clear
 18.         save_data "../../../drive/derived_large/output/zipcode_yearmonth_p
> anel_all.dta", key(zipcode year_month) replace
 19. end

. 
. program create_baseline_panel
  1.     syntax, var(str) balance_date(str) start_date(str) end_date(str)
  2.         
.     use zipcode place_code placetype statefips msa countyfips county ///
>             year_month calendar_month `var' ///
>             actual_mw dactual_mw mw_event ///
>                 local_abovestate_mw county_abovestate_mw local_mw ///
>                 county_mw state_mw fed_mw ///
>                 sal_mw_event mw_event025 mw_event075 ///
>                 using "../temp/zipcode_yearmonth_panel.dta", clear
  3.                 
.         keep if (year_month >= `=mofd(td(`start_date'))' & year_month <= `=mo
> fd(td(`end_date'))')
  4. 
.         preserve
  5.         keep if year_month == `=mofd(td(`balance_date'))'
  6.         keep if !missing(`var')
  7.         keep zipcode
  8.         save_data "../temp/`var'_nonmiss_zipcodes.dta", replace ///
>             key(zipcode) log(none)
  9.         restore
 10.         
.         merge m:1 zipcode using "../temp/`var'_nonmiss_zipcodes.dta", ///
>             keep(3) nogen
 11.                 
.         xtset zipcode year_month
 12.         assert r(balanced) == "strongly balanced"
 13.         
.         save_data "../temp/baseline_`var'.dta", key(zipcode year_month) ///
>             replace log(none)
 14. end 

. 
. main
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(29,663 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentprice_sfcc_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  1024:1(103289):3121203272:816638227

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      1,024    49322.44    29170.24       2113      98513




(note: file ../temp/medrentprice_sfcc_nonmiss_zipcodes.dta not found)
file ../temp/medrentprice_sfcc_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           122,880  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable placetype was str12 now str9
  variable county was str28 now str22
  (1,105,920 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentprice_sfcc.dta
Key: zipcode year_month
===============================================================================
> ===================
  122880:22(69549):3615010534:201257202

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    122,880    49322.44    29156.11       2113      98513
  year_month |    122,880       659.5    34.63995        600        719
  place_code |    101,280    40993.51    22595.77        410      87240
   placetype |          0
  countyfips |    122,520     22590.6    15821.37       1031      53067
-------------+---------------------------------------------------------
      county |          0
   statefips |    122,880        22.5    15.76432          1         53
medrentpri~c |    105,676    1624.073    687.6454        595       6500
      fed_mw |    122,880        7.25           0       7.25       7.25
    state_mw |    122,880    8.047639    1.075387       7.25         14
-------------+---------------------------------------------------------
   county_mw |      6,000    9.054825    1.570738       7.25      14.25
county_abo~w |      6,000    .3111667    .4630094          0          1
    local_mw |      5,880    9.366736    1.693663       7.25         16
local_abov~w |      5,880    .3370748    .4727509          0          1
   actual_mw |    122,880    8.096899    1.170335       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    122,880     .015557    .1122101          0       2.21
    mw_event |    122,880    .0360433    .1863987          0          1
calendar_m~h |    122,880         6.5    3.452067          1         12
         msa |    122,880    446.5908    241.7032         12        860
sal_mw_event |    122,880    .0136556     .116057          0          1
-------------+---------------------------------------------------------
 mw_event025 |    122,880    .0184896     .134714          0          1
 mw_event075 |    122,880     .007959    .0888578          0          1




(note: file ../temp/baseline_medrentprice_sfcc.dta not found)
file ../temp/baseline_medrentprice_sfcc.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(29,959 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentprice_mfr5plus_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  728:1(103289):119031816:2122340747

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |        728    42728.75    33368.65       1604      98661




(note: file ../temp/medrentprice_mfr5plus_nonmiss_zipcodes.dta not found)
file ../temp/medrentprice_mfr5plus_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            87,360  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable placetype was str12 now str9
  variable county was str28 now str22
  (786,240 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentprice_mfr5plus.dta
Key: zipcode year_month
===============================================================================
> ===================
  87360:22(29955):767801547:2329803881

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |     87,360    42728.75    33345.92       1604      98661
  year_month |     87,360       659.5    34.64001        600        719
  place_code |     80,280    40953.32    21848.88        410      84000
   placetype |          0
  countyfips |     87,120    24412.65    15165.21       1073      53061
-------------+---------------------------------------------------------
      county |          0
   statefips |     87,360    24.31456    15.11571          1         53
medrentpri~s |     72,844    1678.867    687.6748        375       6500
      fed_mw |     87,360        7.25           0       7.25       7.25
    state_mw |     87,360    8.409552    1.282087       7.25         14
-------------+---------------------------------------------------------
   county_mw |     11,640    9.134304    1.687202       7.25      14.25
county_abo~w |     11,640    .3012027    .4588003          0          1
    local_mw |     13,080    9.541262    1.907415       7.25         16
local_abov~w |     13,080    .3281346     .469552          0          1
   actual_mw |     87,360    8.534894     1.48314       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |     87,360    .0251943     .146512          0       2.21
    mw_event |     87,360    .0434982    .2039768          0          1
calendar_m~h |     87,360         6.5    3.452072          1         12
         msa |     87,360    452.9574    230.2834          8        853
sal_mw_event |     87,360    .0250343    .1562303          0          1
-------------+---------------------------------------------------------
 mw_event025 |     87,360    .0305746    .1721632          0          1
 mw_event075 |     87,360    .0155563    .1237517          0          1




(note: file ../temp/baseline_medrentprice_mfr5plus.dta not found)
file ../temp/baseline_medrentprice_mfr5plus.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(30,306 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentprice_2br_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  381:1(103289):3607919483:2652937859

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |        381     39048.8    31461.26       1604      98052




(note: file ../temp/medrentprice_2br_nonmiss_zipcodes.dta not found)
file ../temp/medrentprice_2br_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            45,720  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable placetype was str12 now str9
  variable county was str28 now str22
  (411,480 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentprice_2br.dta
Key: zipcode year_month
===============================================================================
> ===================
  45720:22(81016):94645237:4117194963

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |     45,720     39048.8    31420.29       1604      98052
  year_month |     45,720       659.5    34.64019        600        719
  place_code |     42,120    39815.67    21727.28        947      83910
   placetype |          0
  countyfips |     45,480    25945.31    14982.39       4013      53061
-------------+---------------------------------------------------------
      county |          0
   statefips |     45,720    25.81627    14.92088          4         53
medrentpri~r |     38,309    1952.194    942.1074        495     7647.5
      fed_mw |     45,720        7.25           0       7.25       7.25
    state_mw |     45,720    8.314713    1.241212       7.25         14
-------------+---------------------------------------------------------
   county_mw |      5,040    9.087302    1.584265       7.25      14.25
county_abo~w |      5,040     .290873    .4542101          0          1
    local_mw |      6,360    9.443808    1.762226       7.25      15.59
local_abov~w |      6,360    .3378931    .4730291          0          1
   actual_mw |     45,720    8.432655     1.40972       7.25      15.59
-------------+---------------------------------------------------------
  dactual_mw |     45,720    .0232353    .1374907          0       2.21
    mw_event |     45,720    .0420604    .2007291          0          1
calendar_m~h |     45,720         6.5     3.45209          1         12
         msa |     45,720    446.4672    225.5587         42        853
sal_mw_event |     45,720    .0231846    .1504911          0          1
-------------+---------------------------------------------------------
 mw_event025 |     45,720    .0284121    .1661488          0          1
 mw_event075 |     45,720    .0143045    .1187441          0          1




(note: file ../temp/baseline_medrentprice_2br.dta not found)
file ../temp/baseline_medrentprice_2br.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(29,536 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentpricepsqft_sfcc_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  1151:1(103289):340205471:1753589252

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      1,151    52294.28     28806.9       2109      98513




(note: file ../temp/medrentpricepsqft_sfcc_nonmiss_zipcodes.dta not found)
file ../temp/medrentpricepsqft_sfcc_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           138,120  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable placetype was str12 now str9
  variable county was str28 now str22
  (1,243,080 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentpricepsqft_sfcc.dta
Key: zipcode year_month
===============================================================================
> ===================
  138120:22(77221):2933778971:708288881

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    138,120    52294.28    28794.48       2109      98513
  year_month |    138,120       659.5    34.63994        600        719
  place_code |    111,720     41092.3     23066.2        394      87240
   placetype |          0
  countyfips |    137,640    22205.59    16409.38       1031      53067
-------------+---------------------------------------------------------
      county |          0
   statefips |    138,120    22.13553    16.35751          1         53
medrentpri~c |    119,126    1.157897    .6317322   .4180214   5.586398
      fed_mw |    138,120        7.25           0       7.25       7.25
    state_mw |    138,120    8.016554    1.079199       7.25         14
-------------+---------------------------------------------------------
   county_mw |      6,000    9.362175    1.929054       7.25      14.25
county_abo~w |      6,000    .3501667    .4770617          0          1
    local_mw |      7,080    9.597949    1.958375       7.25         16
local_abov~w |      7,080    .3504237    .4771363          0          1
   actual_mw |    138,120    8.058947    1.185562       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    138,120    .0141626    .1077433          0       2.21
    mw_event |    138,120    .0347813    .1832262          0          1
calendar_m~h |    138,120         6.5    3.452065          1         12
         msa |    138,120    449.8071    240.7646         12        860
sal_mw_event |    138,120    .0115914    .1070378          0          1
-------------+---------------------------------------------------------
 mw_event025 |    138,120    .0160151    .1255336          0          1
 mw_event075 |    138,120    .0073342    .0853256          0          1




(note: file ../temp/baseline_medrentpricepsqft_sfcc.dta not found)
file ../temp/baseline_medrentpricepsqft_sfcc.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(30,169 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentpricepsqft_mfr5plus_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  518:1(103289):3260540518:1823476012

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |        518    54489.36    33011.27       1702      98661




(note: file ../temp/medrentpricepsqft_mfr5plus_nonmiss_zipcodes.dta not found)
file ../temp/medrentpricepsqft_mfr5plus_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            62,160  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable placetype was str12 now str9
  variable county was str28 now str22
  (559,440 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentpricepsqft_mfr5plus.dta
Key: zipcode year_month
===============================================================================
> ===================
  62160:22(16476):1182185999:407154509

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |     62,160    54489.36    32979.65       1702      98661
  year_month |     62,160       659.5    34.64009        600        719
  place_code |     57,240     40797.9    22607.11        394      84410
   placetype |          0
  countyfips |     62,040    21231.36    16598.79       4013      53061
-------------+---------------------------------------------------------
      county |          0
   statefips |     62,160    21.12548    16.54006          4         53
medrentpri~s |     51,122     1.83214    .8539281   .5106889   6.213753
      fed_mw |     62,160        7.25           0       7.25       7.25
    state_mw |     62,160    8.385421    1.288011       7.25         14
-------------+---------------------------------------------------------
   county_mw |      7,440    9.444987    1.943094       7.25      14.25
county_abo~w |      7,440    .3134409    .4639231          0          1
    local_mw |     12,120    9.796031     2.08859       7.25         16
local_abov~w |     12,120    .3712046     .483147          0          1
   actual_mw |     62,160    8.530908    1.573574       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |     62,160    .0225624    .1433292          0       3.25
    mw_event |     62,160    .0428089    .2024276          0          1
calendar_m~h |     62,160         6.5     3.45208          1         12
         msa |     62,160    466.7297    231.6698         42        844
sal_mw_event |     62,160    .0197072    .1389933          0          1
-------------+---------------------------------------------------------
 mw_event025 |     62,160    .0244048    .1543034          0          1
 mw_event075 |     62,160    .0146075    .1199763          0          1




(note: file ../temp/baseline_medrentpricepsqft_mfr5plus.dta not found)
file ../temp/baseline_medrentpricepsqft_mfr5plus.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(30,429 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentpricepsqft_2br_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  258:1(103289):1514296725:2477197377

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |        258    49265.71    31420.04       1970      98121




(note: file ../temp/medrentpricepsqft_2br_nonmiss_zipcodes.dta not found)
file ../temp/medrentpricepsqft_2br_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            30,960  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable placetype was str12 now str9
  variable county was str28 now str21
  (309,600 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentpricepsqft_2br.dta
Key: zipcode year_month
===============================================================================
> ===================
  30960:22(94389):3728245940:1530397682

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |     30,960    49265.71    31359.59       1970      98121
  year_month |     30,960       659.5    34.64037        600        719
  place_code |     28,680    38553.93    22200.02        947      84410
   placetype |          0
  countyfips |     30,960    21568.28    15977.64       4013      53061
-------------+---------------------------------------------------------
      county |          0
   statefips |     30,960     21.4845    15.91359          4         53
medrentpri~r |     25,781    1.801278    .8253491   .5357143          6
      fed_mw |     30,960        7.25           0       7.25       7.25
    state_mw |     30,960    8.289899    1.227941       7.25         14
-------------+---------------------------------------------------------
   county_mw |      3,120    9.326587    1.820507       7.25      14.25
county_abo~w |      3,120    .3067308    .4612106          0          1
    local_mw |      5,520    9.667663    2.001584       7.25         16
local_abov~w |      5,520    .3461957    .4757996          0          1
   actual_mw |     30,960    8.417889    1.469122       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |     30,960    .0198427    .1306412          0       2.21
    mw_event |     30,960    .0425065    .2017448          0          1
calendar_m~h |     30,960         6.5    3.452108          1         12
         msa |     30,960    457.0349    220.6036         42        824
sal_mw_event |     30,960    .0164729    .1272872          0          1
-------------+---------------------------------------------------------
 mw_event025 |     30,960    .0208979     .143045          0          1
 mw_event075 |     30,960    .0129845    .1132092          0          1




(note: file ../temp/baseline_medrentpricepsqft_2br.dta not found)
file ../temp/baseline_medrentpricepsqft_2br.dta saved
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                        83,160
        from master                    83,160  
        from using                          0  

    matched                            39,720  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                        95,760
        from master                    95,760  
        from using                          0  

    matched                            27,120  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                        18,120
        from master                    18,120  
        from using                          0  

    matched                           104,760  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                        94,560
        from master                    94,560  
        from using                          0  

    matched                            28,320  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                       103,440
        from master                   103,440  
        from using                          0  

    matched                            19,440  
    -----------------------------------------
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../../../drive/derived_large/output/baseline_rent_panel.dta
Key: zipcode year_month
===============================================================================
> ===================
  122880:27(47398):1283149114:1033577727

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    122,880    49322.44    29156.11       2113      98513
  year_month |    122,880       659.5    34.63995        600        719
  place_code |    101,280    40993.51    22595.77        410      87240
   placetype |          0
  countyfips |    122,520     22590.6    15821.37       1031      53067
-------------+---------------------------------------------------------
      county |          0
   statefips |    122,880        22.5    15.76432          1         53
medre~e_sfcc |    105,676    1624.073    687.6454        595       6500
      fed_mw |    122,880        7.25           0       7.25       7.25
    state_mw |    122,880    8.047639    1.075387       7.25         14
-------------+---------------------------------------------------------
   county_mw |      6,000    9.054825    1.570738       7.25      14.25
county_abo~w |      6,000    .3111667    .4630094          0          1
    local_mw |      5,880    9.366736    1.693663       7.25         16
local_abov~w |      5,880    .3370748    .4727509          0          1
   actual_mw |    122,880    8.096899    1.170335       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    122,880     .015557    .1122101          0       2.21
    mw_event |    122,880    .0360433    .1863987          0          1
calendar_m~h |    122,880         6.5    3.452067          1         12
         msa |    122,880    446.5908    241.7032         12        860
sal_mw_event |    122,880    .0136556     .116057          0          1
-------------+---------------------------------------------------------
 mw_event025 |    122,880    .0184896     .134714          0          1
 mw_event075 |    122,880     .007959    .0888578          0          1
m~e_mfr5plus |     34,000    1758.531     763.244        450     5297.5
medren~e_2br |     23,205    2015.554    1034.631        495       6800
medre~t_sfcc |     90,698    1.100866    .5975347   .4180214   5.586398
-------------+---------------------------------------------------------
m~t_mfr5plus |     23,822    1.727384    .8756273   .5106889   6.213753
medren~t_2br |     16,418    1.772505    .8480586   .5357143          6




file ../../../drive/derived_large/output/baseline_rent_panel.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(24,621 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingprice_sfcc_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  6066:1(103289):2177026441:2760062141

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      6,066    47620.47    29718.13        623      99835




(note: file ../temp/medlistingprice_sfcc_nonmiss_zipcodes.dta not found)
file ../temp/medlistingprice_sfcc_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           727,920  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingprice_sfcc.dta
Key: zipcode year_month
===============================================================================
> ===================
  727920:22(81490):1456492880:3118903043

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    727,920    47620.47     29715.7        623      99835
  year_month |    727,920       659.5    34.63984        600        719
  place_code |    481,320    42315.62    23691.45        100      88940
   placetype |          0
  countyfips |    725,880    28482.48    15907.06       1001      56043
-------------+---------------------------------------------------------
      county |          0
   statefips |    727,920    28.40356    15.88526          1         56
medlisting~c |    716,416    279998.8    220714.4      24050    4650000
      fed_mw |    727,920        7.25           0       7.25       7.25
    state_mw |    727,920    8.003062    1.082475       7.25         14
-------------+---------------------------------------------------------
   county_mw |     47,040    9.116046    1.761234       7.25      14.25
county_abo~w |     47,040    .3163053    .4650385          0          1
    local_mw |     22,680    9.541701    1.918143       7.25         16
local_abov~w |     22,680     .368254    .4823414          0          1
   actual_mw |    727,920    8.042315    1.173941       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    727,917    .0142922    .1066025          0       3.25
    mw_event |    727,917    .0302658    .1713179          0          1
calendar_m~h |    727,920         6.5    3.452055          1         12
         msa |    698,160    438.2996     240.523          1        861
sal_mw_event |    727,920    .0131031    .1137164          0          1
-------------+---------------------------------------------------------
 mw_event025 |    727,920    .0181174     .133376          0          1
 mw_event075 |    727,920    .0080888    .0895733          0          1




(note: file ../temp/baseline_medlistingprice_sfcc.dta not found)
file ../temp/baseline_medlistingprice_sfcc.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(29,300 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingprice_low_tier_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  1387:1(103289):1514765629:4216960831

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      1,387    44240.62    31299.17       1020      99654




(note: file ../temp/medlistingprice_low_tier_nonmiss_zipcodes.dta not found)
file ../temp/medlistingprice_low_tier_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           166,440  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable county was str28 now str25
  (499,320 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingprice_low_tier.dta
Key: zipcode year_month
===============================================================================
> ===================
  166440:22(38458):2315897249:2010204243

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    166,440    44240.62    31287.98       1020      99654
  year_month |    166,440       659.5    34.63992        600        719
  place_code |    123,120    43308.49    23318.38        100      88940
   placetype |          0
  countyfips |    166,320     28579.4     15536.6       1003      56021
-------------+---------------------------------------------------------
      county |          0
   statefips |    166,440     28.4845    15.50274          1         56
medlisting~r |    163,385    139079.1    79171.48      23000     799000
      fed_mw |    166,440        7.25           0       7.25       7.25
    state_mw |    166,440    8.116358    1.105291       7.25         14
-------------+---------------------------------------------------------
   county_mw |     14,640    9.046662     1.67745       7.25      14.25
county_abo~w |     14,640    .3175546    .4655411          0          1
    local_mw |      4,920    9.391472    1.648332       7.25         15
local_abov~w |      4,920     .423374    .4941438          0          1
   actual_mw |    166,440    8.165955    1.194272       7.25         15
-------------+---------------------------------------------------------
  dactual_mw |    166,440    .0163405    .1148188          0       3.16
    mw_event |    166,440    .0350156    .1838198          0          1
calendar_m~h |    166,440         6.5    3.452063          1         12
         msa |    166,440    447.2264    241.5423          1        857
sal_mw_event |    166,440    .0145458    .1197259          0          1
-------------+---------------------------------------------------------
 mw_event025 |    166,440    .0202475    .1408463          0          1
 mw_event075 |    166,440    .0090483    .0946915          0          1




(note: file ../temp/baseline_medlistingprice_low_tier.dta not found)
file ../temp/baseline_medlistingprice_low_tier.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(27,243 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingprice_top_tier_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  3444:1(103289):183315949:3859652566

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      3,444     49067.1    27821.06       1002      99654




(note: file ../temp/medlistingprice_top_tier_nonmiss_zipcodes.dta not found)
file ../temp/medlistingprice_top_tier_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           413,280  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable county was str28 now str25
  (1,239,840 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingprice_top_tier.dta
Key: zipcode year_month
===============================================================================
> ===================
  413280:22(69208):2717481252:2976693867

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    413,280     49067.1    27817.05       1002      99654
  year_month |    413,280       659.5    34.63986        600        719
  place_code |    260,640    41931.85    23659.93        160      88200
   placetype |          0
  countyfips |    412,440    27696.03    15850.66       1001      56033
-------------+---------------------------------------------------------
      county |          0
   statefips |    413,280    27.60918    15.83035          1         56
medlisting~r |    408,714    433934.4    293762.5     112450    6895000
      fed_mw |    413,280        7.25           0       7.25       7.25
    state_mw |    413,280    7.932215    1.012739       7.25         14
-------------+---------------------------------------------------------
   county_mw |     19,920    8.898858     1.56357       7.25      14.25
county_abo~w |     19,920    .3223896    .4674029          0          1
    local_mw |     10,680    9.330199    1.828731       7.25         16
local_abov~w |     10,680    .3858614    .4868209          0          1
   actual_mw |    413,280    7.964528    1.080179       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    413,280    .0124517    .0967994          0       3.16
    mw_event |    413,280    .0300934    .1708445          0          1
calendar_m~h |    413,280         6.5    3.452057          1         12
         msa |    413,280    420.3894    242.5778          1        861
sal_mw_event |    413,280     .010857    .1036301          0          1
-------------+---------------------------------------------------------
 mw_event025 |    413,280    .0159021    .1250968          0          1
 mw_event075 |    413,280    .0063686    .0795489          0          1




(note: file ../temp/baseline_medlistingprice_top_tier.dta not found)
file ../temp/baseline_medlistingprice_top_tier.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(22,543 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingpricepsqft_sfcc_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  8144:1(103289):4039311167:2767440481

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      8,144     48161.4    29689.91        926      99801




(note: file ../temp/medlistingpricepsqft_sfcc_nonmiss_zipcodes.dta not found)
file ../temp/medlistingpricepsqft_sfcc_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           977,280  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingpricepsqft_sfcc.dta
Key: zipcode year_month
===============================================================================
> ===================
  977280:22(61793):1115538578:3613213349

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    977,280     48161.4     29688.1        926      99801
  year_month |    977,280       659.5    34.63983        600        719
  place_code |    631,560     42179.3    23795.17        100      88940
   placetype |          0
  countyfips |    974,400    27986.55    15830.12       1001      56043
-------------+---------------------------------------------------------
      county |          0
   statefips |    977,280    27.90447    15.80369          1         56
medlisting~c |    968,188    161.5626    122.3617   15.75758   2695.917
      fed_mw |    977,280        7.25           0       7.25       7.25
    state_mw |    977,280    8.004771    1.092954       7.25         14
-------------+---------------------------------------------------------
   county_mw |     55,320    9.176469    1.802995       7.25      14.25
county_abo~w |     55,320    .3196132    .4663309          0          1
    local_mw |     31,920    9.612043    2.020892       7.25      16.09
local_abov~w |     31,920     .364881    .4814043          0          1
   actual_mw |    977,280    8.042774    1.186547       7.25      16.09
-------------+---------------------------------------------------------
  dactual_mw |    977,276     .014391    .1071856          0       5.81
    mw_event |    977,276    .0307221    .1725639          0          1
calendar_m~h |    977,280         6.5    3.452054          1         12
         msa |    934,920    434.4662    242.6986          1        861
sal_mw_event |    977,280    .0131406    .1138767          0          1
-------------+---------------------------------------------------------
 mw_event025 |    977,280    .0178598    .1324418          0          1
 mw_event075 |    977,280    .0083098    .0907786          0          1




(note: file ../temp/baseline_medlistingpricepsqft_sfcc.dta not found)
file ../temp/baseline_medlistingpricepsqft_sfcc.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(28,875 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingpricepsqft_low_tier_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  1812:1(103289):3709259406:1268306376

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      1,812    44085.59    29902.42       1013      99801




(note: file ../temp/medlistingpricepsqft_low_tier_nonmiss_zipcodes.dta not foun
> d)
file ../temp/medlistingpricepsqft_low_tier_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           217,440  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable county was str28 now str25
  (652,320 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingpricepsqft_low_tier.dta
Key: zipcode year_month
===============================================================================
> ===================
  217440:22(27886):90047415:3098860162

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    217,440    44085.59    29894.24       1013      99801
  year_month |    217,440       659.5    34.63989        600        719
  place_code |    155,640    41765.88    23778.13        125      88940
   placetype |          0
  countyfips |    217,080    28623.15    15487.73       1031      56033
-------------+---------------------------------------------------------
      county |          0
   statefips |    217,440    28.52373     15.4563          1         56
medlisting~r |    213,707     108.434     63.2778   16.39164   1672.388
      fed_mw |    217,440        7.25           0       7.25       7.25
    state_mw |    217,440    8.032904    1.059483       7.25         14
-------------+---------------------------------------------------------
   county_mw |      8,880    8.765227    1.378769       7.25         13
county_abo~w |      8,880    .3462838    .4758117          0          1
    local_mw |      5,280    9.357246    1.643467       7.25         16
local_abov~w |      5,280    .4715909    .4992395          0          1
   actual_mw |    217,440    8.065677      1.1093       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    217,440    .0142824    .1047207          0       3.16
    mw_event |    217,440    .0342991    .1819968          0          1
calendar_m~h |    217,440         6.5     3.45206          1         12
         msa |    217,320    443.3396    249.2497          2        861
sal_mw_event |    217,440    .0121091    .1093733          0          1
-------------+---------------------------------------------------------
 mw_event025 |    217,440    .0175267    .1312234          0          1
 mw_event075 |    217,440    .0075607    .0866232          0          1




(note: file ../temp/baseline_medlistingpricepsqft_low_tier.dta not found)
file ../temp/baseline_medlistingpricepsqft_low_tier.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(27,024 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingpricepsqft_top_tier_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  3663:1(103289):1246718249:2653338557

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      3,663    47274.29    27051.88       1002      99705




(note: file ../temp/medlistingpricepsqft_top_tier_nonmiss_zipcodes.dta not foun
> d)
file ../temp/medlistingpricepsqft_top_tier_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           439,560  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingpricepsqft_top_tier.dta
Key: zipcode year_month
===============================================================================
> ===================
  439560:22(18534):4156598742:1331125125

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    439,560    47274.29    27048.22       1002      99705
  year_month |    439,560       659.5    34.63985        600        719
  place_code |    275,400    41832.26    23689.55        200      87810
   placetype |          0
  countyfips |    438,000    27925.14    15763.44       1001      56039
-------------+---------------------------------------------------------
      county |          0
   statefips |    439,560    27.81791    15.72956          1         56
medlisting~r |    435,257    190.3306     146.483   53.23853   2729.885
      fed_mw |    439,560        7.25           0       7.25       7.25
    state_mw |    439,560    7.877556    .9757422       7.25         14
-------------+---------------------------------------------------------
   county_mw |     15,480     8.76564    1.437305       7.25         13
county_abo~w |     15,480    .3407623    .4739809          0          1
    local_mw |     10,200    9.408809     2.00724       7.25         16
local_abov~w |     10,200    .4357843    .4958835          0          1
   actual_mw |    439,560    7.906708    1.043379       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    439,560    .0116412    .0922351          0       3.16
    mw_event |    439,560     .029848    .1701681          0          1
calendar_m~h |    439,560         6.5    3.452056          1         12
         msa |    439,560    421.3145     245.628          1        861
sal_mw_event |    439,560    .0097711     .098365          0          1
-------------+---------------------------------------------------------
 mw_event025 |    439,560    .0149559    .1213764          0          1
 mw_event075 |    439,560    .0056943    .0752457          0          1




(note: file ../temp/baseline_medlistingpricepsqft_top_tier.dta not found)
file ../temp/baseline_medlistingpricepsqft_top_tier.dta saved
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                       328,440
        from master                   328,440  
        from using                          0  

    matched                           648,840  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                       831,720
        from master                   831,720  
        from using                          0  

    matched                           145,560  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                       599,760
        from master                   599,760  
        from using                          0  

    matched                           377,520  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                       769,440
        from master                   769,440  
        from using                          0  

    matched                           207,840  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                       554,760
        from master                   554,760  
        from using                          0  

    matched                           422,520  
    -----------------------------------------
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../../../drive/derived_large/output/baseline_listing_panel.dta
Key: zipcode year_month
===============================================================================
> ===================
  977280:27(76537):2167043420:1400606517

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    977,280     48161.4     29688.1        926      99801
  year_month |    977,280       659.5    34.63983        600        719
  place_code |    631,560     42179.3    23795.17        100      88940
   placetype |          0
  countyfips |    974,400    27986.55    15830.12       1001      56043
-------------+---------------------------------------------------------
      county |          0
   statefips |    977,280    27.90447    15.80369          1         56
medli~t_sfcc |    968,188    161.5626    122.3617   15.75758   2695.917
      fed_mw |    977,280        7.25           0       7.25       7.25
    state_mw |    977,280    8.004771    1.092954       7.25         14
-------------+---------------------------------------------------------
   county_mw |     55,320    9.176469    1.802995       7.25      14.25
county_abo~w |     55,320    .3196132    .4663309          0          1
    local_mw |     31,920    9.612043    2.020892       7.25      16.09
local_abov~w |     31,920     .364881    .4814043          0          1
   actual_mw |    977,280    8.042774    1.186547       7.25      16.09
-------------+---------------------------------------------------------
  dactual_mw |    977,276     .014391    .1071856          0       5.81
    mw_event |    977,276    .0307221    .1725639          0          1
calendar_m~h |    977,280         6.5    3.452054          1         12
         msa |    934,920    434.4662    242.6986          1        861
sal_mw_event |    977,280    .0131406    .1138767          0          1
-------------+---------------------------------------------------------
 mw_event025 |    977,280    .0178598    .1324418          0          1
 mw_event075 |    977,280    .0083098    .0907786          0          1
medli~e_sfcc |    640,045    283567.7    223055.9      25000    4650000
m~e_low_tier |    143,167    140198.7    79445.99      23000     799000
m~e_top_tier |    373,706    431088.5    282715.2     119900    6895000
-------------+---------------------------------------------------------
m~t_low_tier |    204,463     109.226    58.97089   16.74002   678.1115
m~t_top_tier |    418,653    185.7033     135.426   53.23853   2729.885




file ../../../drive/derived_large/output/baseline_listing_panel.dta saved
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../../../drive/derived_large/output/zipcode_yearmonth_panel_all.dta
Key: zipcode year_month
===============================================================================
> ===================
  8792511:83(83943):1161706662:1112742972

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |  8,792,511    48754.23    27453.74        501      99929
  year_month |  8,792,511    578.0919    82.85671        435        721
        zcta |  4,070,272    55407.32    27551.92       1001      99929
  place_code |  4,070,272    41803.02    23819.56        100      89300
   placename |          0
-------------+---------------------------------------------------------
   placetype |          0
        city |          0
  countyfips |  8,669,215    29866.56    15229.81       1001      56045
      county |          0
   statefips |  8,731,405    29.79272    15.22646          1         56
-------------+---------------------------------------------------------
    stateabb |          0
medli~e_sfcc |    919,945    296431.4    256952.6      12000    6995000
m~e_low_tier |    237,537    151736.7    94283.89      11750     939935
m~e_top_tier |    481,521    463979.4    350800.1     112450    7295000
medli~t_sfcc |  1,084,523    165.6084    135.7259   11.57113   2802.347
-------------+---------------------------------------------------------
m~t_low_tier |    296,286    121.5329    83.33472   11.50727   1672.388
m~t_top_tier |    516,368    206.6456    177.9822   31.52173   2799.423
medren~e_1br |     69,440    1607.937     670.499        350       5195
medren~e_2br |    106,799    1766.741    879.0102        475      19500
medren~e_3br |     76,539    1928.871     1459.31        455      40000
-------------+---------------------------------------------------------
medren~e_4br |     10,310    3116.339    5197.041        435      50000
medren~e_5br |        868     5715.09    7571.906       1250      50000
medre~e_sfcc |    192,932    1768.679    1527.426        500      50000
medrent~e_cc |     34,676     2105.65    938.7924        700       8975
med~e_mfdxtx |     26,880    1979.011    832.9655        375       6646
-------------+---------------------------------------------------------
m~e_mfr5plus |    175,096     1554.04    697.8883        375      20000
medrent~e_sf |    142,386    1778.371    1931.017        500      50000
med~e_studio |     28,999    1670.905    1365.808        300      50000
medren~t_1br |     55,424    2.191226    .9194792   .6388889   7.164352
medren~t_2br |     92,792    1.682865     .803698   .5015197   12.55461
-------------+---------------------------------------------------------
medren~t_3br |     67,139    1.233209    .8117302   .5060225       17.5
medren~t_4br |      8,370     1.49865    2.559936   .5492424   21.85141
medren~t_5br |        537    7.753782    7.031498   .3727683         22
medre~t_sfcc |    197,978    1.303812    1.033133   .1091193   23.96932
medrent~t_cc |     30,608    2.170225    1.168605   .5835432   12.92755
-------------+---------------------------------------------------------
med~t_mfdxtx |     11,949    2.451649    1.286775   .3627695   6.936797
m~t_mfr5plus |    146,858    1.736677     .849114   .3150482   12.55435
medrent~t_sf |    144,593       1.145    1.002039   .1039069   24.48466
med~t_studio |     23,491    1.954625    1.574804   .4288971   7.347833
    zhvi_2br |  5,565,556    146003.9    133146.3       7100    3893638
-------------+---------------------------------------------------------
   zhvi_sfcc |  6,699,435    183337.3    176086.7       8565    6648479
      zhvi_c |  2,325,780    199634.7      160856      13592    3848327
     zhvi_sf |  6,686,415    191190.8    212985.5       8565    8737684
  zri_sfccmf |  1,347,720    1356.072    875.9493        368      83894
      zri_mf |    140,035    1518.065    639.5489        420      18349
-------------+---------------------------------------------------------
      fed_mw |  8,731,405    6.133715    1.054042       4.25       7.25
    state_mw |  8,731,405    6.567077    1.465736       4.25         14
pop10_zip_~y |  8,669,215    10139.74    13964.11          0     113916
houses10_z~y |  8,669,215    4328.356    5661.727          1      47617
pct_zip_po~y |  8,669,215    96.09368    9.709425          0        100
-------------+---------------------------------------------------------
pct_zip_ho~y |  8,669,215    96.04085    9.580142         50        100
  placepop10 |  4,070,272    241329.9    998106.5         16    8175133
landarea_s~m |  4,070,272    126.6059    325.0486          0       7434
pop10_zip_~e |  4,070,272    12798.36    15072.28          0     113916
houses10_z~e |  4,070,272    5410.332     6085.59          1      47617
-------------+---------------------------------------------------------
pct_zip_po~e |  4,070,272    80.26835    18.30725          0        100
pct_zip_ho~e |  4,070,272    80.56913    17.65957         50        100
   county_mw |    154,096    8.233972    1.887734       5.15      14.25
county_mw_~s |    154,096    8.162659    1.731204       5.15      13.25
county_abo~w |    154,096    .1989539    .3992146          0          1
-------------+---------------------------------------------------------
county_abo~e |    154,096    .1668311    .3728262          0          1
    local_mw |     94,464    8.780504    2.126039       5.15      16.09
local_mw_s~s |     94,464    8.679119    1.940648       5.15      16.09
local_abov~w |     94,464    .2929582    .4551218          0          1
local_abov~s |     94,464    .2618987    .4396701          0          1
-------------+---------------------------------------------------------
   actual_mw |  8,731,405    6.575721    1.489869       4.25      16.09
actual_mw_~s |  8,731,405     6.57402    1.483117       4.25      16.09
  dactual_mw |  8,700,718    .0159194    .1055625          0       5.81
    mw_event |  8,700,718    .0312403    .1739665          0          1
dactual_mw~s |  8,700,718    .0158332    .1055986      -3.59          6
-------------+---------------------------------------------------------
mw_event_s~s |  8,700,718    .0312389    .1739628          0          1
calendar_m~h |  8,792,511    6.512318    3.451861          1         12
         msa |  6,725,330    437.6946    246.4384          1        862
       trend |  8,792,511    143.9015    82.85817          1        287
dpct_actua~w |  8,700,718    .0025974    .0175524          0   .6504854
-------------+---------------------------------------------------------
months_since |  8,792,511    37.80943    35.76716          0        145
months_until |  8,792,511    37.80943    35.76716          0        145
dpct_actua~s |  8,700,718    .0025906    .0175507  -.2821782   .6666667
months_sin~s |  8,792,511    37.81098    35.76615          0        145
months_unt~s |  8,792,511    37.81098    35.76615          0        145
-------------+---------------------------------------------------------
sal_mw_event |  8,792,511    .0269045    .1618043          0          1
 mw_event025 |  8,792,511    .0347101    .1830446          0          1
 mw_event075 |  8,792,511     .016299    .1266228          0          1




file ../../../drive/derived_large/output/zipcode_yearmonth_panel_all.dta saved

. 
end of do-file

 make.py ended: 2020-05-14 16:28:54
