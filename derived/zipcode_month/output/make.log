
 make.py started: 2020-05-14 20:46:34 C:\Users\diegog\Desktop\Diego\min_wage_rent\derived\zipcode_month\code 




Execute:  R CMD BATCH --no-save "./ReshapeMergeZillow_zip.R" ReshapeMergeZillow_zip.Rout

R version 3.6.3 (2020-02-29) -- "Holding the Windsock"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> remove(list = ls())
> source("../../../lib/R/load_packages.R")
> source("../../../lib/R/save_data.R")

Please cite as: 

 Hlavac, Marek (2018). stargazer: Well-Formatted Regression and Summary Statistics Tables.
 R package version 5.2.2. https://CRAN.R-project.org/package=stargazer 


Attaching package: 'dplyr'

The following objects are masked from 'package:stats':

    filter, lag

The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union


Attaching package: 'data.table'

The following objects are masked from 'package:dplyr':

    between, first, last

> 
> load_packages(c('tidyverse', 'data.table', 'tidycensus'))
-- Attaching packages --------------------------------------- tidyverse 1.3.0 --
v ggplot2 3.3.0     v purrr   0.3.3
v tibble  2.1.3     v stringr 1.4.0
v tidyr   1.0.2     v forcats 0.5.0
v readr   1.3.1     
-- Conflicts ------------------------------------------ tidyverse_conflicts() --
x data.table::between() masks dplyr::between()
x dplyr::filter()       masks stats::filter()
x data.table::first()   masks dplyr::first()
x dplyr::lag()          masks stats::lag()
x data.table::last()    masks dplyr::last()
x purrr::transpose()    masks data.table::transpose()
> 
> main <- function(){
+    datadir <- '../../../base/zillow_min_wage/output/'
+    tempdir <- "../temp/"
+    
+    filelist <- reshape_zillow_zip_level(infiles = datadir)
+    merge_zillow(l = filelist, outstub = paste0(tempdir,"zillow_clean.csv"),
+                 key = c('zipcode', 'date'))
+ }
> 
> reshape_zillow_zip_level <- function(infiles){
+    
+    filenames <- list.files(infiles)
+    filenames <- filenames[str_detect(filenames, "Zip_*")]
+    filenames <- filenames[!str_detect(filenames, "_Summary.csv")]
+    
+    value_names <- str_replace_all(filenames, "Zip_", "")
+    value_names <- target_varname(value_names)
+    value_names <- str_replace(value_names, ".csv", "")
+    
+    id_fullvars <- c("zipcode", "city", "county", "msa", "stateabb")
+    
+    zillow_data <- mapply(function(filename, valname){
+             data <- fread(paste0(infiles, filename), stringsAsFactors = F)
+             idvars <- colnames(data)
+             idvars <- idvars[!str_detect(idvars, "[0-9]")]
+             data <- data.table::melt(data,
+                                      id.vars = idvars,
+                                      variable.name = 'date',
+                                       value.name = valname)
+             missing_id_vars <- setdiff(id_fullvars, idvars)
+             data[, (missing_id_vars):= ""]   
+             return(data)},
+       filename = filenames,
+       valname = value_names,
+       SIMPLIFY = F)
+    
+    return(zillow_data)
+ }
> 
> merge_zillow <- function(l, outstub, key){
+ 
+    geovars <- c('zipcode', 'city', 'msa', 'county', 'stateabb')
+    geovar_df <- lapply(l, function(x){
+       state_name <- x[,..geovars]
+       state_name <- unique(state_name)
+    })
+    geovar_df <- rbindlist(geovar_df, use.names = T)
+    geovar_df <- unique(geovar_df)
+    geovar_df <- as.data.frame(geovar_df)
+    geovar_df[geovar_df==""] <- NA
+    geovar_df <- setDT(geovar_df)[, lapply(.SD, function(y) y[!is.na(y)]), by = c('zipcode', 'city', 'msa', 'county')]
+    
+    geovar_df <- geovar_df[, city := str_replace_all(city, "^Town of ", "")][
+       ,city := str_replace_all(city, " Township$", "")]
+    
+    geovar_df <- geovar_df[, lapply(.SD, function(y) y[!is.na(y)]), by = c('zipcode', 'city', 'msa', 'county')]
+    geovar_df <- unique(geovar_df)
+    
+    geovar_df <- geovar_df[,totNA := rowSums(is.na(geovar_df))]
+    
+    geovar_df <- geovar_df[, minNA := min(totNA), by = zipcode][
+       totNA == minNA,]
+    
+    setkey(geovar_df, 'zipcode')
+    geovar_df <- geovar_df[J(unique(zipcode)), mult = "first"]
+    
+    geovar_df[,c('totNA', 'minNA'):=NULL]
+    
+       
+    
+    exclude_geo <- setdiff(c(geovars, 'date'), key)
+ 
+    l <- lapply(l, function(y) y[, (exclude_geo):=NULL])
+    file_combined <-  Reduce(function(x,y,m = mvars){merge(x,y,all = T, by = key)}, l)
+    file_combined <- setDT(geovar_df)[file_combined, on = 'zipcode']
+ 
+    data.table::setorder(file_combined, zipcode, date)
+ 
+    file_combined[,date:=str_replace_all(date, "-", "_")]
+    
+    save_data(file_combined, file = outstub, key = key, nolog = TRUE)
+ }
> 
> target_varname <- function(x){
+    x <- str_replace_all(x, "AllHomes", "SFCC")
+    x <- str_replace_all(x, "SingleFamilyResidence", "SF")
+    x <- str_replace_all(x, "Condominium", "C")
+    x <- str_replace_all(x, "Condominum", "C")
+    x <- str_replace_all(x, "1Bedroom", "1BR")
+    x <- str_replace_all(x, "1bedroom", "1BR")
+    x <- str_replace_all(x, "2Bedroom", "2BR")
+    x <- str_replace_all(x, "2bedroom", "2BR")
+    x <- str_replace_all(x, "3Bedroom", "3BR")
+    x <- str_replace_all(x, "3bedroom", "3BR")
+    x <- str_replace_all(x, "4Bedroom", "4BR")
+    x <- str_replace_all(x, "4bedroom", "4BR")
+    x <- str_replace_all(x, "5BedroomOrMore", "5BR")
+    x <- str_replace_all(x, "CondoCoop", "CC")
+    x <- str_replace_all(x, "Sfr", "SF")
+    x <- str_replace_all(x, "DuplexTriplex", "MFdxtx")
+    x <- str_replace_all(x, "Mfr5PLus", "MF5")
+    x <- str_replace_all(x, "BottomTier", "low_tier")
+    x <- str_replace_all(x, "MiddleTier", "mid_tier")
+    x <- str_replace_all(x, "TopTier", "top_tier")
+    x <- str_replace_all(x, "MultiFamilyResidenceRental", "MF")
+    x <- str_replace_all(x, "SingleFamilyResidenceRental", "SF")
+    x <- str_replace_all(x, "SingleFamilyResidenceRental", "SF")
+    x <- str_replace_all(x, "PlusMultifamily", "MF")
+ 
+    x <- str_replace_all(x, "ListingsWithPriceReductions", "listings_pricedown")
+    x <- str_replace_all(x, "Zhvi", "zhvi")
+    x <- str_replace_all(x, "Zri", "zri")
+    
+       
+    x <- str_replace_all(x, "Listing", "listing")
+    x <- str_replace_all(x, "Median", "med")
+    x <- str_replace_all(x, "Price", "price")
+    x <- str_replace_all(x, "PerSqft", "psqft")
+    x <- str_replace_all(x, "PctOf", "pct")
+    x <- str_replace_all(x, "Reduction", "reduction")
+    x <- str_replace_all(x, "Rental", "rent")
+    x <- str_replace_all(x, "Homes", "homes")
+    x <- str_replace_all(x, "Homes", "homes")
+    return(x)
+ }
> 
> 
> main()
[1] "File '../temp/zillow_clean.csv' saved successfully."
There were 46 warnings (use warnings() to see them)
> 
> proc.time()
   user  system elapsed 
 149.21   45.32   94.87 


Execute:  R CMD BATCH --no-save "./addMinWage.R" addMinWage.Rout

R version 3.6.3 (2020-02-29) -- "Holding the Windsock"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> remove(list = ls())
> source("../../../lib/R/load_packages.R")
> source("../../../lib/R/save_data.R")

Please cite as: 

 Hlavac, Marek (2018). stargazer: Well-Formatted Regression and Summary Statistics Tables.
 R package version 5.2.2. https://CRAN.R-project.org/package=stargazer 


Attaching package: 'dplyr'

The following objects are masked from 'package:stats':

    filter, lag

The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union


Attaching package: 'data.table'

The following objects are masked from 'package:dplyr':

    between, first, last

> 
> load_packages(c('tidyverse', 'data.table', 'matrixStats'))
-- Attaching packages --------------------------------------- tidyverse 1.3.0 --
v ggplot2 3.3.0     v purrr   0.3.3
v tibble  2.1.3     v stringr 1.4.0
v tidyr   1.0.2     v forcats 0.5.0
v readr   1.3.1     
-- Conflicts ------------------------------------------ tidyverse_conflicts() --
x data.table::between() masks dplyr::between()
x dplyr::filter()       masks stats::filter()
x data.table::first()   masks dplyr::first()
x dplyr::lag()          masks stats::lag()
x data.table::last()    masks dplyr::last()
x purrr::transpose()    masks data.table::transpose()

Attaching package: 'matrixStats'

The following object is masked from 'package:dplyr':

    count

> 
> main <- function(){
+    datadir   <- '../../../base/zillow_min_wage/output/'
+    tempdir   <- "../temp/"
+    log_file  <- "../output/data_file_manifest.log"
+    
+    data <- load_data(infile_zillow = paste0(tempdir, 'zillow_clean.csv'), 
+                      infile_statemw = paste0(datadir, 'VZ_state_monthly.csv'), 
+                      infile_localmw = paste0(datadir, 'VZ_substate_monthly.csv'),
+                      infile_place = paste0(datadir, 'places10.csv'),
+                      infile_county = paste0(datadir,'zip_county10.csv'),
+                      infile_zipplace = paste0(datadir,'zip_places10.csv'))
+    
+    data <- assemble_data(data)
+ 
+    data <- create_minwage_eventvars(data)
+ 
+    save_data(df = data, key = c('zipcode', 'date'),
+              filename = paste0(tempdir, 'data_clean.csv'), nolog = TRUE)
+ }
> 
> load_data <- function(infile_zillow, infile_statemw, infile_localmw, infile_place,infile_county, infile_zipplace){
+    dfZillow <- fread(infile_zillow)
+    
+    dfZillow[, zipcode := str_pad(as.character(zipcode), 5, pad = 0)]
+    dfZillow[,date := as.Date(paste0(date, "_01"), "%Y_%m_%d")]
+ 
+    dfStatemw <- fread(infile_statemw)
+    setnames(dfStatemw, old = c('monthly_date', 'mw'), new = c('date', 'state_mw'))
+    dfStatemw[,date := str_replace_all(date, "m", "_")][,date:= as.Date(paste0(date, "_01"), "%Y_%m_%d")]
+    dfStatemw[, statefips := str_pad(as.character(statefips), 2, pad = 0)]
+ 
+    dfLocalmw <- fread(infile_localmw)
+    setnames(dfLocalmw, old = c('monthly_date'), new = c('date'))
+    dfLocalmw[,date := str_replace_all(date, "m", "_")][,date:= as.Date(paste0(date, "_01"), "%Y_%m_%d")]
+    dfLocalmw[, statefips := str_pad(as.character(statefips), 2, pad = 0)]
+    dfLocalmw[,iscounty:=str_extract_all(locality, " County")][,iscounty:= ifelse(iscounty==" County", 1, 0)]
+ 
+    mw_vars <- names(dfLocalmw)
+    mw_vars <- mw_vars[grepl("mw", mw_vars)]
+    
+    county_mw_vars <- paste0("county_", mw_vars)
+    local_mw_vars <- paste0("local_", mw_vars)
+    
+    dfCountymw <- dfLocalmw[iscounty==1,][,iscounty:=NULL]
+    setnames(dfCountymw, old = c('locality', mw_vars), 
+                         new = c('county', county_mw_vars))
+    
+    dfLocalmw <- dfLocalmw[iscounty==0,][,iscounty:=NULL]
+    setnames(dfLocalmw, old = c('locality', mw_vars), 
+                        new = c('placename', local_mw_vars))
+    
+    usps_zip_to_zcta <- readxl::read_excel('../../../drive/raw_data/usd_mapper_Xwalk/zip_to_zcta_2019.xlsx')
+    old_vars <- c('ZIP_CODE', 'ZCTA')
+    new_vars <- c('zipcode', 'zcta')
+    setnames(usps_zip_to_zcta, old = old_vars, new = new_vars)
+    usps_zip_to_zcta <- usps_zip_to_zcta[,c("zipcode", 'zcta')]
+    
+    place10 <- fread(infile_place)
+    setnames(place10, old = c("state"), new = "statefips")
+    place10[, statefips := str_pad(as.character(statefips), 2, pad = 0)]
+    place10[, place_code := str_pad(as.character(place_code), 5, pad = 0)]
+    # place10 <- place10[placetype=="city",]
+ 
+    zip_places10 <- fread(infile_zipplace, colClasses = c("place_code"="character", "zcta"="character",
+                                                          "statefips"="character"))
+    setorder(zip_places10, zcta)
+    zip_places10 <- place10[zip_places10, on = c('statefips', 'place_code')]
+    zip_places10 <- zip_places10[pct_zip_houses_inplace>=50,]
+    zip_places10 <- left_join(zip_places10, usps_zip_to_zcta, by=c('zcta'))
+    
+    
+    zip_county10 <- fread(infile_county, colClasses = c("zcta"="character", "statefips"="character",
+                                                        "county_code"="character", "countyfips"="character"))
+    setorder(zip_county10, zcta)
+    zip_county10 <- zip_county10[pct_zip_houses_incounty>=50,]
+    zip_county10[, ind := max(pct_zip_pop_incounty, na.rm = T), by = 'zcta'][, ind:= ifelse(ind==pct_zip_pop_incounty, 1, 0)]
+    zip_county10 <- zip_county10[ind==1,]
+    zip_county10 <- zip_county10[, ind:=NULL]
+    zip_county10 <- left_join(zip_county10, usps_zip_to_zcta, by=c('zcta'))
+    
+    return(list('df_zillow'    = dfZillow,     'df_state_mw' = dfStatemw,
+                'df_county_mw' = dfCountymw,   'df_local_mw' = dfLocalmw,
+                'zip_county'   = zip_county10, 'zip_place'   = zip_places10))
+ }
> 
> assemble_data <- function(data) {
+    DF <- data[['df_zillow']]
+    DF <- left_join(DF, data[['df_state_mw']], by=c('stateabb', 'date'))
+    DF <- left_join(DF, data[['zip_county']], by=c('statefips', 'stateabb', 'zipcode'))
+    DF <- subset(DF, select = -c(statename, county.x, county_code))
+    setnames(DF, old = c("county.y"), new = "county")
+    DF <- left_join(DF, data[['zip_place']], by=c('statefips', 'stateabb', 'zipcode'))
+    DF <- subset(DF, select = -c(zcta.x))
+    setnames(DF, old = c("zcta.y"), new = "zcta")
+    DF <- left_join(DF, data[['df_county_mw']], by=c('statefips', 'stateabb', 'county', 'date'))
+    DF <- subset(DF, select = -c(statename))
+    DF <- left_join(DF, data[['df_local_mw']], by=c('statefips', 'stateabb', 'placename', 'date'))
+    DF <- subset(DF, select = -c(statename))
+    
+    colorder1 <- c('date', 'zipcode', 'zcta', 'place_code', 'placename', 'placetype', 
+                   'city', 'msa', 'countyfips', 'county', 'statefips', 'stateabb')
+    colorder2 <- setdiff(colorder1, names(DF))
+    setcolorder(DF, c(colorder1,colorder2))
+    return(as.data.table(DF))
+ }
> 
> create_minwage_eventvars <- function(x){
+    
+    mw_vars <- names(x)
+    mw_vars <- mw_vars[grepl("mw", mw_vars)]
+    mw_vars <- mw_vars[!grepl("abovestate", mw_vars)]
+    
+    mw_vars_regular <- mw_vars[!grepl("smallbusiness", mw_vars)]
+    
+    mw_vars_smallb <- c(mw_vars[grepl('smallbusiness', mw_vars)], 
+                        'fed_mw', 'state_mw') 
+ 
+    
+    x[ , actual_mw := 
+         rowMaxs(as.matrix(x[,..mw_vars_regular]), na.rm = T)][ , actual_mw:= ifelse(actual_mw == -Inf, 
+                                                                                         NA, actual_mw)]
+    x[ , actual_mw_smallbusiness := 
+         rowMaxs(as.matrix(x[,..mw_vars_smallb]), na.rm = T)][ ,actual_mw_smallbusiness:= ifelse(actual_mw_smallbusiness == -Inf, 
+                                                                                         NA, actual_mw_smallbusiness)]
+    
+    setorderv(x, cols = c('zipcode', 'date'))
+    x[,Dactual_mw := actual_mw - shift(actual_mw), by = 'zipcode'][,mw_event := ifelse(Dactual_mw > 0 , 1, 0)]
+    x[,Dactual_mw_smallbusiness := actual_mw_smallbusiness - shift(actual_mw_smallbusiness), by = 'zipcode'][,mw_event_smallbusiness := ifelse(Dactual_mw_smallbusiness > 0 , 1, 0)]
+ 
+    return(x)
+ }
> 
> main()
[1] "File '../temp/data_clean.csv' saved successfully."
Warning messages:
1: In `[.data.table`(x, , ..mw_vars_regular) :
  Both 'mw_vars_regular' and '..mw_vars_regular' exist in calling scope. Please remove the '..mw_vars_regular' variable in calling scope for clarity.
2: In `[.data.table`(x, , ..mw_vars_smallb) :
  Both 'mw_vars_smallb' and '..mw_vars_smallb' exist in calling scope. Please remove the '..mw_vars_smallb' variable in calling scope for clarity.
> 
> proc.time()
   user  system elapsed 
 213.12   25.03  182.78 


Execute:  StataMP-64 /e do "./clean_gen_label.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./clean_gen_label.do 

. set more off

. clear all

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/mental_coupons/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/mental_coupons/ado"

. 
. program main 
  1.     import delim "../temp/data_clean.csv", delim(",")
  2. 
.     clean_vars
  3.     gen_vars
  4. 
.     compress
  5.     save_data "../temp/zipcode_yearmonth_panel.dta", key(zipcode year_mont
> h) ///
>         log(none) replace
  6. end  

. 
. program clean_vars
  1.     *clean date
.     gen     year_month = date(date, "YMD")
  2.     gen calendar_month = month(year_month)
  3.     drop date
  4.     replace year_month = mofd(year_month)
  5.     format  year_month %tm
  6. 
.     drop if missing(year_month)
  7.     drop if missing(zipcode)
  8.         
.         rename msa msa_str
  9.         encode msa_str, gen(msa)
 10.         drop msa_str
 11.         
.         replace dactual_mw = round(dactual_mw, 0.01)
 12.         replace dactual_mw = 0 if dactual_mw < 0
 13. end

. 
. program gen_vars
  1.     bysort zipcode (year_month): gen trend = _n
  2. 
.     local mw_type `" "" "_smallbusiness" "'
  3.     foreach var_type in `mw_type' {
  4.         bysort zipcode (year_month): gen dpct_actual_mw`var_type' = dactua
> l_mw`var_type'/actual_mw`var_type'[_n-1]
  5. 
.         gen event_month`var_type' = mw_event`var_type' == 1
  6.         replace event_month`var_type' = 1 if year_month != year_month[_n-1
> ] + 1  // zipcode changes
  7. 
.         gen event_month`var_type'_id = sum(event_month`var_type')
  8. 
.         bysort event_month`var_type'_id: gen months_since`var_type' = _n - 1
  9.         bysort event_month`var_type'_id: gen months_until`var_type' = _N -
>  months_since`var_type'
 10. 
.         bysort event_month`var_type'_id: replace months_until`var_type' = 0 i
> f _N == months_until`var_type'
 11. 
.         drop event_month`var_type'_id event_month`var_type'        
 12.     }
 13.         
.     gen sal_mw_event = (dactual_mw >= 0.5)
 14.         gen mw_event025 = (dactual_mw >= 0.25)
 15.         gen mw_event075 = (dactual_mw >= 0.75)
 16. end

. 
. main
(72 vars, 8,799,516 obs)
(7,005 missing values generated)
(7,005 missing values generated)
(8,792,511 real changes made)
(7,005 observations deleted)
(0 observations deleted)
(166,838 real changes made)
(648 real changes made)
(91,793 missing values generated)
(30,687 real changes made)
(302500 real changes made)
(91,793 missing values generated)
(30,687 real changes made)
(302488 real changes made)
  variable year_month was float now int
  variable calendar_month was float now byte
  variable msa was long now int
  variable trend was float now int
  variable months_since was float now int
  variable months_until was float now int
  variable months_since_smallbusiness was float now int
  variable months_until_smallbusiness was float now int
  variable sal_mw_event was float now byte
  variable mw_event025 was float now byte
  variable mw_event075 was float now byte
  (228,605,286 bytes saved)
(data now sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/zipcode_yearmonth_panel.dta
Key: zipcode year_month
===============================================================================
> ===================
  8792511:83(83943):1161706662:1112742972

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |  8,792,511    48754.23    27453.74        501      99929
  year_month |  8,792,511    578.0919    82.85671        435        721
        zcta |  4,070,272    55407.32    27551.92       1001      99929
  place_code |  4,070,272    41803.02    23819.56        100      89300
   placename |          0
-------------+---------------------------------------------------------
   placetype |          0
        city |          0
  countyfips |  8,669,215    29866.56    15229.81       1001      56045
      county |          0
   statefips |  8,731,405    29.79272    15.22646          1         56
-------------+---------------------------------------------------------
    stateabb |          0
medli~e_sfcc |    919,945    296431.4    256952.6      12000    6995000
m~e_low_tier |    237,537    151736.7    94283.89      11750     939935
m~e_top_tier |    481,521    463979.4    350800.1     112450    7295000
medli~t_sfcc |  1,084,523    165.6084    135.7259   11.57113   2802.347
-------------+---------------------------------------------------------
m~t_low_tier |    296,286    121.5329    83.33472   11.50727   1672.388
m~t_top_tier |    516,368    206.6456    177.9822   31.52173   2799.423
medren~e_1br |     69,440    1607.937     670.499        350       5195
medren~e_2br |    106,799    1766.741    879.0102        475      19500
medren~e_3br |     76,539    1928.871     1459.31        455      40000
-------------+---------------------------------------------------------
medren~e_4br |     10,310    3116.339    5197.041        435      50000
medren~e_5br |        868     5715.09    7571.906       1250      50000
medre~e_sfcc |    192,932    1768.679    1527.426        500      50000
medrent~e_cc |     34,676     2105.65    938.7924        700       8975
med~e_mfdxtx |     26,880    1979.011    832.9655        375       6646
-------------+---------------------------------------------------------
m~e_mfr5plus |    175,096     1554.04    697.8883        375      20000
medrent~e_sf |    142,386    1778.371    1931.017        500      50000
med~e_studio |     28,999    1670.905    1365.808        300      50000
medren~t_1br |     55,424    2.191226    .9194792   .6388889   7.164352
medren~t_2br |     92,792    1.682865     .803698   .5015197   12.55461
-------------+---------------------------------------------------------
medren~t_3br |     67,139    1.233209    .8117302   .5060225       17.5
medren~t_4br |      8,370     1.49865    2.559936   .5492424   21.85141
medren~t_5br |        537    7.753782    7.031498   .3727683         22
medre~t_sfcc |    197,978    1.303812    1.033133   .1091193   23.96932
medrent~t_cc |     30,608    2.170225    1.168605   .5835432   12.92755
-------------+---------------------------------------------------------
med~t_mfdxtx |     11,949    2.451649    1.286775   .3627695   6.936797
m~t_mfr5plus |    146,858    1.736677     .849114   .3150482   12.55435
medrent~t_sf |    144,593       1.145    1.002039   .1039069   24.48466
med~t_studio |     23,491    1.954625    1.574804   .4288971   7.347833
    zhvi_2br |  5,565,556    146003.9    133146.3       7100    3893638
-------------+---------------------------------------------------------
   zhvi_sfcc |  6,699,435    183337.3    176086.7       8565    6648479
      zhvi_c |  2,325,780    199634.7      160856      13592    3848327
     zhvi_sf |  6,686,415    191190.8    212985.5       8565    8737684
  zri_sfccmf |  1,347,720    1356.072    875.9493        368      83894
      zri_mf |    140,035    1518.065    639.5489        420      18349
-------------+---------------------------------------------------------
      fed_mw |  8,731,405    6.133715    1.054042       4.25       7.25
    state_mw |  8,731,405    6.567077    1.465736       4.25         14
pop10_zip_~y |  8,669,215    10139.74    13964.11          0     113916
houses10_z~y |  8,669,215    4328.356    5661.727          1      47617
pct_zip_po~y |  8,669,215    96.09368    9.709425          0        100
-------------+---------------------------------------------------------
pct_zip_ho~y |  8,669,215    96.04085    9.580142         50        100
  placepop10 |  4,070,272    241329.9    998106.5         16    8175133
landarea_s~m |  4,070,272    126.6059    325.0486          0       7434
pop10_zip_~e |  4,070,272    12798.36    15072.28          0     113916
houses10_z~e |  4,070,272    5410.332     6085.59          1      47617
-------------+---------------------------------------------------------
pct_zip_po~e |  4,070,272    80.26835    18.30725          0        100
pct_zip_ho~e |  4,070,272    80.56913    17.65957         50        100
   county_mw |    154,096    8.233972    1.887734       5.15      14.25
county_mw_~s |    154,096    8.162659    1.731204       5.15      13.25
county_abo~w |    154,096    .1989539    .3992146          0          1
-------------+---------------------------------------------------------
county_abo~e |    154,096    .1668311    .3728262          0          1
    local_mw |     94,464    8.780504    2.126039       5.15      16.09
local_mw_s~s |     94,464    8.679119    1.940648       5.15      16.09
local_abov~w |     94,464    .2929582    .4551218          0          1
local_abov~s |     94,464    .2618987    .4396701          0          1
-------------+---------------------------------------------------------
   actual_mw |  8,731,405    6.575721    1.489869       4.25      16.09
actual_mw_~s |  8,731,405     6.57402    1.483117       4.25      16.09
  dactual_mw |  8,700,718    .0159194    .1055625          0       5.81
    mw_event |  8,700,718    .0312403    .1739665          0          1
dactual_mw~s |  8,700,718    .0158332    .1055986      -3.59          6
-------------+---------------------------------------------------------
mw_event_s~s |  8,700,718    .0312389    .1739628          0          1
calendar_m~h |  8,792,511    6.512318    3.451861          1         12
         msa |  6,725,330    437.6946    246.4384          1        862
       trend |  8,792,511    143.9015    82.85817          1        287
dpct_actua~w |  8,700,718    .0025974    .0175524          0   .6504854
-------------+---------------------------------------------------------
months_since |  8,792,511    37.80943    35.76716          0        145
months_until |  8,792,511    37.80943    35.76716          0        145
dpct_actua~s |  8,700,718    .0025906    .0175507  -.2821782   .6666667
months_sin~s |  8,792,511    37.81098    35.76615          0        145
months_unt~s |  8,792,511    37.81098    35.76615          0        145
-------------+---------------------------------------------------------
sal_mw_event |  8,792,511    .0269045    .1618043          0          1
 mw_event025 |  8,792,511    .0347101    .1830446          0          1
 mw_event075 |  8,792,511     .016299    .1266228          0          1




(note: file ../temp/zipcode_yearmonth_panel.dta not found)
file ../temp/zipcode_yearmonth_panel.dta saved

. 
end of do-file


Execute:  StataMP-64 /e do "./create_final_panels.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./create_final_panels.do 

. set more off

. clear all

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/mental_coupons/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/mental_coupons/ado"

. 
. program main
  1.         foreach var in medrentprice_sfcc medrentprice_mfr5plus medrentpric
> e_2br ///
>             medrentpricepsqft_sfcc medrentpricepsqft_mfr5plus medrentpricepsq
> ft_2br {
  2.                 
.             create_baseline_panel, var(`var') balance_date(01jan2015) ///
>                     start_date(01jan2010) end_date(12dec2019)
  3.         }
  4.         use "../temp/baseline_medrentprice_sfcc.dta", clear
  5.         foreach var in medrentprice_mfr5plus medrentprice_2br ///
>             medrentpricepsqft_sfcc medrentpricepsqft_mfr5plus medrentpricepsq
> ft_2br {
  6.                 
.                 merge 1:1 zipcode year_month using "../temp/baseline_`var'.dt
> a", ///
>                     nogen keep(1 3)
  7.                 }
  8.         save_data "../../../drive/derived_large/output/baseline_rent_panel
> .dta", key(zipcode year_month) replace
  9. 
.         foreach var in medlistingprice_sfcc medlistingprice_low_tier ///
>             medlistingprice_top_tier medlistingpricepsqft_sfcc ///
>                 medlistingpricepsqft_low_tier medlistingpricepsqft_top_tier {
 10.                 
.             create_baseline_panel, var(`var') balance_date(01jan2015) ///
>                     start_date(01jan2010) end_date(12dec2019)
 11.         }
 12.         use "../temp/baseline_medlistingpricepsqft_sfcc.dta", clear
 13.         foreach var in medlistingprice_sfcc medlistingprice_low_tier ///
>             medlistingprice_top_tier ///
>                 medlistingpricepsqft_low_tier medlistingpricepsqft_top_tier {
 14.                 
.                 merge 1:1 zipcode year_month using "../temp/baseline_`var'.dt
> a", ///
>                     nogen keep(1 3)
 15.                 }
 16.         save_data "../../../drive/derived_large/output/baseline_listing_pa
> nel.dta", key(zipcode year_month) replace
 17. 
.         use "../temp/zipcode_yearmonth_panel.dta", clear
 18.         save_data "../../../drive/derived_large/output/zipcode_yearmonth_p
> anel_all.dta", key(zipcode year_month) replace
 19. end

. 
. program create_baseline_panel
  1.     syntax, var(str) balance_date(str) start_date(str) end_date(str)
  2.         
.     use zipcode place_code placetype statefips msa countyfips county ///
>             year_month calendar_month `var' ///
>             actual_mw dactual_mw mw_event ///
>                 local_abovestate_mw county_abovestate_mw local_mw ///
>                 county_mw state_mw fed_mw ///
>                 sal_mw_event mw_event025 mw_event075 ///
>                 using "../temp/zipcode_yearmonth_panel.dta", clear
  3.                 
.         keep if (year_month >= `=mofd(td(`start_date'))' & year_month <= `=mo
> fd(td(`end_date'))')
  4. 
.         preserve
  5.         keep if year_month == `=mofd(td(`balance_date'))'
  6.         keep if !missing(`var')
  7.         keep zipcode
  8.         save_data "../temp/`var'_nonmiss_zipcodes.dta", replace ///
>             key(zipcode) log(none)
  9.         restore
 10.         
.         merge m:1 zipcode using "../temp/`var'_nonmiss_zipcodes.dta", ///
>             keep(3) nogen
 11.                 
.         xtset zipcode year_month
 12.         assert r(balanced) == "strongly balanced"
 13.         
.         save_data "../temp/baseline_`var'.dta", key(zipcode year_month) ///
>             replace log(none)
 14. end 

. 
. main
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(29,434 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentprice_sfcc_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  1253:1(103289):524203317:130672097

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      1,253    51319.01    29015.52       2113      99577




(note: file ../temp/medrentprice_sfcc_nonmiss_zipcodes.dta not found)
file ../temp/medrentprice_sfcc_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           150,360  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable county was str28 now str22
  (902,160 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentprice_sfcc.dta
Key: zipcode year_month
===============================================================================
> ===================
  150360:22(69549):2384330492:1838770061

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    150,360    51319.01    29004.04       2113      99577
  year_month |    150,360       659.5    34.63993        600        719
  place_code |    124,200       40791    22611.89        410      87240
   placetype |          0
  countyfips |    150,000    24129.28    16433.47       1003      56021
-------------+---------------------------------------------------------
      county |          0
   statefips |    150,360    24.02953    16.37417          1         56
medrentpri~c |    122,702    1641.121    693.2088        595       6595
      fed_mw |    150,360        7.25           0       7.25       7.25
    state_mw |    150,360     8.00464    1.065423       7.25         14
-------------+---------------------------------------------------------
   county_mw |      8,160    9.073235    1.572141       7.25      14.25
county_abo~w |      8,160    .3026961     .459453          0          1
    local_mw |      8,760    9.411226    1.795166       7.25         16
local_abov~w |      8,760    .3366438    .4725889          0          1
   actual_mw |    150,360     8.06152    1.184424       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    150,360    .0149334    .1110563          0       2.21
    mw_event |    150,360    .0335528    .1800756          0          1
calendar_m~h |    150,360         6.5    3.452064          1         12
         msa |    150,360    436.0295    241.1196         12        860
sal_mw_event |    150,360    .0131152    .1137685          0          1
-------------+---------------------------------------------------------
 mw_event025 |    150,360     .017631    .1316065          0          1
 mw_event075 |    150,360    .0079476    .0887946          0          1




(note: file ../temp/baseline_medrentprice_sfcc.dta not found)
file ../temp/baseline_medrentprice_sfcc.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(29,716 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentprice_mfr5plus_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  971:1(103289):2335962678:1240142234

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |        971    45144.81    33580.44       1545      99507




(note: file ../temp/medrentprice_mfr5plus_nonmiss_zipcodes.dta not found)
file ../temp/medrentprice_mfr5plus_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           116,520  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable county was str28 now str22
  (699,120 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentprice_mfr5plus.dta
Key: zipcode year_month
===============================================================================
> ===================
  116520:22(29955):3852513300:43350340

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    116,520    45144.81    33563.29       1545      99507
  year_month |    116,520       659.5    34.63996        600        719
  place_code |    105,000    41155.96    22280.91        394      84410
   placetype |          0
  countyfips |    116,160    25150.21    15657.31       1073      54061
-------------+---------------------------------------------------------
      county |          0
   statefips |    116,520    25.03811    15.60327          1         54
medrentpri~s |     89,873    1657.626    697.9425        375       6500
      fed_mw |    116,520        7.25           0       7.25       7.25
    state_mw |    116,520     8.36863    1.280585       7.25         14
-------------+---------------------------------------------------------
   county_mw |     14,040     9.13886    1.693982       7.25      14.25
county_abo~w |     14,040    .3031339     .459629          0          1
    local_mw |     17,280    9.684612    2.011662       7.25         16
local_abov~w |     17,280    .3608218    .4802528          0          1
   actual_mw |    116,520    8.502422    1.507865       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    116,520    .0239355    .1436938          0        2.6
    mw_event |    116,520    .0413577     .199117          0          1
calendar_m~h |    116,520         6.5    3.452067          1         12
         msa |    116,520    453.9341    234.4541          8        853
sal_mw_event |    116,520    .0234895    .1514529          0          1
-------------+---------------------------------------------------------
 mw_event025 |    116,520    .0288534    .1673952          0          1
 mw_event075 |    116,520    .0149674    .1214228          0          1




(note: file ../temp/baseline_medrentprice_mfr5plus.dta not found)
file ../temp/baseline_medrentprice_mfr5plus.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(30,202 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentprice_2br_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  485:1(103289):93237617:1642354827

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |        485     41585.3    32175.62       1604      98204




(note: file ../temp/medrentprice_2br_nonmiss_zipcodes.dta not found)
file ../temp/medrentprice_2br_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            58,200  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable placetype was str12 now str9
  variable county was str28 now str22
  (523,800 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentprice_2br.dta
Key: zipcode year_month
===============================================================================
> ===================
  58200:22(81016):2199307038:2380858735

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |     58,200     41585.3    32142.71       1604      98204
  year_month |     58,200       659.5    34.64011        600        719
  place_code |     53,880    41073.83    21830.85        947      83910
   placetype |          0
  countyfips |     57,960    25837.17    15456.72       4013      53061
-------------+---------------------------------------------------------
      county |          0
   statefips |     58,200     25.7134    15.39093          4         53
medrentpri~r |     45,628    1957.861    941.2837        495     7647.5
      fed_mw |     58,200        7.25           0       7.25       7.25
    state_mw |     58,200    8.310243    1.250493       7.25         14
-------------+---------------------------------------------------------
   county_mw |      5,880    9.109779    1.598141       7.25      14.25
county_abo~w |      5,880    .2880952    .4529142          0          1
    local_mw |      9,000    9.530557    1.867405       7.25         16
local_abov~w |      9,000    .3571111    .4791746          0          1
   actual_mw |     58,200    8.433873    1.446554       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |     58,200    .0229813     .137832          0       2.21
    mw_event |     58,200     .041323     .199038          0          1
calendar_m~h |     58,200         6.5    3.452082          1         12
         msa |     58,200    448.9237    227.4553         42        853
sal_mw_event |     58,200    .0227491     .149104          0          1
-------------+---------------------------------------------------------
 mw_event025 |     58,200     .027921    .1647478          0          1
 mw_event075 |     58,200    .0141409    .1180727          0          1




(note: file ../temp/baseline_medrentprice_2br.dta not found)
file ../temp/baseline_medrentprice_2br.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(29,342 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentpricepsqft_sfcc_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  1345:1(103289):1402763191:3540302441

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      1,345    53665.63    29081.61       2109      99577




(note: file ../temp/medrentpricepsqft_sfcc_nonmiss_zipcodes.dta not found)
file ../temp/medrentpricepsqft_sfcc_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           161,400  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable county was str28 now str22
  (968,400 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentpricepsqft_sfcc.dta
Key: zipcode year_month
===============================================================================
> ===================
  161400:22(77221):1447560821:2031522753

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    161,400    53665.63    29070.89       2109      99577
  year_month |    161,400       659.5    34.63992        600        719
  place_code |    131,280    40961.73    22907.78        394      87240
   placetype |          0
  countyfips |    160,920    23724.94    16854.61       1031      56021
-------------+---------------------------------------------------------
      county |          0
   statefips |    161,400    23.64312    16.79762          1         56
medrentpri~c |    133,600    1.233179    .9003418   .4180214       22.2
      fed_mw |    161,400        7.25           0       7.25       7.25
    state_mw |    161,400    8.008158    1.092319       7.25         14
-------------+---------------------------------------------------------
   county_mw |      7,680    9.309779     1.87518       7.25      14.25
county_abo~w |      7,680       .3375    .4728878          0          1
    local_mw |      9,840    9.579441    1.974371       7.25         16
local_abov~w |      9,840    .3440041    .4750665          0          1
   actual_mw |    161,400    8.056824    1.213418       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    161,400     .014492    .1094283          0       2.21
    mw_event |    161,400    .0336493    .1803254          0          1
calendar_m~h |    161,400         6.5    3.452063          1         12
         msa |    161,400    443.7695    239.1899          2        860
sal_mw_event |    161,400     .012373     .110544          0          1
-------------+---------------------------------------------------------
 mw_event025 |    161,400    .0166481    .1279493          0          1
 mw_event075 |    161,400    .0078191    .0880795          0          1




(note: file ../temp/baseline_medrentpricepsqft_sfcc.dta not found)
file ../temp/baseline_medrentpricepsqft_sfcc.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(29,912 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentpricepsqft_mfr5plus_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  775:1(103289):4104393491:737300358

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |        775    52069.48    33155.59       1604      99504




(note: file ../temp/medrentpricepsqft_mfr5plus_nonmiss_zipcodes.dta not found)
file ../temp/medrentpricepsqft_mfr5plus_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            93,000  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable county was str28 now str22
  (558,000 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentpricepsqft_mfr5plus.dta
Key: zipcode year_month
===============================================================================
> ===================
  93000:22(16476):2246677278:3016258448

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |     93,000    52069.48    33134.38       1604      99504
  year_month |     93,000       659.5       34.64        600        719
  place_code |     83,760     41069.1    22709.89        394      84410
   placetype |          0
  countyfips |     92,760    23262.45    16472.58       2020      55025
-------------+---------------------------------------------------------
      county |          0
   statefips |     93,000    23.16258    16.40959          2         55
medrentpri~s |     68,931    1.877251    .9391504   .5106889   6.551519
      fed_mw |     93,000        7.25           0       7.25       7.25
    state_mw |     93,000    8.344981    1.279265       7.25         14
-------------+---------------------------------------------------------
   county_mw |     11,400    9.279298    1.825906       7.25      14.25
county_abo~w |     11,400    .3147368    .4644314          0          1
    local_mw |     17,400    9.782637    2.070533       7.25         16
local_abov~w |     17,400    .3878736    .4872795          0          1
   actual_mw |     93,000    8.504894    1.566427       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |     93,000    .0228532    .1435033          0       3.25
    mw_event |     93,000    .0410538    .1984157          0          1
calendar_m~h |     93,000         6.5    3.452071          1         12
         msa |     93,000    454.4955    239.6174          8        853
sal_mw_event |     93,000    .0207742    .1426283          0          1
-------------+---------------------------------------------------------
 mw_event025 |     93,000    .0256129    .1579783          0          1
 mw_event075 |     93,000    .0149677    .1214243          0          1




(note: file ../temp/baseline_medrentpricepsqft_mfr5plus.dta not found)
file ../temp/baseline_medrentpricepsqft_mfr5plus.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(30,319 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentpricepsqft_2br_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  368:1(103289):1107932147:3125232455

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |        368    50165.42     31940.2       1970      98204




(note: file ../temp/medrentpricepsqft_2br_nonmiss_zipcodes.dta not found)
file ../temp/medrentpricepsqft_2br_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            44,160  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable placetype was str12 now str9
  variable county was str28 now str22
  (397,440 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentpricepsqft_2br.dta
Key: zipcode year_month
===============================================================================
> ===================
  44160:22(94389):2884120602:3897759088

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |     44,160    50165.42    31897.13       1970      98204
  year_month |     44,160       659.5    34.64021        600        719
  place_code |     40,320    39523.83     22485.8        947      84410
   placetype |          0
  countyfips |     43,920    23334.33    16486.28       4013      53061
-------------+---------------------------------------------------------
      county |          0
   statefips |     44,160    23.20652    16.39364          4         53
medrentpri~r |     33,548    1.831263    .8682153   .5015197   6.499599
      fed_mw |     44,160        7.25           0       7.25       7.25
    state_mw |     44,160    8.268863    1.234163       7.25         14
-------------+---------------------------------------------------------
   county_mw |      5,040    9.232946    1.732422       7.25      14.25
county_abo~w |      5,040    .2978175    .4573442          0          1
    local_mw |      8,880    9.579764    1.974484       7.25         16
local_abov~w |      8,880    .3539414    .4782182          0          1
   actual_mw |     44,160    8.413277    1.501029       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |     44,160     .020767    .1361447          0       2.21
    mw_event |     44,160    .0399004    .1957273          0          1
calendar_m~h |     44,160         6.5    3.452092          1         12
         msa |     44,160    447.5326    233.0313         42        824
sal_mw_event |     44,160    .0181159    .1333723          0          1
-------------+---------------------------------------------------------
 mw_event025 |     44,160    .0223505    .1478225          0          1
 mw_event075 |     44,160     .013904    .1170939          0          1




(note: file ../temp/baseline_medrentpricepsqft_2br.dta not found)
file ../temp/baseline_medrentpricepsqft_2br.dta saved
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                        96,120
        from master                    96,120  
        from using                          0  

    matched                            54,240  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                       112,080
        from master                   112,080  
        from using                          0  

    matched                            38,280  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                        18,600
        from master                    18,600  
        from using                          0  

    matched                           131,760  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                       105,360
        from master                   105,360  
        from using                          0  

    matched                            45,000  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                       120,600
        from master                   120,600  
        from using                          0  

    matched                            29,760  
    -----------------------------------------
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../../../drive/derived_large/output/baseline_rent_panel.dta
Key: zipcode year_month
===============================================================================
> ===================
  150360:27(47398):1385204123:726926842

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    150,360    51319.01    29004.04       2113      99577
  year_month |    150,360       659.5    34.63993        600        719
  place_code |    124,200       40791    22611.89        410      87240
   placetype |          0
  countyfips |    150,000    24129.28    16433.47       1003      56021
-------------+---------------------------------------------------------
      county |          0
   statefips |    150,360    24.02953    16.37417          1         56
medre~e_sfcc |    122,702    1641.121    693.2088        595       6595
      fed_mw |    150,360        7.25           0       7.25       7.25
    state_mw |    150,360     8.00464    1.065423       7.25         14
-------------+---------------------------------------------------------
   county_mw |      8,160    9.073235    1.572141       7.25      14.25
county_abo~w |      8,160    .3026961     .459453          0          1
    local_mw |      8,760    9.411226    1.795166       7.25         16
local_abov~w |      8,760    .3366438    .4725889          0          1
   actual_mw |    150,360     8.06152    1.184424       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    150,360    .0149334    .1110563          0       2.21
    mw_event |    150,360    .0335528    .1800756          0          1
calendar_m~h |    150,360         6.5    3.452064          1         12
         msa |    150,360    436.0295    241.1196         12        860
sal_mw_event |    150,360    .0131152    .1137685          0          1
-------------+---------------------------------------------------------
 mw_event025 |    150,360     .017631    .1316065          0          1
 mw_event075 |    150,360    .0079476    .0887946          0          1
m~e_mfr5plus |     43,854    1717.106    754.5874        450       6095
medren~e_2br |     30,748    1998.906    1020.178        495       6800
medre~t_sfcc |    109,861    1.182011    .7855536   .4180214   6.731387
-------------+---------------------------------------------------------
m~t_mfr5plus |     34,604    1.845265    1.008575   .5106889   6.471716
medren~t_2br |     23,145    1.855966    .9358948   .5015197   6.499599




file ../../../drive/derived_large/output/baseline_rent_panel.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(23,347 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingprice_sfcc_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  7340:1(103289):3628673835:3500897537

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      7,340    49317.23    30077.48        623      99835




(note: file ../temp/medlistingprice_sfcc_nonmiss_zipcodes.dta not found)
file ../temp/medlistingprice_sfcc_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           880,800  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingprice_sfcc.dta
Key: zipcode year_month
===============================================================================
> ===================
  880800:22(81490):1999432703:2991075839

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    880,800    49317.23    30075.45        623      99835
  year_month |    880,800       659.5    34.63983        600        719
  place_code |    585,600    42534.43    23557.23        100      88940
   placetype |          0
  countyfips |    878,280    27602.77       16102       1001      56043
-------------+---------------------------------------------------------
      county |          0
   statefips |    880,800    27.53515    16.08137          1         56
medlisting~c |    808,496    287402.5    229385.3      17800    4650000
      fed_mw |    880,800        7.25           0       7.25       7.25
    state_mw |    880,800    8.035056    1.106818       7.25         14
-------------+---------------------------------------------------------
   county_mw |     57,840    9.135992    1.776733       7.25      14.25
county_abo~w |     57,840    .3121369    .4633694          0          1
    local_mw |     29,160    9.545035    1.924916       7.25         16
local_abov~w |     29,160    .3532579    .4779902          0          1
   actual_mw |    880,800    8.074914    1.198249       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    880,792     .014895    .1096099          0       3.25
    mw_event |    880,792    .0308234    .1728391          0          1
calendar_m~h |    880,800         6.5    3.452054          1         12
         msa |    841,320    441.1928    239.1531          1        861
sal_mw_event |    880,800     .013809    .1166977          0          1
-------------+---------------------------------------------------------
 mw_event025 |    880,800    .0187273    .1355603          0          1
 mw_event075 |    880,800    .0085706    .0921801          0          1




(note: file ../temp/baseline_medlistingprice_sfcc.dta not found)
file ../temp/baseline_medlistingprice_sfcc.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(28,861 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingprice_low_tier_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  1826:1(103289):1878174185:941596982

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      1,826    48968.94    32254.04       1013      99688




(note: file ../temp/medlistingprice_low_tier_nonmiss_zipcodes.dta not found)
file ../temp/medlistingprice_low_tier_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           219,120  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable county was str28 now str25
  (657,360 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingprice_low_tier.dta
Key: zipcode year_month
===============================================================================
> ===================
  219120:22(38458):135888108:3185489676

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    219,120    48968.94    32245.28       1013      99688
  year_month |    219,120       659.5    34.63989        600        719
  place_code |    165,840    43534.54    23374.96        100      88940
   placetype |          0
  countyfips |    218,880       26364    16028.06       1003      56021
-------------+---------------------------------------------------------
      county |          0
   statefips |    219,120    26.28806    15.99655          1         56
medlisting~r |    194,833    146169.5    87714.97      16050     849990
      fed_mw |    219,120        7.25           0       7.25       7.25
    state_mw |    219,120    8.175148    1.151047       7.25         14
-------------+---------------------------------------------------------
   county_mw |     19,560    9.122609    1.726623       7.25      14.25
county_abo~w |     19,560     .315593    .4647635          0          1
    local_mw |      8,760    9.456279    1.739819       7.25         15
local_abov~w |      8,760    .3841324    .4864172          0          1
   actual_mw |    219,120    8.229521     1.25163       7.25         15
-------------+---------------------------------------------------------
  dactual_mw |    219,120    .0175388    .1216778          0       3.25
    mw_event |    219,120    .0353596    .1846875          0          1
calendar_m~h |    219,120         6.5     3.45206          1         12
         msa |    219,120    453.7081    242.0321          1        860
sal_mw_event |    219,120    .0161236    .1259511          0          1
-------------+---------------------------------------------------------
 mw_event025 |    219,120    .0213992    .1447114          0          1
 mw_event075 |    219,120      .00999    .0994495          0          1




(note: file ../temp/baseline_medlistingprice_low_tier.dta not found)
file ../temp/baseline_medlistingprice_low_tier.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(26,797 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingprice_top_tier_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  3890:1(103289):2377848277:4168156339

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      3,890    49488.42     28046.3       1002      99654




(note: file ../temp/medlistingprice_top_tier_nonmiss_zipcodes.dta not found)
file ../temp/medlistingprice_top_tier_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           466,800  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable county was str28 now str25
  (1,400,400 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingprice_top_tier.dta
Key: zipcode year_month
===============================================================================
> ===================
  466800:22(69208):1315483603:2273265094

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    466,800    49488.42    28042.72       1002      99654
  year_month |    466,800       659.5    34.63985        600        719
  place_code |    299,760    42070.22    23544.46        160      88200
   placetype |          0
  countyfips |    465,840    27503.03    15855.85       1001      56033
-------------+---------------------------------------------------------
      county |          0
   statefips |    466,800     27.4162    15.83298          1         56
medlisting~r |    441,003    447523.6    315734.4     112450    6895000
      fed_mw |    466,800        7.25           0       7.25       7.25
    state_mw |    466,800    7.949728    1.030033       7.25         14
-------------+---------------------------------------------------------
   county_mw |     24,840    8.966049    1.619488       7.25      14.25
county_abo~w |     24,840    .3202899    .4665973          0          1
    local_mw |     14,280    9.364374    1.844988       7.25         16
local_abov~w |     14,280    .3585434    .4795896          0          1
   actual_mw |    466,800    7.984809    1.105035       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    466,800    .0129652     .099396          0       3.16
    mw_event |    466,800    .0303106    .1714408          0          1
calendar_m~h |    466,800         6.5    3.452056          1         12
         msa |    466,800    423.7005    241.6338          1        861
sal_mw_event |    466,800    .0114931    .1065884          0          1
-------------+---------------------------------------------------------
 mw_event025 |    466,800    .0165488    .1275736          0          1
 mw_event075 |    466,800     .006838    .0824094          0          1




(note: file ../temp/baseline_medlistingprice_top_tier.dta not found)
file ../temp/baseline_medlistingprice_top_tier.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(21,804 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingpricepsqft_sfcc_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  8883:1(103289):2457231649:3035202297

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      8,883    49060.51    29963.86        623      99901




(note: file ../temp/medlistingpricepsqft_sfcc_nonmiss_zipcodes.dta not found)
file ../temp/medlistingpricepsqft_sfcc_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                         1,065,960  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingpricepsqft_sfcc.dta
Key: zipcode year_month
===============================================================================
> ===================
  1065960:22(61793):2102967021:856912998

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |  1,065,960    49060.51    29962.19        623      99901
  year_month |  1,065,960       659.5    34.63983        600        719
  place_code |    695,160     42351.2    23702.99        100      88940
   placetype |          0
  countyfips |  1,062,840    27492.39    15923.98       1001      56043
-------------+---------------------------------------------------------
      county |          0
   statefips |  1,065,960    27.41653    15.89854          1         56
medlisting~c |  1,022,159     163.521    128.4221   15.75758   2695.917
      fed_mw |  1,065,960        7.25           0       7.25       7.25
    state_mw |  1,065,960    8.024201    1.108313       7.25         14
-------------+---------------------------------------------------------
   county_mw |     60,840     9.19434    1.815913       7.25      14.25
county_abo~w |     60,840    .3172255    .4653999          0          1
    local_mw |     37,560    9.617641    2.012162       7.25      16.09
local_abov~w |     37,560    .3534079    .4780343          0          1
   actual_mw |  1,065,960    8.063322    1.203644       7.25      16.09
-------------+---------------------------------------------------------
  dactual_mw |  1,065,954      .01481    .1093318          0       5.81
    mw_event |  1,065,954    .0309235    .1731105          0          1
calendar_m~h |  1,065,960         6.5    3.452054          1         12
         msa |  1,016,520    437.8036     242.451          1        861
sal_mw_event |  1,065,960    .0136975    .1162321          0          1
-------------+---------------------------------------------------------
 mw_event025 |  1,065,960    .0183816    .1343268          0          1
 mw_event075 |  1,065,960    .0086063    .0923703          0          1




(note: file ../temp/baseline_medlistingpricepsqft_sfcc.dta not found)
file ../temp/baseline_medlistingpricepsqft_sfcc.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(28,295 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingpricepsqft_low_tier_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  2392:1(103289):2681003421:166796630

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      2,392    49786.32    31299.62       1013      99801




(note: file ../temp/medlistingpricepsqft_low_tier_nonmiss_zipcodes.dta not foun
> d)
file ../temp/medlistingpricepsqft_low_tier_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           287,040  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable county was str28 now str25
  (861,120 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingpricepsqft_low_tier.dta
Key: zipcode year_month
===============================================================================
> ===================
  287040:22(27886):1133895638:324514025

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    287,040    49786.32    31293.13       1013      99801
  year_month |    287,040       659.5    34.63987        600        719
  place_code |    213,600    42647.41    23559.96        100      88940
   placetype |          0
  countyfips |    286,680    26114.92    16097.41       1015      56033
-------------+---------------------------------------------------------
      county |          0
   statefips |    287,040    26.02801    16.06666          1         56
medlisting~r |    256,806    117.6444    77.12371   15.82222   1672.388
      fed_mw |    287,040        7.25           0       7.25       7.25
    state_mw |    287,040    8.120965     1.13311       7.25         14
-------------+---------------------------------------------------------
   county_mw |     17,760    9.213078     1.79629       7.25      14.25
county_abo~w |     17,760    .3237613    .4679233          0          1
    local_mw |     10,800    9.523896    1.811557       7.25         16
local_abov~w |     10,800    .3683333    .4823748          0          1
   actual_mw |    287,040    8.163751    1.220952       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    287,040    .0161638    .1155775          0       3.25
    mw_event |    287,040    .0346642     .182928          0          1
calendar_m~h |    287,040         6.5    3.452059          1         12
         msa |    286,920    448.3384    245.1912          1        861
sal_mw_event |    287,040    .0144753    .1194397          0          1
-------------+---------------------------------------------------------
 mw_event025 |    287,040    .0194503    .1381014          0          1
 mw_event075 |    287,040    .0090858    .0948858          0          1




(note: file ../temp/baseline_medlistingpricepsqft_low_tier.dta not found)
file ../temp/baseline_medlistingpricepsqft_low_tier.dta saved
(5,110,436 observations deleted)
(3,651,388 observations deleted)
(26,446 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingpricepsqft_top_tier_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  4241:1(103289):3512930769:86081916

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      4,241    49627.04    28145.53       1002      99705




(note: file ../temp/medlistingpricepsqft_top_tier_nonmiss_zipcodes.dta not foun
> d)
file ../temp/medlistingpricepsqft_top_tier_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           508,920  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingpricepsqft_top_tier.dta
Key: zipcode year_month
===============================================================================
> ===================
  508920:22(18534):1595511753:771772564

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    508,920    49627.04    28142.24       1002      99705
  year_month |    508,920       659.5    34.63985        600        719
  place_code |    331,200     42313.9    23459.94        200      87810
   placetype |          0
  countyfips |    507,360    27194.15    15934.29       1001      56039
-------------+---------------------------------------------------------
      county |          0
   statefips |    508,920    27.09432    15.90093          1         56
medlisting~r |    478,465    201.8099    168.4839   53.23853   2729.885
      fed_mw |    508,920        7.25           0       7.25       7.25
    state_mw |    508,920    7.940547    1.034074       7.25         14
-------------+---------------------------------------------------------
   county_mw |     24,360    9.060407    1.703174       7.25      14.25
county_abo~w |     24,360    .3293514    .4699874          0          1
    local_mw |     16,320    9.475872    2.005165       7.25         16
local_abov~w |     16,320    .3823529     .485977          0          1
   actual_mw |    508,920    7.975126    1.117659       7.25         16
-------------+---------------------------------------------------------
  dactual_mw |    508,920     .012894    .0993259          0       3.16
    mw_event |    508,920    .0301167    .1709086          0          1
calendar_m~h |    508,920         6.5    3.452056          1         12
         msa |    508,800    428.6498    241.4012          1        861
sal_mw_event |    508,920    .0114674    .1064704          0          1
-------------+---------------------------------------------------------
 mw_event025 |    508,920    .0162894    .1265863          0          1
 mw_event075 |    508,920     .006838    .0824091          0          1




(note: file ../temp/baseline_medlistingpricepsqft_top_tier.dta not found)
file ../temp/baseline_medlistingpricepsqft_top_tier.dta saved
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                       270,840
        from master                   270,840  
        from using                          0  

    matched                           795,120  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                       867,120
        from master                   867,120  
        from using                          0  

    matched                           198,840  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                       631,920
        from master                   631,920  
        from using                          0  

    matched                           434,040  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                       788,160
        from master                   788,160  
        from using                          0  

    matched                           277,800  
    -----------------------------------------
(label msa already defined)

    Result                           # of obs.
    -----------------------------------------
    not matched                       570,960
        from master                   570,960  
        from using                          0  

    matched                           495,000  
    -----------------------------------------
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../../../drive/derived_large/output/baseline_listing_panel.dta
Key: zipcode year_month
===============================================================================
> ===================
  1065960:27(76537):3334711978:2287010595

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |  1,065,960    49060.51    29962.19        623      99901
  year_month |  1,065,960       659.5    34.63983        600        719
  place_code |    695,160     42351.2    23702.99        100      88940
   placetype |          0
  countyfips |  1,062,840    27492.39    15923.98       1001      56043
-------------+---------------------------------------------------------
      county |          0
   statefips |  1,065,960    27.41653    15.89854          1         56
medli~t_sfcc |  1,022,159     163.521    128.4221   15.75758   2695.917
      fed_mw |  1,065,960        7.25           0       7.25       7.25
    state_mw |  1,065,960    8.024201    1.108313       7.25         14
-------------+---------------------------------------------------------
   county_mw |     60,840     9.19434    1.815913       7.25      14.25
county_abo~w |     60,840    .3172255    .4653999          0          1
    local_mw |     37,560    9.617641    2.012162       7.25      16.09
local_abov~w |     37,560    .3534079    .4780343          0          1
   actual_mw |  1,065,960    8.063322    1.203644       7.25      16.09
-------------+---------------------------------------------------------
  dactual_mw |  1,065,954      .01481    .1093318          0       5.81
    mw_event |  1,065,954    .0309235    .1731105          0          1
calendar_m~h |  1,065,960         6.5    3.452054          1         12
         msa |  1,016,520    437.8036     242.451          1        861
sal_mw_event |  1,065,960    .0136975    .1162321          0          1
-------------+---------------------------------------------------------
 mw_event025 |  1,065,960    .0183816    .1343268          0          1
 mw_event075 |  1,065,960    .0086063    .0923703          0          1
medli~e_sfcc |    733,012    291189.9    232048.7      17800    4650000
m~e_low_tier |    176,576    147825.6       88375      16050     849990
m~e_top_tier |    410,937    446087.4    309621.2     119900    6895000
-------------+---------------------------------------------------------
m~t_low_tier |    248,987    118.6315    74.39634   15.82222   678.1115
m~t_top_tier |    466,112     197.849    159.3114   53.23853   2729.885




file ../../../drive/derived_large/output/baseline_listing_panel.dta saved
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../../../drive/derived_large/output/zipcode_yearmonth_panel_all.dta
Key: zipcode year_month
===============================================================================
> ===================
  8792511:83(83943):1161706662:1112742972

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |  8,792,511    48754.23    27453.74        501      99929
  year_month |  8,792,511    578.0919    82.85671        435        721
        zcta |  4,070,272    55407.32    27551.92       1001      99929
  place_code |  4,070,272    41803.02    23819.56        100      89300
   placename |          0
-------------+---------------------------------------------------------
   placetype |          0
        city |          0
  countyfips |  8,669,215    29866.56    15229.81       1001      56045
      county |          0
   statefips |  8,731,405    29.79272    15.22646          1         56
-------------+---------------------------------------------------------
    stateabb |          0
medli~e_sfcc |    919,945    296431.4    256952.6      12000    6995000
m~e_low_tier |    237,537    151736.7    94283.89      11750     939935
m~e_top_tier |    481,521    463979.4    350800.1     112450    7295000
medli~t_sfcc |  1,084,523    165.6084    135.7259   11.57113   2802.347
-------------+---------------------------------------------------------
m~t_low_tier |    296,286    121.5329    83.33472   11.50727   1672.388
m~t_top_tier |    516,368    206.6456    177.9822   31.52173   2799.423
medren~e_1br |     69,440    1607.937     670.499        350       5195
medren~e_2br |    106,799    1766.741    879.0102        475      19500
medren~e_3br |     76,539    1928.871     1459.31        455      40000
-------------+---------------------------------------------------------
medren~e_4br |     10,310    3116.339    5197.041        435      50000
medren~e_5br |        868     5715.09    7571.906       1250      50000
medre~e_sfcc |    192,932    1768.679    1527.426        500      50000
medrent~e_cc |     34,676     2105.65    938.7924        700       8975
med~e_mfdxtx |     26,880    1979.011    832.9655        375       6646
-------------+---------------------------------------------------------
m~e_mfr5plus |    175,096     1554.04    697.8883        375      20000
medrent~e_sf |    142,386    1778.371    1931.017        500      50000
med~e_studio |     28,999    1670.905    1365.808        300      50000
medren~t_1br |     55,424    2.191226    .9194792   .6388889   7.164352
medren~t_2br |     92,792    1.682865     .803698   .5015197   12.55461
-------------+---------------------------------------------------------
medren~t_3br |     67,139    1.233209    .8117302   .5060225       17.5
medren~t_4br |      8,370     1.49865    2.559936   .5492424   21.85141
medren~t_5br |        537    7.753782    7.031498   .3727683         22
medre~t_sfcc |    197,978    1.303812    1.033133   .1091193   23.96932
medrent~t_cc |     30,608    2.170225    1.168605   .5835432   12.92755
-------------+---------------------------------------------------------
med~t_mfdxtx |     11,949    2.451649    1.286775   .3627695   6.936797
m~t_mfr5plus |    146,858    1.736677     .849114   .3150482   12.55435
medrent~t_sf |    144,593       1.145    1.002039   .1039069   24.48466
med~t_studio |     23,491    1.954625    1.574804   .4288971   7.347833
    zhvi_2br |  5,565,556    146003.9    133146.3       7100    3893638
-------------+---------------------------------------------------------
   zhvi_sfcc |  6,699,435    183337.3    176086.7       8565    6648479
      zhvi_c |  2,325,780    199634.7      160856      13592    3848327
     zhvi_sf |  6,686,415    191190.8    212985.5       8565    8737684
  zri_sfccmf |  1,347,720    1356.072    875.9493        368      83894
      zri_mf |    140,035    1518.065    639.5489        420      18349
-------------+---------------------------------------------------------
      fed_mw |  8,731,405    6.133715    1.054042       4.25       7.25
    state_mw |  8,731,405    6.567077    1.465736       4.25         14
pop10_zip_~y |  8,669,215    10139.74    13964.11          0     113916
houses10_z~y |  8,669,215    4328.356    5661.727          1      47617
pct_zip_po~y |  8,669,215    96.09368    9.709425          0        100
-------------+---------------------------------------------------------
pct_zip_ho~y |  8,669,215    96.04085    9.580142         50        100
  placepop10 |  4,070,272    241329.9    998106.5         16    8175133
landarea_s~m |  4,070,272    126.6059    325.0486          0       7434
pop10_zip_~e |  4,070,272    12798.36    15072.28          0     113916
houses10_z~e |  4,070,272    5410.332     6085.59          1      47617
-------------+---------------------------------------------------------
pct_zip_po~e |  4,070,272    80.26835    18.30725          0        100
pct_zip_ho~e |  4,070,272    80.56913    17.65957         50        100
   county_mw |    154,096    8.233972    1.887734       5.15      14.25
county_mw_~s |    154,096    8.162659    1.731204       5.15      13.25
county_abo~w |    154,096    .1989539    .3992146          0          1
-------------+---------------------------------------------------------
county_abo~e |    154,096    .1668311    .3728262          0          1
    local_mw |     94,464    8.780504    2.126039       5.15      16.09
local_mw_s~s |     94,464    8.679119    1.940648       5.15      16.09
local_abov~w |     94,464    .2929582    .4551218          0          1
local_abov~s |     94,464    .2618987    .4396701          0          1
-------------+---------------------------------------------------------
   actual_mw |  8,731,405    6.575721    1.489869       4.25      16.09
actual_mw_~s |  8,731,405     6.57402    1.483117       4.25      16.09
  dactual_mw |  8,700,718    .0159194    .1055625          0       5.81
    mw_event |  8,700,718    .0312403    .1739665          0          1
dactual_mw~s |  8,700,718    .0158332    .1055986      -3.59          6
-------------+---------------------------------------------------------
mw_event_s~s |  8,700,718    .0312389    .1739628          0          1
calendar_m~h |  8,792,511    6.512318    3.451861          1         12
         msa |  6,725,330    437.6946    246.4384          1        862
       trend |  8,792,511    143.9015    82.85817          1        287
dpct_actua~w |  8,700,718    .0025974    .0175524          0   .6504854
-------------+---------------------------------------------------------
months_since |  8,792,511    37.80943    35.76716          0        145
months_until |  8,792,511    37.80943    35.76716          0        145
dpct_actua~s |  8,700,718    .0025906    .0175507  -.2821782   .6666667
months_sin~s |  8,792,511    37.81098    35.76615          0        145
months_unt~s |  8,792,511    37.81098    35.76615          0        145
-------------+---------------------------------------------------------
sal_mw_event |  8,792,511    .0269045    .1618043          0          1
 mw_event025 |  8,792,511    .0347101    .1830446          0          1
 mw_event075 |  8,792,511     .016299    .1266228          0          1




file ../../../drive/derived_large/output/zipcode_yearmonth_panel_all.dta saved

. 
end of do-file

 make.py ended: 2020-05-14 20:59:51
