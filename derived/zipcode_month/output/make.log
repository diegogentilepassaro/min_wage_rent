
 make.py started: 2020-05-13 22:37:20 C:\Users\diegog\Desktop\Diego\min_wage_rent\derived\zipcode_month\code 




Execute:  R CMD BATCH --no-save "./ReshapeMergeZillow_zip.R" ReshapeMergeZillow_zip.Rout

R version 3.6.3 (2020-02-29) -- "Holding the Windsock"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> remove(list = ls())
> source("../../../lib/R/load_packages.R")
> source("../../../lib/R/save_data.R")

Please cite as: 

 Hlavac, Marek (2018). stargazer: Well-Formatted Regression and Summary Statistics Tables.
 R package version 5.2.2. https://CRAN.R-project.org/package=stargazer 


Attaching package: 'dplyr'

The following objects are masked from 'package:stats':

    filter, lag

The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union


Attaching package: 'data.table'

The following objects are masked from 'package:dplyr':

    between, first, last

> 
> load_packages(c('tidyverse', 'data.table', 'tidycensus'))
-- Attaching packages --------------------------------------- tidyverse 1.3.0 --
v ggplot2 3.3.0     v purrr   0.3.3
v tibble  2.1.3     v stringr 1.4.0
v tidyr   1.0.2     v forcats 0.5.0
v readr   1.3.1     
-- Conflicts ------------------------------------------ tidyverse_conflicts() --
x data.table::between() masks dplyr::between()
x dplyr::filter()       masks stats::filter()
x data.table::first()   masks dplyr::first()
x dplyr::lag()          masks stats::lag()
x data.table::last()    masks dplyr::last()
x purrr::transpose()    masks data.table::transpose()
> 
> main <- function(){
+    datadir <- '../../../base/zillow_min_wage/output/'
+    tempdir <- "../temp/"
+    
+    filelist <- reshape_zillow_zip_level(infiles = datadir)
+    merge_zillow(l = filelist, outstub = paste0(tempdir,"zillow_clean.csv"),
+                 key = c('zipcode', 'date'))
+ }
> 
> reshape_zillow_zip_level <- function(infiles){
+    
+    filenames <- list.files(infiles)
+    filenames <- filenames[str_detect(filenames, "Zip_*")]
+    filenames <- filenames[!str_detect(filenames, "_Summary.csv")]
+    
+    value_names <- str_replace_all(filenames, "Zip_", "")
+    value_names <- target_varname(value_names)
+    value_names <- str_replace(value_names, ".csv", "")
+    
+    id_fullvars <- c("zipcode", "city", "county", "msa", "stateabb")
+    
+    zillow_data <- mapply(function(filename, valname){
+             data <- fread(paste0(infiles, filename), stringsAsFactors = F)
+             idvars <- colnames(data)
+             idvars <- idvars[!str_detect(idvars, "[0-9]")]
+             data <- data.table::melt(data,
+                                      id.vars = idvars,
+                                      variable.name = 'date',
+                                       value.name = valname)
+             missing_id_vars <- setdiff(id_fullvars, idvars)
+             data[, (missing_id_vars):= ""]   
+             return(data)},
+       filename = filenames,
+       valname = value_names,
+       SIMPLIFY = F)
+    
+    return(zillow_data)
+ }
> 
> merge_zillow <- function(l, outstub, key){
+ 
+    geovars <- c('zipcode', 'city', 'msa', 'county', 'stateabb')
+    geovar_df <- lapply(l, function(x){
+       state_name <- x[,..geovars]
+       state_name <- unique(state_name)
+    })
+    geovar_df <- rbindlist(geovar_df, use.names = T)
+    geovar_df <- unique(geovar_df)
+    geovar_df <- as.data.frame(geovar_df)
+    geovar_df[geovar_df==""] <- NA
+    geovar_df <- setDT(geovar_df)[, lapply(.SD, function(y) y[!is.na(y)]), by = c('zipcode', 'city', 'msa', 'county')]
+    
+    geovar_df <- geovar_df[, city := str_replace_all(city, "^Town of ", "")][
+       ,city := str_replace_all(city, " Township$", "")]
+    
+    geovar_df <- geovar_df[, lapply(.SD, function(y) y[!is.na(y)]), by = c('zipcode', 'city', 'msa', 'county')]
+    geovar_df <- unique(geovar_df)
+    
+    geovar_df <- geovar_df[,totNA := rowSums(is.na(geovar_df))]
+    
+    geovar_df <- geovar_df[, minNA := min(totNA), by = zipcode][
+       totNA == minNA,]
+    
+    setkey(geovar_df, 'zipcode')
+    geovar_df <- geovar_df[J(unique(zipcode)), mult = "first"]
+    
+    geovar_df[,c('totNA', 'minNA'):=NULL]
+    
+       
+    
+    exclude_geo <- setdiff(c(geovars, 'date'), key)
+ 
+    l <- lapply(l, function(y) y[, (exclude_geo):=NULL])
+    file_combined <-  Reduce(function(x,y,m = mvars){merge(x,y,all = T, by = key)}, l)
+    file_combined <- setDT(geovar_df)[file_combined, on = 'zipcode']
+ 
+    data.table::setorder(file_combined, zipcode, date)
+ 
+    file_combined[,date:=str_replace_all(date, "-", "_")]
+    
+    save_data(file_combined, file = outstub, key = key, nolog = TRUE)
+ }
> 
> target_varname <- function(x){
+    x <- str_replace_all(x, "AllHomes", "SFCC")
+    x <- str_replace_all(x, "SingleFamilyResidence", "SF")
+    x <- str_replace_all(x, "Condominium", "C")
+    x <- str_replace_all(x, "Condominum", "C")
+    x <- str_replace_all(x, "1Bedroom", "1BR")
+    x <- str_replace_all(x, "1bedroom", "1BR")
+    x <- str_replace_all(x, "2Bedroom", "2BR")
+    x <- str_replace_all(x, "2bedroom", "2BR")
+    x <- str_replace_all(x, "3Bedroom", "3BR")
+    x <- str_replace_all(x, "3bedroom", "3BR")
+    x <- str_replace_all(x, "4Bedroom", "4BR")
+    x <- str_replace_all(x, "4bedroom", "4BR")
+    x <- str_replace_all(x, "5BedroomOrMore", "5BR")
+    x <- str_replace_all(x, "CondoCoop", "CC")
+    x <- str_replace_all(x, "Sfr", "SF")
+    x <- str_replace_all(x, "DuplexTriplex", "MFdxtx")
+    x <- str_replace_all(x, "Mfr5PLus", "MF5")
+    x <- str_replace_all(x, "BottomTier", "low_tier")
+    x <- str_replace_all(x, "MiddleTier", "mid_tier")
+    x <- str_replace_all(x, "TopTier", "top_tier")
+    x <- str_replace_all(x, "MultiFamilyResidenceRental", "MF")
+    x <- str_replace_all(x, "SingleFamilyResidenceRental", "SF")
+    x <- str_replace_all(x, "SingleFamilyResidenceRental", "SF")
+    x <- str_replace_all(x, "PlusMultifamily", "MF")
+ 
+    x <- str_replace_all(x, "ListingsWithPriceReductions", "listings_pricedown")
+    x <- str_replace_all(x, "Zhvi", "zhvi")
+    x <- str_replace_all(x, "Zri", "zri")
+    
+       
+    x <- str_replace_all(x, "Listing", "listing")
+    x <- str_replace_all(x, "Median", "med")
+    x <- str_replace_all(x, "Price", "price")
+    x <- str_replace_all(x, "PerSqft", "psqft")
+    x <- str_replace_all(x, "PctOf", "pct")
+    x <- str_replace_all(x, "Reduction", "reduction")
+    x <- str_replace_all(x, "Rental", "rent")
+    x <- str_replace_all(x, "Homes", "homes")
+    x <- str_replace_all(x, "Homes", "homes")
+    return(x)
+ }
> 
> 
> main()
[1] "File '../temp/zillow_clean.csv' saved successfully."
There were 46 warnings (use warnings() to see them)
> 
> proc.time()
   user  system elapsed 
 150.75   47.29   91.85 


Execute:  R CMD BATCH --no-save "./addMinWage.R" addMinWage.Rout

R version 3.6.3 (2020-02-29) -- "Holding the Windsock"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> remove(list = ls())
> source("../../../lib/R/load_packages.R")
> source("../../../lib/R/save_data.R")

Please cite as: 

 Hlavac, Marek (2018). stargazer: Well-Formatted Regression and Summary Statistics Tables.
 R package version 5.2.2. https://CRAN.R-project.org/package=stargazer 


Attaching package: 'dplyr'

The following objects are masked from 'package:stats':

    filter, lag

The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union


Attaching package: 'data.table'

The following objects are masked from 'package:dplyr':

    between, first, last

> 
> load_packages(c('tidyverse', 'data.table', 'matrixStats'))
-- Attaching packages --------------------------------------- tidyverse 1.3.0 --
v ggplot2 3.3.0     v purrr   0.3.3
v tibble  2.1.3     v stringr 1.4.0
v tidyr   1.0.2     v forcats 0.5.0
v readr   1.3.1     
-- Conflicts ------------------------------------------ tidyverse_conflicts() --
x data.table::between() masks dplyr::between()
x dplyr::filter()       masks stats::filter()
x data.table::first()   masks dplyr::first()
x dplyr::lag()          masks stats::lag()
x data.table::last()    masks dplyr::last()
x purrr::transpose()    masks data.table::transpose()

Attaching package: 'matrixStats'

The following object is masked from 'package:dplyr':

    count

> 
> main <- function(){
+    datadir   <- '../../../base/zillow_min_wage/output/'
+    tempdir   <- "../temp/"
+    log_file  <- "../output/data_file_manifest.log"
+    
+    data <- load_data(infile_zillow = paste0(tempdir, 'zillow_clean.csv'), 
+                      infile_statemw = paste0(datadir, 'VZ_state_monthly.csv'), 
+                      infile_localmw = paste0(datadir, 'VZ_substate_monthly.csv'),
+                      infile_place = paste0(datadir, 'places10.csv'),
+                      infile_county = paste0(datadir,'zip_county10.csv'),
+                      infile_zipplace = paste0(datadir,'zip_places10.csv'))
+    
+    data <- assemble_data(data)
+ 
+    data <- create_minwage_eventvars(data)
+ 
+    save_data(df = data, key = c('zipcode', 'date'),
+              filename = paste0(tempdir, 'data_clean.csv'), nolog = TRUE)
+ }
> 
> load_data <- function(infile_zillow, infile_statemw, infile_localmw, infile_place,infile_county, infile_zipplace){
+    dfZillow <- fread(infile_zillow)
+    
+    dfZillow[, zipcode := str_pad(as.character(zipcode), 5, pad = 0)]
+    dfZillow[,date := as.Date(paste0(date, "_01"), "%Y_%m_%d")]
+ 
+    dfStatemw <- fread(infile_statemw)
+    setnames(dfStatemw, old = c('monthly_date', 'mw'), new = c('date', 'state_mw'))
+    dfStatemw[,date := str_replace_all(date, "m", "_")][,date:= as.Date(paste0(date, "_01"), "%Y_%m_%d")]
+    dfStatemw[, statefips := str_pad(as.character(statefips), 2, pad = 0)]
+ 
+    dfLocalmw <- fread(infile_localmw)
+    setnames(dfLocalmw, old = c('monthly_date'), new = c('date'))
+    dfLocalmw[,date := str_replace_all(date, "m", "_")][,date:= as.Date(paste0(date, "_01"), "%Y_%m_%d")]
+    dfLocalmw[, statefips := str_pad(as.character(statefips), 2, pad = 0)]
+    dfLocalmw[,iscounty:=str_extract_all(locality, " County")][,iscounty:= ifelse(iscounty==" County", 1, 0)]
+ 
+    mw_vars <- names(dfLocalmw)
+    mw_vars <- mw_vars[grepl("mw", mw_vars)]
+    
+    county_mw_vars <- paste0("county_", mw_vars)
+    local_mw_vars <- paste0("local_", mw_vars)
+    
+    dfCountymw <- dfLocalmw[iscounty==1,][,iscounty:=NULL]
+    setnames(dfCountymw, old = c('locality', mw_vars), 
+                         new = c('county', county_mw_vars))
+    
+    dfLocalmw <- dfLocalmw[iscounty==0,][,iscounty:=NULL]
+    setnames(dfLocalmw, old = c('locality', mw_vars), 
+                        new = c('placename', local_mw_vars))
+    
+    usps_zip_to_zcta <- readxl::read_excel('../../../drive/raw_data/usd_mapper_Xwalk/zip_to_zcta_2019.xlsx')
+    old_vars <- c('ZIP_CODE', 'ZCTA')
+    new_vars <- c('zipcode', 'zcta')
+    setnames(usps_zip_to_zcta, old = old_vars, new = new_vars)
+    usps_zip_to_zcta <- usps_zip_to_zcta[,c("zipcode", 'zcta')]
+    
+    place10 <- fread(infile_place)
+    setnames(place10, old = c("state"), new = "statefips")
+    place10[, statefips := str_pad(as.character(statefips), 2, pad = 0)]
+    place10[, place_code := str_pad(as.character(place_code), 5, pad = 0)]
+    # place10 <- place10[placetype=="city",]
+ 
+    zip_places10 <- fread(infile_zipplace, colClasses = c("place_code"="character", "zcta"="character",
+                                                          "statefips"="character"))
+    setorder(zip_places10, zcta)
+    zip_places10 <- place10[zip_places10, on = c('statefips', 'place_code')]
+    zip_places10 <- zip_places10[pct_zip_houses_inplace>=50,]
+    zip_places10 <- left_join(zip_places10, usps_zip_to_zcta, by=c('zcta'))
+    
+    
+    zip_county10 <- fread(infile_county, colClasses = c("zcta"="character", "statefips"="character",
+                                                        "county_code"="character", "countyfips"="character"))
+    setorder(zip_county10, zcta)
+    zip_county10 <- zip_county10[pct_zip_houses_incounty>=50,]
+    zip_county10[, ind := max(pct_zip_pop_incounty, na.rm = T), by = 'zcta'][, ind:= ifelse(ind==pct_zip_pop_incounty, 1, 0)]
+    zip_county10 <- zip_county10[ind==1,]
+    zip_county10 <- zip_county10[, ind:=NULL]
+    zip_county10 <- left_join(zip_county10, usps_zip_to_zcta, by=c('zcta'))
+    
+    return(list('df_zillow'    = dfZillow,     'df_state_mw' = dfStatemw,
+                'df_county_mw' = dfCountymw,   'df_local_mw' = dfLocalmw,
+                'zip_county'   = zip_county10, 'zip_place'   = zip_places10))
+ }
> 
> assemble_data <- function(data) {
+    DF <- data[['df_zillow']]
+    DF <- left_join(DF, data[['df_state_mw']], by=c('stateabb', 'date'))
+    DF <- left_join(DF, data[['zip_county']], by=c('statefips', 'stateabb', 'zipcode'))
+    DF <- subset(DF, select = -c(statename, county.x, county_code))
+    setnames(DF, old = c("county.y"), new = "county")
+    DF <- left_join(DF, data[['zip_place']], by=c('statefips', 'stateabb', 'zipcode'))
+    DF <- subset(DF, select = -c(zcta.x))
+    setnames(DF, old = c("zcta.y"), new = "zcta")
+    DF <- left_join(DF, data[['df_county_mw']], by=c('statefips', 'stateabb', 'county', 'date'))
+    DF <- subset(DF, select = -c(statename))
+    DF <- left_join(DF, data[['df_local_mw']], by=c('statefips', 'stateabb', 'placename', 'date'))
+    DF <- subset(DF, select = -c(statename))
+    
+    colorder1 <- c('date', 'zipcode', 'zcta', 'place_code', 'placename', 'placetype', 
+                   'city', 'msa', 'countyfips', 'county', 'statefips', 'stateabb')
+    colorder2 <- setdiff(colorder1, names(DF))
+    setcolorder(DF, c(colorder1,colorder2))
+    return(as.data.table(DF))
+ }
> 
> create_minwage_eventvars <- function(x){
+    
+    mw_vars <- names(x)
+    mw_vars <- mw_vars[grepl("mw", mw_vars)]
+    mw_vars <- mw_vars[!grepl("abovestate", mw_vars)]
+    
+    mw_vars_regular <- mw_vars[!grepl("smallbusiness", mw_vars)]
+    
+    mw_vars_smallb <- c(mw_vars[grepl('smallbusiness', mw_vars)], 
+                        'fed_mw', 'state_mw') 
+ 
+    
+    x[ , actual_mw := 
+         rowMaxs(as.matrix(x[,..mw_vars_regular]), na.rm = T)][ , actual_mw:= ifelse(actual_mw == -Inf, 
+                                                                                         NA, actual_mw)]
+    x[ , actual_mw_smallbusiness := 
+         rowMaxs(as.matrix(x[,..mw_vars_smallb]), na.rm = T)][ ,actual_mw_smallbusiness:= ifelse(actual_mw_smallbusiness == -Inf, 
+                                                                                         NA, actual_mw_smallbusiness)]
+    
+    setorderv(x, cols = c('zipcode', 'date'))
+    x[,Dactual_mw := actual_mw - shift(actual_mw), by = 'zipcode'][,mw_event := ifelse(Dactual_mw > 0 , 1, 0)]
+    x[,Dactual_mw_smallbusiness := actual_mw_smallbusiness - shift(actual_mw_smallbusiness), by = 'zipcode'][,mw_event_smallbusiness := ifelse(Dactual_mw_smallbusiness > 0 , 1, 0)]
+ 
+    return(x)
+ }
> 
> main()
[1] "File '../temp/data_clean.csv' saved successfully."
Warning messages:
1: In `[.data.table`(x, , ..mw_vars_regular) :
  Both 'mw_vars_regular' and '..mw_vars_regular' exist in calling scope. Please remove the '..mw_vars_regular' variable in calling scope for clarity.
2: In `[.data.table`(x, , ..mw_vars_smallb) :
  Both 'mw_vars_smallb' and '..mw_vars_smallb' exist in calling scope. Please remove the '..mw_vars_smallb' variable in calling scope for clarity.
> 
> proc.time()
   user  system elapsed 
 210.53   25.42  181.03 


Execute:  StataMP-64 /e do "./clean_gen_label.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./clean_gen_label.do 

. set more off

. clear all

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/mental_coupons/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/mental_coupons/ado"

. 
. program main 
  1.     import delim "../temp/data_clean.csv", delim(",")
  2. 
.     clean_vars
  3.     gen_vars
  4. 
.     compress
  5.     save_data "../temp/zipcode_yearmonth_panel.dta", key(zipcode year_mont
> h) ///
>         log(none) replace
  6. end  

. 
. program clean_vars
  1.     *clean date
.     gen     year_month = date(date, "YMD")
  2.     gen calendar_month = month(year_month)
  3.     drop date
  4.     replace year_month = mofd(year_month)
  5.     format  year_month %tm
  6. 
.     drop if missing(year_month)
  7.     drop if missing(zipcode)
  8.         
.         replace dactual_mw = round(dactual_mw, 0.01)
  9. end

. 
. program gen_vars
  1.     bysort zipcode (year_month): gen trend = _n
  2. 
.     local mw_type `" "" "_smallbusiness" "'
  3.     foreach var_type in `mw_type' {
  4.         bysort zipcode (year_month): gen dpct_actual_mw`var_type' = dactua
> l_mw`var_type'/actual_mw`var_type'[_n-1]
  5. 
.         gen event_month`var_type' = mw_event`var_type' == 1
  6.         replace event_month`var_type' = 1 if year_month != year_month[_n-1
> ] + 1  // zipcode changes
  7. 
.         gen event_month`var_type'_id = sum(event_month`var_type')
  8. 
.         bysort event_month`var_type'_id: gen months_since`var_type' = _n - 1
  9.         bysort event_month`var_type'_id: gen months_until`var_type' = _N -
>  months_since`var_type'
 10. 
.         bysort event_month`var_type'_id: replace months_until`var_type' = 0 i
> f _N == months_until`var_type'
 11. 
.         drop event_month`var_type'_id event_month`var_type'        
 12.     }
 13.         
.     gen sal_mw_event = (dactual_mw >= 0.5)
 14.         gen mw_event025 = (dactual_mw >= 0.25)
 15.         gen mw_event075 = (dactual_mw >= 0.75)
 16. end

. 
. main
(72 vars, 8,799,516 obs)
(7,005 missing values generated)
(7,005 missing values generated)
(8,792,511 real changes made)
(7,005 observations deleted)
(0 observations deleted)
(166,838 real changes made)
(91,793 missing values generated)
(30,687 real changes made)
(302500 real changes made)
(91,793 missing values generated)
(30,687 real changes made)
(302488 real changes made)
  variable year_month was float now int
  variable calendar_month was float now byte
  variable trend was float now int
  variable months_since was float now int
  variable months_until was float now int
  variable months_since_smallbusiness was float now int
  variable months_until_smallbusiness was float now int
  variable sal_mw_event was float now byte
  variable mw_event025 was float now byte
  variable mw_event075 was float now byte
  (211,020,264 bytes saved)
(data now sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/zipcode_yearmonth_panel.dta
Key: zipcode year_month
===============================================================================
> ===================
  8792511:83(50507):1214105594:540193576

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |  8,792,511    48754.23    27453.74        501      99929
  year_month |  8,792,511    578.0919    82.85671        435        721
        zcta |  4,070,272    55407.32    27551.92       1001      99929
  place_code |  4,070,272    41803.02    23819.56        100      89300
   placename |          0
-------------+---------------------------------------------------------
   placetype |          0
        city |          0
         msa |          0
  countyfips |  8,669,215    29866.56    15229.81       1001      56045
      county |          0
-------------+---------------------------------------------------------
   statefips |  8,731,405    29.79272    15.22646          1         56
    stateabb |          0
medli~e_sfcc |    919,945    296431.4    256952.6      12000    6995000
m~e_low_tier |    237,537    151736.7    94283.89      11750     939935
m~e_top_tier |    481,521    463979.4    350800.1     112450    7295000
-------------+---------------------------------------------------------
medli~t_sfcc |  1,084,523    165.6084    135.7259   11.57113   2802.347
m~t_low_tier |    296,286    121.5329    83.33472   11.50727   1672.388
m~t_top_tier |    516,368    206.6456    177.9822   31.52173   2799.423
medren~e_1br |     69,440    1607.937     670.499        350       5195
medren~e_2br |    106,799    1766.741    879.0102        475      19500
-------------+---------------------------------------------------------
medren~e_3br |     76,539    1928.871     1459.31        455      40000
medren~e_4br |     10,310    3116.339    5197.041        435      50000
medren~e_5br |        868     5715.09    7571.906       1250      50000
medre~e_sfcc |    192,932    1768.679    1527.426        500      50000
medrent~e_cc |     34,676     2105.65    938.7924        700       8975
-------------+---------------------------------------------------------
med~e_mfdxtx |     26,880    1979.011    832.9655        375       6646
m~e_mfr5plus |    175,096     1554.04    697.8883        375      20000
medrent~e_sf |    142,386    1778.371    1931.017        500      50000
med~e_studio |     28,999    1670.905    1365.808        300      50000
medren~t_1br |     55,424    2.191226    .9194792   .6388889   7.164352
-------------+---------------------------------------------------------
medren~t_2br |     92,792    1.682865     .803698   .5015197   12.55461
medren~t_3br |     67,139    1.233209    .8117302   .5060225       17.5
medren~t_4br |      8,370     1.49865    2.559936   .5492424   21.85141
medren~t_5br |        537    7.753782    7.031498   .3727683         22
medre~t_sfcc |    197,978    1.303812    1.033133   .1091193   23.96932
-------------+---------------------------------------------------------
medrent~t_cc |     30,608    2.170225    1.168605   .5835432   12.92755
med~t_mfdxtx |     11,949    2.451649    1.286775   .3627695   6.936797
m~t_mfr5plus |    146,858    1.736677     .849114   .3150482   12.55435
medrent~t_sf |    144,593       1.145    1.002039   .1039069   24.48466
med~t_studio |     23,491    1.954625    1.574804   .4288971   7.347833
-------------+---------------------------------------------------------
    zhvi_2br |  5,565,556    146003.9    133146.3       7100    3893638
   zhvi_sfcc |  6,699,435    183337.3    176086.7       8565    6648479
      zhvi_c |  2,325,780    199634.7      160856      13592    3848327
     zhvi_sf |  6,686,415    191190.8    212985.5       8565    8737684
  zri_sfccmf |  1,347,720    1356.072    875.9493        368      83894
-------------+---------------------------------------------------------
      zri_mf |    140,035    1518.065    639.5489        420      18349
      fed_mw |  8,731,405    6.133715    1.054042       4.25       7.25
    state_mw |  8,731,405    6.567077    1.465736       4.25         14
pop10_zip_~y |  8,669,215    10139.74    13964.11          0     113916
houses10_z~y |  8,669,215    4328.356    5661.727          1      47617
-------------+---------------------------------------------------------
pct_zip_po~y |  8,669,215    96.09368    9.709425          0        100
pct_zip_ho~y |  8,669,215    96.04085    9.580142         50        100
  placepop10 |  4,070,272    241329.9    998106.5         16    8175133
landarea_s~m |  4,070,272    126.6059    325.0486          0       7434
pop10_zip_~e |  4,070,272    12798.36    15072.28          0     113916
-------------+---------------------------------------------------------
houses10_z~e |  4,070,272    5410.332     6085.59          1      47617
pct_zip_po~e |  4,070,272    80.26835    18.30725          0        100
pct_zip_ho~e |  4,070,272    80.56913    17.65957         50        100
   county_mw |    154,096    8.233972    1.887734       5.15      14.25
county_mw_~s |    154,096    8.162659    1.731204       5.15      13.25
-------------+---------------------------------------------------------
county_abo~w |    154,096    .1989539    .3992146          0          1
county_abo~e |    154,096    .1668311    .3728262          0          1
    local_mw |     94,464    8.780504    2.126039       5.15      16.09
local_mw_s~s |     94,464    8.679119    1.940648       5.15      16.09
local_abov~w |     94,464    .2929582    .4551218          0          1
-------------+---------------------------------------------------------
local_abov~s |     94,464    .2618987    .4396701          0          1
   actual_mw |  8,731,405    6.575721    1.489869       4.25      16.09
actual_mw_~s |  8,731,405     6.57402    1.483117       4.25      16.09
  dactual_mw |  8,700,718    .0158818    .1060128      -3.59       5.81
    mw_event |  8,700,718    .0312403    .1739665          0          1
-------------+---------------------------------------------------------
dactual_mw~s |  8,700,718    .0158332    .1055986      -3.59          6
mw_event_s~s |  8,700,718    .0312389    .1739628          0          1
calendar_m~h |  8,792,511    6.512318    3.451861          1         12
       trend |  8,792,511    143.9015    82.85817          1        287
dpct_actua~w |  8,700,718    .0025944    .0175683  -.2821782   .6504854
-------------+---------------------------------------------------------
months_since |  8,792,511    37.80943    35.76716          0        145
months_until |  8,792,511    37.80943    35.76716          0        145
dpct_actua~s |  8,700,718    .0025906    .0175507  -.2821782   .6666667
months_sin~s |  8,792,511    37.81098    35.76615          0        145
months_unt~s |  8,792,511    37.81098    35.76615          0        145
-------------+---------------------------------------------------------
sal_mw_event |  8,792,511    .0269045    .1618043          0          1
 mw_event025 |  8,792,511    .0347101    .1830446          0          1
 mw_event075 |  8,792,511     .016299    .1266228          0          1




(note: file ../temp/zipcode_yearmonth_panel.dta not found)
file ../temp/zipcode_yearmonth_panel.dta saved

. 
end of do-file


Execute:  StataMP-64 /e do "./create_final_panels.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./create_final_panels.do 

. set more off

. clear all

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/stata/mental_coupons/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/stata/mental_coupons/ado"

. 
. program main
  1.         foreach var in medrentprice_sfcc medrentprice_mfr5plus medrentpric
> e_2br ///
>             medrentpricepsqft_sfcc medrentpricepsqft_mfr5plus medrentpricepsq
> ft_2br {
  2.             create_baseline_panel, var(`var') start_date(01jan2013) end_da
> te(12dec2019)
  3.         }
  4.         use "../temp/baseline_medrentprice_sfcc.dta", clear
  5.         foreach var in medrentprice_mfr5plus medrentprice_2br ///
>             medrentpricepsqft_sfcc medrentpricepsqft_mfr5plus medrentpricepsq
> ft_2br {
  6.                 merge 1:1 zipcode year_month using "../temp/baseline_`var'
> .dta", ///
>                     nogen keep(1 3)
  7.                 }
  8.         save_data "../../../drive/derived_large/output/baseline_rent_panel
> .dta", key(zipcode year_month) replace
  9. 
.         foreach var in medlistingprice_sfcc medlistingprice_low_tier ///
>             medlistingprice_top_tier medlistingpricepsqft_sfcc ///
>                 medlistingpricepsqft_low_tier medlistingpricepsqft_top_tier {
 10.             create_baseline_panel, var(`var') start_date(01jan2010) end_da
> te(12dec2019)
 11.         }
 12.         use "../temp/baseline_medlistingpricepsqft_sfcc.dta", clear
 13.         foreach var in medlistingprice_sfcc medlistingprice_low_tier ///
>             medlistingprice_top_tier ///
>                 medlistingpricepsqft_low_tier medlistingpricepsqft_top_tier {
 14.                 merge 1:1 zipcode year_month using "../temp/baseline_`var'
> .dta", ///
>                     nogen keep(1 3)
 15.                 }
 16.         save_data "../../../drive/derived_large/output/baseline_listing_pa
> nel.dta", key(zipcode year_month) replace
 17. 
.         use "../temp/zipcode_yearmonth_panel.dta", clear
 18.         save_data "../../../drive/derived_large/output/zipcode_yearmonth_p
> anel_all.dta", key(zipcode year_month) replace
 19. end

. 
. program create_baseline_panel
  1.     syntax, var(str) start_date(str) end_date(str)
  2.         
.     use zipcode place_code placetype statefips msa countyfips county ///
>             year_month calendar_month `var' ///
>             actual_mw dactual_mw mw_event ///
>                 local_abovestate_mw county_abovestate_mw local_mw ///
>                 county_mw state_mw fed_mw ///
>                 sal_mw_event mw_event025 mw_event075 ///
>                 using "../temp/zipcode_yearmonth_panel.dta", clear
  3.                 
.         keep if (year_month >= `=mofd(td(`start_date'))' & year_month <= `=mo
> fd(td(`end_date'))')
  4. 
.         preserve
  5.         keep if year_month == `=mofd(td(`start_date'))'
  6.         keep if !missing(`var')
  7.         keep zipcode
  8.         save_data "../temp/`var'_nonmiss_zipcodes.dta", replace ///
>             key(zipcode) log(none)
  9.         restore
 10.         
.         merge m:1 zipcode using "../temp/`var'_nonmiss_zipcodes.dta", ///
>             keep(3) nogen
 11.                 
.         xtset zipcode year_month
 12.         assert r(balanced) == "strongly balanced"
 13.         
.         save_data "../temp/baseline_`var'.dta", key(zipcode year_month) ///
>             replace log(none)
 14. end 

. 
. main
(6,214,803 observations deleted)
(2,547,021 observations deleted)
(29,663 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentprice_sfcc_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  1024:1(103289):3121203272:816638227

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      1,024    49322.44    29170.24       2113      98513




(note: file ../temp/medrentprice_sfcc_nonmiss_zipcodes.dta not found)
file ../temp/medrentprice_sfcc_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            86,016  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2013m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable placetype was str12 now str9
  variable county was str28 now str22
  (774,144 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentprice_sfcc.dta
Key: zipcode year_month
===============================================================================
> ===================
  86016:22(85135):1103110388:1425706312

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |     86,016    49322.44    29156.16       2113      98513
  year_month |     86,016       677.5    24.24713        636        719
  place_code |     70,896    40993.51    22595.82        410      87240
   placetype |          0
         msa |          0
-------------+---------------------------------------------------------
  countyfips |     85,764     22590.6     15821.4       1031      53067
      county |          0
   statefips |     86,016        22.5    15.76435          1         53
medrentpri~c |     86,016     1659.89    696.6144      597.5       6500
      fed_mw |     86,016        7.25           0       7.25       7.25
-------------+---------------------------------------------------------
    state_mw |     86,016    8.280412    1.188596       7.25         14
   county_mw |      4,200    9.506893    1.670937       7.25      14.25
county_abo~w |      4,200    .4445238     .496972          0          1
    local_mw |      4,116    9.883166    1.765644       7.79         16
local_abov~w |      4,116    .4560253     .498123          0          1
-------------+---------------------------------------------------------
   actual_mw |     86,016    8.349123    1.296519       7.25         16
  dactual_mw |     86,016    .0196327    .1346332      -3.59       2.21
    mw_event |     86,016    .0425502     .201842          0          1
calendar_m~h |     86,016         6.5    3.452073          1         12
sal_mw_event |     86,016    .0190662    .1367586          0          1
-------------+---------------------------------------------------------
 mw_event025 |     86,016     .021403    .1447244          0          1
 mw_event075 |     86,016      .01137    .1060228          0          1




(note: file ../temp/baseline_medrentprice_sfcc.dta not found)
file ../temp/baseline_medrentprice_sfcc.dta saved
(6,214,803 observations deleted)
(2,547,021 observations deleted)
(29,959 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentprice_mfr5plus_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  728:1(103289):119031816:2122340747

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |        728    42728.75    33368.65       1604      98661




(note: file ../temp/medrentprice_mfr5plus_nonmiss_zipcodes.dta not found)
file ../temp/medrentprice_mfr5plus_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            61,152  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2013m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable placetype was str12 now str9
  variable county was str28 now str22
  (550,368 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentprice_mfr5plus.dta
Key: zipcode year_month
===============================================================================
> ===================
  61152:22(113989):508279986:2660388243

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |     61,152    42728.75       33346       1604      98661
  year_month |     61,152       677.5    24.24719        636        719
  place_code |     56,196    40953.32    21848.94        410      84000
   placetype |          0
         msa |          0
-------------+---------------------------------------------------------
  countyfips |     60,984    24412.65    15165.25       1073      53061
      county |          0
   statefips |     61,152    24.31456    15.11575          1         53
medrentpri~s |     61,152    1707.971    687.3289        375       6500
      fed_mw |     61,152        7.25           0       7.25       7.25
-------------+---------------------------------------------------------
    state_mw |     61,152    8.755921    1.367236       7.25         14
   county_mw |      8,148    9.655965    1.759785       7.25      14.25
county_abo~w |      8,148    .4302896     .495147          0          1
    local_mw |      9,156    10.15272    1.971387       7.25         16
local_abov~w |      9,156    .4441896    .4969026          0          1
-------------+---------------------------------------------------------
   actual_mw |     61,152    8.932646    1.590467       7.25         16
  dactual_mw |     61,152     .033383    .1783016      -3.59       2.21
    mw_event |     61,152    .0553375    .2286397          0          1
calendar_m~h |     61,152         6.5    3.452081          1         12
sal_mw_event |     61,152    .0355835    .1852508          0          1
-------------+---------------------------------------------------------
 mw_event025 |     61,152    .0396553    .1951496          0          1
 mw_event075 |     61,152    .0222233    .1474103          0          1




(note: file ../temp/baseline_medrentprice_mfr5plus.dta not found)
file ../temp/baseline_medrentprice_mfr5plus.dta saved
(6,214,803 observations deleted)
(2,547,021 observations deleted)
(30,306 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentprice_2br_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  381:1(103289):3607919483:2652937859

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |        381     39048.8    31461.26       1604      98052




(note: file ../temp/medrentprice_2br_nonmiss_zipcodes.dta not found)
file ../temp/medrentprice_2br_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            32,004  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2013m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable placetype was str12 now str9
  variable msa was str42 now str37
  variable county was str28 now str22
  (448,056 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentprice_2br.dta
Key: zipcode year_month
===============================================================================
> ===================
  32004:22(63331):3226486615:1474106593

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |     32,004     39048.8    31420.43       1604      98052
  year_month |     32,004       677.5    24.24737        636        719
  place_code |     29,484    39815.67    21727.39        947      83910
   placetype |          0
         msa |          0
-------------+---------------------------------------------------------
  countyfips |     31,836    25945.31    14982.46       4013      53061
      county |          0
   statefips |     32,004    25.81627    14.92095          4         53
medrentpri~r |     32,004    1991.894     950.388        495     7647.5
      fed_mw |     32,004        7.25           0       7.25       7.25
-------------+---------------------------------------------------------
    state_mw |     32,004    8.635801    1.336614       7.25         14
   county_mw |      3,528    9.543934    1.685989       7.25      14.25
county_abo~w |      3,528    .4155329    .4928835          0          1
    local_mw |      4,452      9.9835    1.832682       7.78      15.59
local_abov~w |      4,452    .4510332    .4976524          0          1
-------------+---------------------------------------------------------
   actual_mw |     32,004    8.797597    1.518321       7.25      15.59
  dactual_mw |     32,004    .0301259    .1710405      -3.59       2.21
    mw_event |     32,004    .0529934    .2240238          0          1
calendar_m~h |     32,004         6.5    3.452106          1         12
sal_mw_event |     32,004    .0329646    .1785468          0          1
-------------+---------------------------------------------------------
 mw_event025 |     32,004    .0364329    .1873678          0          1
 mw_event075 |     32,004    .0204349    .1414849          0          1




(note: file ../temp/baseline_medrentprice_2br.dta not found)
file ../temp/baseline_medrentprice_2br.dta saved
(6,214,803 observations deleted)
(2,547,021 observations deleted)
(29,536 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentpricepsqft_sfcc_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  1151:1(103289):340205471:1753589252

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      1,151    52294.28     28806.9       2109      98513




(note: file ../temp/medrentpricepsqft_sfcc_nonmiss_zipcodes.dta not found)
file ../temp/medrentpricepsqft_sfcc_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            96,684  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2013m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable placetype was str12 now str9
  variable county was str28 now str22
  (870,156 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentpricepsqft_sfcc.dta
Key: zipcode year_month
===============================================================================
> ===================
  96684:22(50537):432631056:2407326718

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |     96,684    52294.28    28794.53       2109      98513
  year_month |     96,684       677.5    24.24712        636        719
  place_code |     78,204     41092.3    23066.25        394      87240
   placetype |          0
         msa |          0
-------------+---------------------------------------------------------
  countyfips |     96,348    22205.59    16409.41       1031      53067
      county |          0
   statefips |     96,684    22.13553    16.35754          1         53
medrentpri~c |     96,684    1.184787    .6469399   .4310905   5.586398
      fed_mw |     96,684        7.25           0       7.25       7.25
-------------+---------------------------------------------------------
    state_mw |     96,684    8.235963    1.201846       7.25         14
   county_mw |      4,200    10.00918    1.966905       7.25      14.25
county_abo~w |      4,200    .5002381    .5000595          0          1
    local_mw |      4,956    10.24648    1.986805        7.5         16
local_abov~w |      4,956    .4552058    .4980397          0          1
-------------+---------------------------------------------------------
   actual_mw |     96,684    8.294309    1.325804       7.25         16
  dactual_mw |     96,684    .0177684    .1286313      -3.59       2.21
    mw_event |     96,684    .0403997    .1968957          0          1
calendar_m~h |     96,684         6.5     3.45207          1         12
sal_mw_event |     96,684    .0160937    .1258365          0          1
-------------+---------------------------------------------------------
 mw_event025 |     96,684    .0178313    .1323386          0          1
 mw_event075 |     96,684    .0104774    .1018222          0          1




(note: file ../temp/baseline_medrentpricepsqft_sfcc.dta not found)
file ../temp/baseline_medrentpricepsqft_sfcc.dta saved
(6,214,803 observations deleted)
(2,547,021 observations deleted)
(30,169 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentpricepsqft_mfr5plus_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  518:1(103289):3260540518:1823476012

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |        518    54489.36    33011.27       1702      98661




(note: file ../temp/medrentpricepsqft_mfr5plus_nonmiss_zipcodes.dta not found)
file ../temp/medrentpricepsqft_mfr5plus_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            43,512  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2013m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable placetype was str12 now str9
  variable county was str28 now str22
  (391,608 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentpricepsqft_mfr5plus.dta
Key: zipcode year_month
===============================================================================
> ===================
  43512:22(117951):32972158:1876932950

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |     43,512    54489.36    32979.77       1702      98661
  year_month |     43,512       677.5    24.24727        636        719
  place_code |     40,068     40797.9    22607.19        394      84410
   placetype |          0
         msa |          0
-------------+---------------------------------------------------------
  countyfips |     43,428    21231.36    16598.85       4013      53061
      county |          0
   statefips |     43,512    21.12548    16.54012          4         53
medrentpri~s |     43,512    1.880735    .8661715   .5106889   6.213753
      fed_mw |     43,512        7.25           0       7.25       7.25
-------------+---------------------------------------------------------
    state_mw |     43,512    8.701116     1.39933       7.25         14
   county_mw |      5,208    10.10027    1.980562       7.25      14.25
county_abo~w |      5,208    .4477727    .4973126          0          1
    local_mw |      8,484    10.50174    2.106861       7.25         16
local_abov~w |      8,484    .4825554     .499725          0          1
-------------+---------------------------------------------------------
   actual_mw |     43,512    8.899109    1.726098       7.25         16
  dactual_mw |     43,512    .0290357    .1774211      -3.59       3.25
    mw_event |     43,512    .0519167    .2218614          0          1
calendar_m~h |     43,512         6.5    3.452092          1         12
sal_mw_event |     43,512    .0279003    .1646892          0          1
-------------+---------------------------------------------------------
 mw_event025 |     43,512    .0298538    .1701859          0          1
 mw_event075 |     43,512    .0208678    .1429434          0          1




(note: file ../temp/baseline_medrentpricepsqft_mfr5plus.dta not found)
file ../temp/baseline_medrentpricepsqft_mfr5plus.dta saved
(6,214,803 observations deleted)
(2,547,021 observations deleted)
(30,429 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medrentpricepsqft_2br_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  258:1(103289):1514296725:2477197377

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |        258    49265.71    31420.04       1970      98121




(note: file ../temp/medrentpricepsqft_2br_nonmiss_zipcodes.dta not found)
file ../temp/medrentpricepsqft_2br_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            21,672  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2013m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable placetype was str12 now str9
  variable msa was str42 now str37
  variable county was str28 now str21
  (325,080 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medrentpricepsqft_2br.dta
Key: zipcode year_month
===============================================================================
> ===================
  21672:22(100967):1716871768:2354906001

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |     21,672    49265.71    31359.81       1970      98121
  year_month |     21,672       677.5    24.24755        636        719
  place_code |     20,076    38553.93    22200.18        947      84410
   placetype |          0
         msa |          0
-------------+---------------------------------------------------------
  countyfips |     21,672    21568.28    15977.75       4013      53061
      county |          0
   statefips |     21,672     21.4845     15.9137          4         53
medrentpri~r |     21,672    1.852358    .8381673    .548112          6
      fed_mw |     21,672        7.25           0       7.25       7.25
-------------+---------------------------------------------------------
    state_mw |     21,672    8.569138    1.348707       7.25         14
   county_mw |      2,184    9.897871    1.900133       7.25      14.25
county_abo~w |      2,184    .4381868     .496278          0          1
    local_mw |      3,864    10.31449    2.046474       7.78         16
local_abov~w |      3,864    .4456522    .4971019          0          1
-------------+---------------------------------------------------------
   actual_mw |     21,672    8.742098    1.622072       7.25         16
  dactual_mw |     21,672    .0246779    .1639103      -3.59       2.21
    mw_event |     21,672    .0502953    .2185587          0          1
calendar_m~h |     21,672         6.5    3.452132          1         12
sal_mw_event |     21,672    .0232558    .1507184          0          1
-------------+---------------------------------------------------------
 mw_event025 |     21,672    .0241787    .1536071          0          1
 mw_event075 |     21,672    .0185493    .1349298          0          1




(note: file ../temp/baseline_medrentpricepsqft_2br.dta not found)
file ../temp/baseline_medrentpricepsqft_2br.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                        58,212
        from master                    58,212  
        from using                          0  

    matched                            27,804  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                        67,032
        from master                    67,032  
        from using                          0  

    matched                            18,984  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                        12,684
        from master                    12,684  
        from using                          0  

    matched                            73,332  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                        66,192
        from master                    66,192  
        from using                          0  

    matched                            19,824  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                        72,408
        from master                    72,408  
        from using                          0  

    matched                            13,608  
    -----------------------------------------
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../../../drive/derived_large/output/baseline_rent_panel.dta
Key: zipcode year_month
===============================================================================
> ===================
  86016:27(62984):1169720644:2371503381

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |     86,016    49322.44    29156.16       2113      98513
  year_month |     86,016       677.5    24.24713        636        719
  place_code |     70,896    40993.51    22595.82        410      87240
   placetype |          0
         msa |          0
-------------+---------------------------------------------------------
  countyfips |     85,764     22590.6     15821.4       1031      53067
      county |          0
   statefips |     86,016        22.5    15.76435          1         53
medre~e_sfcc |     86,016     1659.89    696.6144      597.5       6500
      fed_mw |     86,016        7.25           0       7.25       7.25
-------------+---------------------------------------------------------
    state_mw |     86,016    8.280412    1.188596       7.25         14
   county_mw |      4,200    9.506893    1.670937       7.25      14.25
county_abo~w |      4,200    .4445238     .496972          0          1
    local_mw |      4,116    9.883166    1.765644       7.79         16
local_abov~w |      4,116    .4560253     .498123          0          1
-------------+---------------------------------------------------------
   actual_mw |     86,016    8.349123    1.296519       7.25         16
  dactual_mw |     86,016    .0196327    .1346332      -3.59       2.21
    mw_event |     86,016    .0425502     .201842          0          1
calendar_m~h |     86,016         6.5    3.452073          1         12
sal_mw_event |     86,016    .0190662    .1367586          0          1
-------------+---------------------------------------------------------
 mw_event025 |     86,016     .021403    .1447244          0          1
 mw_event075 |     86,016      .01137    .1060228          0          1
m~e_mfr5plus |     27,804    1784.923    766.1481        450     5297.5
medren~e_2br |     18,984    2059.216    1050.853        495       6800
medre~t_sfcc |     73,332    1.125194    .6110304   .4310905   5.586398
-------------+---------------------------------------------------------
m~t_mfr5plus |     19,824    1.770107    .8902973   .5106889   6.213753
medren~t_2br |     13,608    1.822579    .8646395    .548112          6




file ../../../drive/derived_large/output/baseline_rent_panel.dta saved
(5,110,436 observations deleted)
(3,651,438 observations deleted)
(25,124 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingprice_sfcc_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  5513:1(103289):2505508101:1297744691

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      5,513    47792.84    29941.55       1001      99801




(note: file ../temp/medlistingprice_sfcc_nonmiss_zipcodes.dta not found)
file ../temp/medlistingprice_sfcc_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           661,560  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingprice_sfcc.dta
Key: zipcode year_month
===============================================================================
> ===================
  661560:22(47658):1410055907:3658056953

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    661,560    47792.84    29938.85       1001      99801
  year_month |    661,560       659.5    34.63984        600        719
  place_code |    442,320    42411.61    23708.73        100      88940
   placetype |          0
         msa |          0
-------------+---------------------------------------------------------
  countyfips |    659,880    28455.84    15900.87       1001      56041
      county |          0
   statefips |    661,560    28.37185    15.87769          1         56
medlisting~c |    661,560    278626.9    202823.8      25000    4395000
      fed_mw |    661,560        7.25           0       7.25       7.25
-------------+---------------------------------------------------------
    state_mw |    661,560    8.015723     1.09148       7.25         14
   county_mw |     44,280    9.122669    1.762097       7.25      14.25
county_abo~w |     44,280    .3152891    .4646361          0          1
    local_mw |     21,120    9.548239    1.896517       7.25         16
local_abov~w |     21,120     .367661    .4821798          0          1
-------------+---------------------------------------------------------
   actual_mw |    661,560    8.056347    1.183725       7.25         16
  dactual_mw |    661,558    .0144014    .1090537      -3.59       3.25
    mw_event |    661,558    .0304992    .1719566          0          1
calendar_m~h |    661,560         6.5    3.452055          1         12
sal_mw_event |    661,560    .0133185    .1146349          0          1
-------------+---------------------------------------------------------
 mw_event025 |    661,560    .0182901    .1339985          0          1
 mw_event075 |    661,560    .0082925     .090685          0          1




(note: file ../temp/baseline_medlistingprice_sfcc.dta not found)
file ../temp/baseline_medlistingprice_sfcc.dta saved
(5,110,436 observations deleted)
(3,651,438 observations deleted)
(29,438 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingprice_low_tier_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  1199:1(103289):2037307737:2814411466

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      1,199    44843.82    31755.85       1020      99654




(note: file ../temp/medlistingprice_low_tier_nonmiss_zipcodes.dta not found)
file ../temp/medlistingprice_low_tier_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           143,880  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable county was str28 now str25
  (431,640 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingprice_low_tier.dta
Key: zipcode year_month
===============================================================================
> ===================
  143880:22(55225):797733635:543242462

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    143,880    44843.82    31742.71       1020      99654
  year_month |    143,880       659.5    34.63993        600        719
  place_code |    107,160    44153.71    23290.47        100      88940
   placetype |          0
         msa |          0
-------------+---------------------------------------------------------
  countyfips |    143,880    28397.27    15729.78       1003      56021
      county |          0
   statefips |    143,880    28.31359    15.69428          1         56
medlisting~r |    143,880    142907.8     80083.5      23000     799000
      fed_mw |    143,880        7.25           0       7.25       7.25
-------------+---------------------------------------------------------
    state_mw |    143,880    8.139091    1.118533       7.25         14
   county_mw |     13,560    9.061743    1.703583       7.25      14.25
county_abo~w |     13,560    .3219027    .4672231          0          1
    local_mw |      4,320    9.445438     1.66781       7.25         15
local_abov~w |      4,320    .4423611    .4967241          0          1
-------------+---------------------------------------------------------
   actual_mw |    143,880    8.190947    1.210874       7.25         15
  dactual_mw |    143,880    .0165308    .1192188      -2.25       3.16
    mw_event |    143,880    .0356756    .1854806          0          1
calendar_m~h |    143,880         6.5    3.452065          1         12
sal_mw_event |    143,880    .0149361    .1212975          0          1
-------------+---------------------------------------------------------
 mw_event025 |    143,880    .0205588    .1419023          0          1
 mw_event075 |    143,880    .0093759    .0963744          0          1




(note: file ../temp/baseline_medlistingprice_low_tier.dta not found)
file ../temp/baseline_medlistingprice_low_tier.dta saved
(5,110,436 observations deleted)
(3,651,438 observations deleted)
(27,480 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingprice_top_tier_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  3157:1(103289):2631509156:223201308

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      3,157    49320.01    27865.66       1002      99654




(note: file ../temp/medlistingprice_top_tier_nonmiss_zipcodes.dta not found)
file ../temp/medlistingprice_top_tier_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           378,840  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable county was str28 now str25
  (1,136,520 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingprice_top_tier.dta
Key: zipcode year_month
===============================================================================
> ===================
  378840:22(45873):3982935659:3459475169

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    378,840    49320.01    27861.28       1002      99654
  year_month |    378,840       659.5    34.63986        600        719
  place_code |    239,400    41984.12    23691.78        200      88200
   placetype |          0
         msa |          0
-------------+---------------------------------------------------------
  countyfips |    378,000     27618.9    15924.08       1001      56021
      county |          0
   statefips |    378,840    27.53152    15.90368          1         56
medlisting~r |    378,840    432607.9    285152.8     119900    6895000
      fed_mw |    378,840        7.25           0       7.25       7.25
-------------+---------------------------------------------------------
    state_mw |    378,840    7.941421    1.018528       7.25         14
   county_mw |     18,240    8.912484    1.551291       7.25      14.25
county_abo~w |     18,240    .3217654    .4671663          0          1
    local_mw |     10,440    9.335443    1.837243       7.25         16
local_abov~w |     10,440    .3876437    .4872359          0          1
-------------+---------------------------------------------------------
   actual_mw |    378,840    7.974539    1.087001       7.25         16
  dactual_mw |    378,840    .0124582    .0986147      -2.85       3.16
    mw_event |    378,840    .0303954     .171673          0          1
calendar_m~h |    378,840         6.5    3.452057          1         12
sal_mw_event |    378,840    .0109228    .1039401          0          1
-------------+---------------------------------------------------------
 mw_event025 |    378,840    .0160094    .1255115          0          1
 mw_event075 |    378,840    .0064302    .0799301          0          1




(note: file ../temp/baseline_medlistingprice_top_tier.dta not found)
file ../temp/baseline_medlistingprice_top_tier.dta saved
(5,110,436 observations deleted)
(3,651,438 observations deleted)
(23,105 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingpricepsqft_sfcc_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  7532:1(103289):1583773045:951211142

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      7,532    48563.85    29825.28       1001      99801




(note: file ../temp/medlistingpricepsqft_sfcc_nonmiss_zipcodes.dta not found)
file ../temp/medlistingpricepsqft_sfcc_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           903,840  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingpricepsqft_sfcc.dta
Key: zipcode year_month
===============================================================================
> ===================
  903840:22(4704):1195952986:3727851784

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    903,840    48563.85    29823.32       1001      99801
  year_month |    903,840       659.5    34.63983        600        719
  place_code |    591,960    42079.81     23797.6        100      88940
   placetype |          0
         msa |          0
-------------+---------------------------------------------------------
  countyfips |    901,440    27854.55    15885.01       1001      56033
      county |          0
   statefips |    903,840    27.77045    15.85832          1         56
medlisting~c |    903,840    162.4134    121.3366   15.75758   2695.917
      fed_mw |    903,840        7.25           0       7.25       7.25
-------------+---------------------------------------------------------
    state_mw |    903,840    8.016221    1.101753       7.25         14
   county_mw |     53,400    9.185792    1.808819       7.25      14.25
county_abo~w |     53,400    .3205805    .4667041          0          1
    local_mw |     31,200    9.622262    2.025334       7.25      16.09
local_abov~w |     31,200    .3665064    .4818578          0          1
-------------+---------------------------------------------------------
   actual_mw |    903,840    8.056445    1.199746       7.25      16.09
  dactual_mw |    903,837    .0144299    .1094873      -3.59       5.81
    mw_event |    903,837    .0308341    .1728681          0          1
calendar_m~h |    903,840         6.5    3.452054          1         12
sal_mw_event |    903,840     .013249    .1143394          0          1
-------------+---------------------------------------------------------
 mw_event025 |    903,840    .0179634    .1328183          0          1
 mw_event075 |    903,840    .0084716    .0916508          0          1




(note: file ../temp/baseline_medlistingpricepsqft_sfcc.dta not found)
file ../temp/baseline_medlistingpricepsqft_sfcc.dta saved
(5,110,436 observations deleted)
(3,651,438 observations deleted)
(29,090 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingpricepsqft_low_tier_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  1547:1(103289):4281415350:332605921

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      1,547    44612.65    29890.78       1013      99801




(note: file ../temp/medlistingpricepsqft_low_tier_nonmiss_zipcodes.dta not foun
> d)
file ../temp/medlistingpricepsqft_low_tier_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           185,640  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable county was str28 now str25
  (556,920 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingpricepsqft_low_tier.dta
Key: zipcode year_month
===============================================================================
> ===================
  185640:22(51270):1385273827:1889849100

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    185,640    44612.65     29881.2       1013      99801
  year_month |    185,640       659.5    34.63991        600        719
  place_code |    135,600    41731.36    23750.41        125      88940
   placetype |          0
         msa |          0
-------------+---------------------------------------------------------
  countyfips |    185,280    28383.52    15679.24       1069      56021
      county |          0
   statefips |    185,640     28.2799     15.6444          1         56
medlisting~r |    185,640    108.7324    62.68278   16.39164   1672.388
      fed_mw |    185,640        7.25           0       7.25       7.25
-------------+---------------------------------------------------------
    state_mw |    185,640    8.043529    1.066384       7.25         14
   county_mw |      7,440    8.743981    1.414014       7.25         13
county_abo~w |      7,440    .3649194    .4814399          0          1
    local_mw |      5,040     9.35655    1.626318       7.25         16
local_abov~w |      5,040    .4892857    .4999348          0          1
-------------+---------------------------------------------------------
   actual_mw |    185,640    8.076785    1.116397       7.25         16
  dactual_mw |    185,640    .0140321    .1067118      -2.85       3.16
    mw_event |    185,640    .0351002    .1840336          0          1
calendar_m~h |    185,640         6.5    3.452062          1         12
sal_mw_event |    185,640    .0119371    .1086032          0          1
-------------+---------------------------------------------------------
 mw_event025 |    185,640    .0174855    .1310718          0          1
 mw_event075 |    185,640    .0074499    .0859909          0          1




(note: file ../temp/baseline_medlistingpricepsqft_low_tier.dta not found)
file ../temp/baseline_medlistingpricepsqft_low_tier.dta saved
(5,110,436 observations deleted)
(3,651,438 observations deleted)
(27,320 observations deleted)
(data already sorted by zipcode)
  (0 bytes saved)
===============================================================================
> ===================
File: ../temp/medlistingpricepsqft_top_tier_nonmiss_zipcodes.dta
Key: zipcode
===============================================================================
> ===================
  3317:1(103289):3048064196:2928907517

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |      3,317    47651.72    26904.13       1002      99654




(note: file ../temp/medlistingpricepsqft_top_tier_nonmiss_zipcodes.dta not foun
> d)
file ../temp/medlistingpricepsqft_top_tier_nonmiss_zipcodes.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                           398,040  
    -----------------------------------------
       panel variable:  zipcode (strongly balanced)
        time variable:  year_month, 2010m1 to 2019m12
                delta:  1 month
(data already sorted by zipcode year_month)
  variable county was str28 now str25
  (1,194,120 bytes saved)
===============================================================================
> ===================
File: ../temp/baseline_medlistingpricepsqft_top_tier.dta
Key: zipcode year_month
===============================================================================
> ===================
  398040:22(82020):1307631196:626533106

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    398,040    47651.72     26900.1       1002      99654
  year_month |    398,040       659.5    34.63986        600        719
  place_code |    250,200    41837.91    23579.65        200      87430
   placetype |          0
         msa |          0
-------------+---------------------------------------------------------
  countyfips |    396,600    27652.06    15725.02       1001      56039
      county |          0
   statefips |    398,040    27.54507    15.69112          1         56
medlisting~r |    398,040    188.5921    136.4196   54.71562   2729.885
      fed_mw |    398,040        7.25           0       7.25       7.25
-------------+---------------------------------------------------------
    state_mw |    398,040    7.881484    .9732854       7.25         14
   county_mw |     15,000    8.777311    1.434401       7.25         13
county_abo~w |     15,000       .3432    .4747934          0          1
    local_mw |      9,840    9.388384    1.984561       7.25         16
local_abov~w |      9,840    .4361789    .4959353          0          1
-------------+---------------------------------------------------------
   actual_mw |    398,040     7.91266    1.044822       7.25         16
  dactual_mw |    398,040    .0115446    .0933622      -2.85       3.16
    mw_event |    398,040    .0302331    .1712284          0          1
calendar_m~h |    398,040         6.5    3.452057          1         12
sal_mw_event |    398,040    .0096021    .0975186          0          1
-------------+---------------------------------------------------------
 mw_event025 |    398,040    .0148151    .1208124          0          1
 mw_event075 |    398,040    .0056778    .0751372          0          1




(note: file ../temp/baseline_medlistingpricepsqft_top_tier.dta not found)
file ../temp/baseline_medlistingpricepsqft_top_tier.dta saved

    Result                           # of obs.
    -----------------------------------------
    not matched                       317,160
        from master                   317,160  
        from using                          0  

    matched                           586,680  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                       778,320
        from master                   778,320  
        from using                          0  

    matched                           125,520  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                       560,640
        from master                   560,640  
        from using                          0  

    matched                           343,200  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                       727,560
        from master                   727,560  
        from using                          0  

    matched                           176,280  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                       523,800
        from master                   523,800  
        from using                          0  

    matched                           380,040  
    -----------------------------------------
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../../../drive/derived_large/output/baseline_listing_panel.dta
Key: zipcode year_month
===============================================================================
> ===================
  903840:27(84984):2584805420:1384229405

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |    903,840    48563.85    29823.32       1001      99801
  year_month |    903,840       659.5    34.63983        600        719
  place_code |    591,960    42079.81     23797.6        100      88940
   placetype |          0
         msa |          0
-------------+---------------------------------------------------------
  countyfips |    901,440    27854.55    15885.01       1001      56033
      county |          0
   statefips |    903,840    27.77045    15.85832          1         56
medli~t_sfcc |    903,840    162.4134    121.3366   15.75758   2695.917
      fed_mw |    903,840        7.25           0       7.25       7.25
-------------+---------------------------------------------------------
    state_mw |    903,840    8.016221    1.101753       7.25         14
   county_mw |     53,400    9.185792    1.808819       7.25      14.25
county_abo~w |     53,400    .3205805    .4667041          0          1
    local_mw |     31,200    9.622262    2.025334       7.25      16.09
local_abov~w |     31,200    .3665064    .4818578          0          1
-------------+---------------------------------------------------------
   actual_mw |    903,840    8.056445    1.199746       7.25      16.09
  dactual_mw |    903,837    .0144299    .1094873      -3.59       5.81
    mw_event |    903,837    .0308341    .1728681          0          1
calendar_m~h |    903,840         6.5    3.452054          1         12
sal_mw_event |    903,840     .013249    .1143394          0          1
-------------+---------------------------------------------------------
 mw_event025 |    903,840    .0179634    .1328183          0          1
 mw_event075 |    903,840    .0084716    .0916508          0          1
medli~e_sfcc |    586,680    282922.1    207770.7      34900    4395000
m~e_low_tier |    125,520    143669.2    80680.14      23000     799000
m~e_top_tier |    343,200      427233    267585.6     119900    6895000
-------------+---------------------------------------------------------
m~t_low_tier |    176,280    109.5734    57.88098   21.66513   678.1115
m~t_top_tier |    380,040    184.1954    126.7141   54.71562   2729.885




file ../../../drive/derived_large/output/baseline_listing_panel.dta saved
(data already sorted by zipcode year_month)
  (0 bytes saved)
===============================================================================
> ===================
File: ../../../drive/derived_large/output/zipcode_yearmonth_panel_all.dta
Key: zipcode year_month
===============================================================================
> ===================
  8792511:83(50507):1214105594:540193576

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     zipcode |  8,792,511    48754.23    27453.74        501      99929
  year_month |  8,792,511    578.0919    82.85671        435        721
        zcta |  4,070,272    55407.32    27551.92       1001      99929
  place_code |  4,070,272    41803.02    23819.56        100      89300
   placename |          0
-------------+---------------------------------------------------------
   placetype |          0
        city |          0
         msa |          0
  countyfips |  8,669,215    29866.56    15229.81       1001      56045
      county |          0
-------------+---------------------------------------------------------
   statefips |  8,731,405    29.79272    15.22646          1         56
    stateabb |          0
medli~e_sfcc |    919,945    296431.4    256952.6      12000    6995000
m~e_low_tier |    237,537    151736.7    94283.89      11750     939935
m~e_top_tier |    481,521    463979.4    350800.1     112450    7295000
-------------+---------------------------------------------------------
medli~t_sfcc |  1,084,523    165.6084    135.7259   11.57113   2802.347
m~t_low_tier |    296,286    121.5329    83.33472   11.50727   1672.388
m~t_top_tier |    516,368    206.6456    177.9822   31.52173   2799.423
medren~e_1br |     69,440    1607.937     670.499        350       5195
medren~e_2br |    106,799    1766.741    879.0102        475      19500
-------------+---------------------------------------------------------
medren~e_3br |     76,539    1928.871     1459.31        455      40000
medren~e_4br |     10,310    3116.339    5197.041        435      50000
medren~e_5br |        868     5715.09    7571.906       1250      50000
medre~e_sfcc |    192,932    1768.679    1527.426        500      50000
medrent~e_cc |     34,676     2105.65    938.7924        700       8975
-------------+---------------------------------------------------------
med~e_mfdxtx |     26,880    1979.011    832.9655        375       6646
m~e_mfr5plus |    175,096     1554.04    697.8883        375      20000
medrent~e_sf |    142,386    1778.371    1931.017        500      50000
med~e_studio |     28,999    1670.905    1365.808        300      50000
medren~t_1br |     55,424    2.191226    .9194792   .6388889   7.164352
-------------+---------------------------------------------------------
medren~t_2br |     92,792    1.682865     .803698   .5015197   12.55461
medren~t_3br |     67,139    1.233209    .8117302   .5060225       17.5
medren~t_4br |      8,370     1.49865    2.559936   .5492424   21.85141
medren~t_5br |        537    7.753782    7.031498   .3727683         22
medre~t_sfcc |    197,978    1.303812    1.033133   .1091193   23.96932
-------------+---------------------------------------------------------
medrent~t_cc |     30,608    2.170225    1.168605   .5835432   12.92755
med~t_mfdxtx |     11,949    2.451649    1.286775   .3627695   6.936797
m~t_mfr5plus |    146,858    1.736677     .849114   .3150482   12.55435
medrent~t_sf |    144,593       1.145    1.002039   .1039069   24.48466
med~t_studio |     23,491    1.954625    1.574804   .4288971   7.347833
-------------+---------------------------------------------------------
    zhvi_2br |  5,565,556    146003.9    133146.3       7100    3893638
   zhvi_sfcc |  6,699,435    183337.3    176086.7       8565    6648479
      zhvi_c |  2,325,780    199634.7      160856      13592    3848327
     zhvi_sf |  6,686,415    191190.8    212985.5       8565    8737684
  zri_sfccmf |  1,347,720    1356.072    875.9493        368      83894
-------------+---------------------------------------------------------
      zri_mf |    140,035    1518.065    639.5489        420      18349
      fed_mw |  8,731,405    6.133715    1.054042       4.25       7.25
    state_mw |  8,731,405    6.567077    1.465736       4.25         14
pop10_zip_~y |  8,669,215    10139.74    13964.11          0     113916
houses10_z~y |  8,669,215    4328.356    5661.727          1      47617
-------------+---------------------------------------------------------
pct_zip_po~y |  8,669,215    96.09368    9.709425          0        100
pct_zip_ho~y |  8,669,215    96.04085    9.580142         50        100
  placepop10 |  4,070,272    241329.9    998106.5         16    8175133
landarea_s~m |  4,070,272    126.6059    325.0486          0       7434
pop10_zip_~e |  4,070,272    12798.36    15072.28          0     113916
-------------+---------------------------------------------------------
houses10_z~e |  4,070,272    5410.332     6085.59          1      47617
pct_zip_po~e |  4,070,272    80.26835    18.30725          0        100
pct_zip_ho~e |  4,070,272    80.56913    17.65957         50        100
   county_mw |    154,096    8.233972    1.887734       5.15      14.25
county_mw_~s |    154,096    8.162659    1.731204       5.15      13.25
-------------+---------------------------------------------------------
county_abo~w |    154,096    .1989539    .3992146          0          1
county_abo~e |    154,096    .1668311    .3728262          0          1
    local_mw |     94,464    8.780504    2.126039       5.15      16.09
local_mw_s~s |     94,464    8.679119    1.940648       5.15      16.09
local_abov~w |     94,464    .2929582    .4551218          0          1
-------------+---------------------------------------------------------
local_abov~s |     94,464    .2618987    .4396701          0          1
   actual_mw |  8,731,405    6.575721    1.489869       4.25      16.09
actual_mw_~s |  8,731,405     6.57402    1.483117       4.25      16.09
  dactual_mw |  8,700,718    .0158818    .1060128      -3.59       5.81
    mw_event |  8,700,718    .0312403    .1739665          0          1
-------------+---------------------------------------------------------
dactual_mw~s |  8,700,718    .0158332    .1055986      -3.59          6
mw_event_s~s |  8,700,718    .0312389    .1739628          0          1
calendar_m~h |  8,792,511    6.512318    3.451861          1         12
       trend |  8,792,511    143.9015    82.85817          1        287
dpct_actua~w |  8,700,718    .0025944    .0175683  -.2821782   .6504854
-------------+---------------------------------------------------------
months_since |  8,792,511    37.80943    35.76716          0        145
months_until |  8,792,511    37.80943    35.76716          0        145
dpct_actua~s |  8,700,718    .0025906    .0175507  -.2821782   .6666667
months_sin~s |  8,792,511    37.81098    35.76615          0        145
months_unt~s |  8,792,511    37.81098    35.76615          0        145
-------------+---------------------------------------------------------
sal_mw_event |  8,792,511    .0269045    .1618043          0          1
 mw_event025 |  8,792,511    .0347101    .1830446          0          1
 mw_event075 |  8,792,511     .016299    .1266228          0          1




file ../../../drive/derived_large/output/zipcode_yearmonth_panel_all.dta saved

. 
end of do-file

 make.py ended: 2020-05-13 22:50:11
