
 make.py started: 2022-03-06 12:34:20 C:\Users\diegog\Desktop\Diego\min_wage_rent\derived\county\code 




Execute:  StataMP-64 /e do "./build.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.


running c:\ado\personal\profile.do ...

. do ./build.do 

. set more off

. clear all

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. 
. program main
  1.     local in_geo        "../../../drive/base_large/county_master"
  2.     local in_demo       "../../../drive/derived_large/demographics_at_base
> line"
  3.     local in_base_large "../../../drive/base_large"
  4.     local outstub       "../../../drive/derived_large/county"
  5.     local logfile       "../output/data_file_manifest.log"
  6. 
.     build_zillow_county_stats, instub(`in_base_large')
  7. 
.     use countyfips statefips cbsa using "`in_geo'/county_master.dta", clear
  8.     duplicates drop
  9.     isid countyfips
 10. 
.     merge 1:1 countyfips using "../temp/zillow_counties_with_rents.dta", ///
>             nogen keep(1 3)
 11.     merge 1:1 countyfips using "`in_demo'/county.dta", ///
>         nogen keep(1 3)
 12. 
.     strcompress
 13.     rename countyfips county
 14.     save_data "`outstub'/county_cross.dta", replace ///
>         key(county) log(`logfile')
 15. end

. 
. program build_zillow_county_stats
  1.     syntax, instub(str)
  2. 
.     use "`instub'/zillow/zillow_county_clean.dta", clear
  3. 
.     keep if !missing(medrentpricepsqft_SFCC)
  4.     collapse (count) n_months_zillow_rents = medrentpricepsqft_SFCC, by(co
> untyfips)
  5.     tostring countyfips, format(%05.0f) replace
  6. 
.     save "../temp/zillow_counties_with_rents.dta", replace
  7. end

. 
. main
(28,124 observations deleted)
countyfips already string; no replace
(note: file ../temp/zillow_counties_with_rents.dta not found)
file ../temp/zillow_counties_with_rents.dta saved

Duplicates in terms of all variables

(0 observations are duplicates)

    Result                           # of obs.
    -----------------------------------------
    not matched                         2,439
        from master                     2,439  
        from using                          0  

    matched                               700  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                             3,139  
    -----------------------------------------
  Converting str to strL: countyfips statefips cbsa
    strcompress grew data 212% so far, but I'm not done yet!
  variable n_months_zillow_rents was long now int
  variable countyfips was strL now str5
  variable statefips was strL now str2
  variable cbsa was strL now str5
  (659,843 bytes saved)
       compress shrank data 69%
    strcompress shrank data  2% overall
(data already sorted by county)
  (0 bytes saved)
===============================================================================
File: ../../../drive/derived_large/county/county_cross.dta
Key: county
===============================================================================
  3139:17(66656):1811277106:1204964877

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
      county |          0
   statefips |          0
        cbsa |          0
n_months_z~s |        700       80.69    36.16529         12        120
populat~2010 |      3,139    97830.92    312835.2          0    9818605
-------------+---------------------------------------------------------
n_male_~2010 |      3,139    48100.89    153447.7          0    4839654
n_white~2010 |      3,139    70871.27    187536.9          0    4936599
n_black~2010 |      3,139    12285.44    54199.89          0    1287767
urb_pop~2010 |      3,136    .4124033    .3145403          0          1
n_hhlds_ce~0 |      3,139    41715.39    122699.8          0    3445076
-------------+---------------------------------------------------------
n_hhlds_ur~0 |      3,139    32909.79    121118.4          0    3420978
n_hhlds_re~0 |      3,139    12874.46    50918.67          0    1696455
sh_whit~2010 |      3,136    .8289247    .1684999   .0269473   .9921913
sh_blac~2010 |      3,136    .0887626    .1449335          0    .856847
sh_male~2010 |      3,136    .4997893    .0222093   .4322231    .721106
-------------+---------------------------------------------------------
sh_hhlds_u~0 |      3,136    .4037331    .3149297          0          1
sh_hhlds_r~0 |      3,136    .2336476    .0754482   .0417511   .7625533




file ../../../drive/derived_large/county/county_cross.dta saved

. 
end of do-file

 make.py ended: 2022-03-06 12:34:21
