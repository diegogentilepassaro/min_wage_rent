
 make.py started: 2021-05-11 03:22:57 C:\Users\shermo\Documents\GitHub\min_wage_rent\derived\county\code 




Execute:  StataMP-64 /e do "./build.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.1   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     MP - Parallel Edition            College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Single-user 32-core Stata perpetual license:
       Serial number:  501506205566
         Licensed to:  KU Leuven FEB (CES)
                       KU Leuven

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  More than 2 billion observations are allowed; see help obs_advice.
      4.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./build.do 

. set more off

. clear all

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. 
. program main
  1.     local instub_base  "../../../drive/base_large"
  2.     local instub_geo   "../../../base/geo_master/output"
  3.     local outstub      "../output"
  4. 
.     build_zillow_county_stats, instub(`instub_base')
  5. 
.     use countyfips statefips cbsa10 ///
>         using "`instub_geo'/zip_county_place_usps_all.dta", clear
  6.     duplicates drop
  7.     isid countyfips
  8. 
.     merge 1:1 countyfips using "../temp/zillow_counties_with_rents.dta", ///
>         nogen assert(1 3)
  9.     merge 1:1 countyfips using "`instub_base'/demographics/county_demo_201
> 0.dta", ///
>         nogen keep(1 3)
 10.     merge 1:1 countyfips using "`instub_base'/lodes/county_own_shares.dta"
> , ///
>         nogen keep(1 3) /*making a note here that we drop two `_merge == 2` r
> ogue counties*/
 11. 
.     strcompress
 12.     save_data "`outstub'/county_panel.dta", ///
>         key(countyfips) replace
 13. end

. 
. program build_zillow_county_stats
  1.     syntax, instub(str)
  2. 
.     use "`instub'/zillow/zillow_county_clean.dta", clear
  3. 
.     keep if !missing(medrentpricepsqft_SFCC)
  4.     collapse (count) n_months_zillow_rents = medrentpricepsqft_SFCC, by(co
> untyfips)
  5.     tostring countyfips, format(%05.0f) replace
  6. 
.     save "../temp/zillow_counties_with_rents.dta", replace
  7. end

. 
. main
(28,124 observations deleted)
countyfips already string; no replace
(note: file ../temp/zillow_counties_with_rents.dta not found)
file ../temp/zillow_counties_with_rents.dta saved

Duplicates in terms of all variables

(84,656 observations deleted)

    Result                           # of obs.
    -----------------------------------------
    not matched                         2,440
        from master                     2,440  
        from using                          0  

    matched                               703  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                             2
        from master                         2  
        from using                          0  

    matched                             3,141  
    -----------------------------------------

    Result                           # of obs.
    -----------------------------------------
    not matched                             3
        from master                         3  
        from using                          0  

    matched                             3,140  
    -----------------------------------------
  Converting str to strL: countyfips cbsa10 statefips
    strcompress grew data 59% so far, but I'm not done yet!
  variable n_months_zillow_rents was long now int
  variable countyfips was strL now str5
  variable cbsa10 was strL now str5
  variable statefips was strL now str2
  (660,807 bytes saved)
       compress shrank data 37%
    strcompress shrank data  1% overall
(data already sorted by countyfips)
  (0 bytes saved)
===============================================================================
File: ../output/county_panel.dta
Key: countyfips
===============================================================================
  3143:53(55176):2095544658:1555181583

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
  countyfips |          0
      cbsa10 |          0
   statefips |          0
n_months_z~s |        703     80.6771    36.13984         12        120
     pop2010 |      3,141     98288.6      312993         82    9818605
-------------+---------------------------------------------------------
urb_sha~2010 |      3,141    .4137007    .3151176          0          1
white_s~2010 |      3,141    .7834281    .1980282   .0286041   .9916318
black_s~2010 |      3,141     .087542    .1442435          0   .8543878
hisp_sh~2010 |      3,141    .0828822     .131938          0   .9574477
asian_s~2010 |      3,141    .0113735    .0247051          0   .4301469
-------------+---------------------------------------------------------
natam_s~2010 |      3,141     .000805    .0094588          0   .4888889
child_s~2010 |      3,141    .1922556      .02926          0   .3449854
teen_sh~2010 |      3,141    .1296905    .0351239   .0333333   .4876889
youngad~2010 |      3,141     .115452    .0207809   .0487805   .2764669
adult_s~2010 |      3,141    .4037113    .0340745   .1784953    .580408
-------------+---------------------------------------------------------
elder_s~2010 |      3,141    .1588906    .0418357    .034706   .4338471
housing~2010 |      3,141    41928.99    122803.3         50    3445076
hh_couple_s~ |      3,141    .5782099    .0592149   .1594203   .8099291
h~child_sh~0 |      3,141    .4007648    .0615034          0   .7200393
renthou~2010 |      3,139    .2773082    .0762095   .1016782   .8074233
-------------+---------------------------------------------------------
workers20105 |      3,141    44536.23    143083.7         55    4384405
workers_pr~5 |      3,141    35556.92    116816.2          8    3521225
work_c~20105 |      3,141    .6589085    .1803682   .0902625          1
worktravel.. |      3,141     .245927    .1285107   .0367979   .9326025
worktravel.. |      3,141     .679579    .1211418   .0665855    .889462
-------------+---------------------------------------------------------
worktravel.. |      3,141    .0744939    .0454474          0   .3216467
colleg~20105 |      3,141    .2726086    .0941842   .0365854   .7516183
poor_s~20105 |      3,141    .1628115    .0640739          0   .4772144
lo_hhi~20105 |      3,141    .5055628    .1030632   .1207927   .7748405
hi_hhi~20105 |      3,141    .1464673     .075713   .0245148   .6135803
-------------+---------------------------------------------------------
med_hh~20105 |      3,141    45652.18    11899.29      19624     122844
med_pi~20105 |      3,141    26620.33    5187.995       4725      62514
unemp_~20105 |      3,141    .0857471    .0373383          0   .2679856
employ~20105 |      3,141     .877604    .0540378   .4992928   .9863946
work~ce20105 |      3,141    2535.642    8158.096          0     237725
-------------+---------------------------------------------------------
tot_pinc20~5 |      3,141    1.1e-314           0          0   1.1e-312
tot_pinc_f~5 |      3,141    9.1e-315           0          0   9.1e-313
med_earn_h~5 |      3,094    19839.12    5602.371       2499     117857
m~tectserv~5 |      3,067    38451.99     12292.3       2499     125179
med_earn_f~5 |      3,134    11117.39    3357.323       2499      37734
-------------+---------------------------------------------------------
med_earn_c~5 |      3,131    16547.44    5103.044       2499      65625
med_~e_20105 |      3,105    14144.38    6302.726       2499     220071
med~sp_20105 |      3,139    30244.21    6127.976       2499      82813
worker_foo.. |      3,141    .0537222     .016531          0   .1709477
      totjob |      3,140    24571.88    105537.2          3    3521315
-------------+---------------------------------------------------------
   job_young |      3,140     5569.85    23808.01          0     761133
  job_lowinc |      3,140    5764.335     23404.8          0     843939
residents_~t |      3,140    45068.06    145795.6        127    4362477
residents_~g |      3,140    10487.55    33821.05         33     983991
resident_l~c |      3,140    10321.43    32112.04         31    1034491
-------------+---------------------------------------------------------
   share_tot |      3,140    .4231862    .1617803    .023622   .9583516
 share_young |      3,140    .3837559    .1615739          0   .9515367
share_lowinc |      3,140    .4456003    .1485943          0   .9679408




(note: file ../output/county_panel.dta not found)
file ../output/county_panel.dta saved

. 
end of do-file

 make.py ended: 2021-05-11 03:23:00
