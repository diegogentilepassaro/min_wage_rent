%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%                              APPENDIX                                 %%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Model Appendix}

\subsection{Proofs}\label{sec:proofs}

\begin{proof}[Proof of Proposition \ref{prop:comparative_statics}]
    Fully differentiate the market clearing condition with respect to $\ln R_i$ 
    and $\ln \MW_z$ for all $z\in\Z(i)$.
    Using \eqref{eq:equilibrium} and appropriate algebraic manipulations, 
    one can show that
    \begin{equation}\label{eq:diff_equilibrium}
        \Big(\eta_i - \sum_z \pi_{iz} \xi^R_{iz} \Big) d \ln R_i
        = 
        \sum_z \pi_{iz} \left(\xi^P_{iz} \epsilon_{i}^P d \ln \MW_i 
                            + \xi^Y_{iz} \epsilon_{iz}^Y d \ln \MW_z \right) ,
    \end{equation}
    where
    $\xi_{iz}^x = \frac{d h_{iz}}{d x_i} \frac{x_i}{\sum_z \pi_{iz} h_{iz}}$ for
    $x\in\{R,P\}$ is the elasticity of the per-capita housing demand with respect
    to $x$ evaluated at the average per-capita demand of ZIP code $i$,
    $\xi_{iz}^Y = \frac{d h_{iz}}{d Y_z} \frac{Y_z}{\sum_z \pi_{iz} h_{iz}}$ 
    represents the analogous elasticity with respect to income $Y$ from each 
    workplace $z$,
    $\epsilon_{i}^P = \frac{d P_i}{d \MW_i} \frac{\MW_i}{P_i}$ and 
    $\epsilon_{iz}^Y = \frac{d Y_z}{d \MW_z} \frac{\MW_z}{Y_z}$ are
    elasticities of prices and income to the MW, and
    $\eta_i = \frac{d S_i}{d R_i} \frac{R_i}{S_i}$ is the elasticity 
    of housing supply in ZIP code $i$.

    For any $z'\in\Z_0\setminus\{i\}$ the partial effect on rents of the policy
    is given by
    $$
    \frac{d\ln R_i}{d\ln\MW_{z'}} 
      = \left(\eta_i - \sum_z \pi_{iz} \xi^R_{iz}\right)^{-1} 
              \pi_{iz'}\xi^Y_{iz}\epsilon_{iz'}^Y.
    $$
    Because $\eta_i\geq0$ and $\xi^R_{iz} < 0$ for all $z\in\Z(i)$, 
    the first factor is positive.
    From Assumptions \ref{assu:mws} and \ref{assu:housing_demand},
    $\epsilon_{iz}^Y\geq0$ and $\xi^Y_{iz}>0$.
    Therefore, the effect is positive if for $z'$ we have 
    $\frac{d Y_{z'}}{d \MW_{z'}}>0$ (or $\epsilon_{iz'}^Y>0$), 
    and the effect is zero otherwise.

    For ZIP code $i$ the partial effect is given by
    $$
    \frac{d\ln R_i}{d\ln\MW_{i}} 
      = \left(\eta_i - \sum_z \pi_{iz} \xi^R_{iz}\right)^{-1} 
        \left(\epsilon_{i}^P \sum_z \pi_{iz}\xi^P_{iz} 
             + \pi_{ii}\xi^Y_{ii}\epsilon_{ii}^Y \right) .
    $$
    By Assumption \ref{assu:mws} we have that $\epsilon_{i}^P>0$ and that 
    $\epsilon_{ii}^Y\geq0$.
    By Assumption \ref{assu:housing_demand} we have that $\xi^Y_{ii}>0$ and that, 
    for all $z\in\Z(i)$, $\xi^P_{iz}<0$.
    Then, the second parenthesis has an ambiguous sign.
    The third statement of the Proposition follows directly.
\end{proof}

\begin{proof}[Proof of Proposition \ref{prop:representation}]
    Under the stated assumptions we can manipulate \eqref{eq:diff_equilibrium} 
    to write
    $$
    d r_{i} = \beta_i d \mw_{i}^{\wkp} + \gamma_i d \mw^{\text{res}}_i
    $$
    where
    $\beta_i = \frac{\xi_{i}^{Y}\epsilon_i^{Y}}
                     {\eta_{i} - \sum_z \pi_{iz} \xi_{iz}^R} 
              > 0$ and
    $\gamma_i = \frac{\sum_{z\in\Z(i)}\pi_{iz}\xi_{iz}^{P}\epsilon_{i}^{P}}
                    {\eta_{i} - \sum_z \pi_{iz} \xi_{iz}^R} 
              < 0$
    are parameters, which signs can be verified using
    Assumptions \ref{assu:mws} and \ref{assu:housing_demand}.
\end{proof}

\subsection{A dynamic supply and demand model}\label{sec:dyn_theory_model}

The geography is represented by a set of ZIP codes $\Z$.
There is an exogenously given distribution of workers with differing 
residence $i$ and workplace $z$ locations across these ZIP codes which,
as in the main body of the paper, we denote by $\{L_{iz}\}_{i,z\in\Z\times\Z}$.

Let $H_{it}$ be the stock of square feet rented in period $t$.
We assume that all contracts last for one year, so that
the stock is composed of contracts starting at different calendar months. 
We impose that $H_{it} \leq S_i$ for all $t$, 
where $S_i$ denotes the total number of available square feet in $i$.

We further decompose $H_{it}$ as follows.
Let $h_{izt} = h_{iz}\left(R_{it}, \MW_{it}, \MW_{zt}\right)$ be the 
per-capita demand of housing of group $(i,z)$ in period $t$,
which depends on the prevailing MW levels at the time of contract sign-up.
We assume that this demand function is decreasing in the residence MW and 
increasing in the workplace MW, just as in Section \ref{sec:model}.
For simplicity, we omitted the mediation channels of prices and income.
Let $\lambda_{it}$ denote the share of $i$'s residents who started their 
contracts in period $t$.%
\footnote{We assume that these shares do not vary by workplace.}
Then, we can write the stock of contracted square feet during period $t$ as
$$
H_{it} = \sum_{\tau = t - 11}^{t} \lambda_{i\tau} \sum_{z\in\Z} L_{iz} 
h_{iz\tau} (r_{i\tau}, \MW_{i\tau}, \MW_{z\tau})
$$
where 
$r_{i\tau}$ represents rents per square foot in period $\tau$, and
by assumption $\sum_{\tau = t - 11}^{t} \lambda_{i\tau} = 1$.
It is convenient to define the stock of contracted square feet excluding the ones 
that were signed 12 months ago:
$$
\tilde H_{it} = \sum_{\tau = t - 10}^{t} \lambda_{i\tau} \sum_{z\in\Z} L_{iz} 
h_{iz\tau} (r_{i\tau}, \MW_{i\tau}, \MW_{z\tau}) .
$$

We assume that all square feet are homogeneous, and so they have the same price 
in the market.

\subsubsection*{Within-period equilibrium}

We assume the following timing: 
(1) At the beginning of period $t$, a share $\lambda_{it}$ of contracts 
expire (the ones that started on $t-12$);
(2) The square feet from expiring contracts are added to the pool of available 
rental space for new renters;
(3) Renters in $t$ and a flow supply of rental space in $t$ determine equilibrium 
rents $R_{it}$.
Next, we develop each of these steps more formally.

At the start of every period $t$, $\lambda_{i,t-12} \sum_z L_{iz} h_{iz,t-12}$ 
square feet become available for rent from each group of workers $(i,z)$.
The square feet available to rent in period $t$ (vacant) are then
$$
\lambda_{i,t-12} \sum_z L_{iz} h_{iz,t-12} + (S_i - H_{i,t-1}) 
       = S_i - \tilde H_{i,t-1}.
$$
Note that this differs from $S_i - H_{i,t-1}$, the non-rented square feet as 
of $t-1$.
We denote by $V_{it}(R_{it}, \lambda_t)$ the supply of housing, increasing in 
$R_{it}$.
A feasibility constraint is that 
\begin{equation}\label{eq:feasibility}
    V_{it}(R_{it}, \lambda_t) \leq S_i - \tilde H_{i,t-1} .
\end{equation}

The flow demand for new rentals in $t$ by those whose contract expired is given 
by
$$
\lambda_{it} \sum_z L_{iz} h_{izt} \left(R_{it}, \MW_{it}, \MW_{zt} \right) .
$$
This demand arises because a share of the ZIP code's contracts expired. 
Those workers go to the market and may desire to rent more square feet given 
changes in their income.

The market in period $t$ clears if
\begin{equation}\label{eq:equilibrium_dynamic}
    \lambda_t \sum_z L_{iz} h_{iz} \left(R_{it}, \MW_{it}, \MW_{zt} \right) = 
    V_{it}(R_{it}, \lambda_t) .
\end{equation}
Given statutory MW levels in $t$, $\{\MW_{it}\}_{i\in\Z}$,
the share of workers looking to rent in period $t$, $\lambda_t$, and 
a number of vacancies that satisfies \eqref{eq:feasibility}, 
equation \eqref{eq:equilibrium_dynamic} determines equilibrium rents in 
period $t$.
Because the properties of housing demand and housing supply are the same as in 
the model in Section \ref{sec:model},
the equilibrium condition \eqref{eq:equilibrium_dynamic} implies an analogue of 
Propositions \ref{prop:comparative_statics} and \ref{prop:representation}.
The results in Section \ref{sec:model} can be extended to a dynamic setting if
the demand and supply functions in $t$ only depend on MW levels in $t$.

\subsection{A static model with flexible commuting shares}\label{sec:model_endogenous_shares}

In this section we use a simplified version of the partial-equilibrium model 
in Section \ref{sec:model}.
We do so to focus on the implications of relaxing the assumption of fixed 
commuting shares.

Assume that housing demand depends directly on the workplace and residence MW,
abstracting away from the mediation channels of prices and income.
Let commuting shares depend on the MW at the respective workplace location.
Then, the housing market equilibrium can be written as
\begin{equation}\label{eq:equilibrium_simplified}
	L_i \sum_{z\in\Z(i)} \pi_{iz} (\MW_z) h_{iz} \left(R_i, \MW_i, \MW_z\right) = S_i(R_i) .
\end{equation}
Following empirical results in \textcite{PerezPerez2021}, we assume that 
an increase in the workplace MW may decrease the share of workers traveling to 
a given destination.

\begin{assu}[Endogenous commuting shares]\label{assu:commuting_shares}
    Commuting shares of location $i$'s residents are given by 
    $\{\pi_{iz}\left(\MW_z\right)\}_{z\in\Z(i)}$, where $d\pi_{iz}/d\MW_z \leq 0$.
\end{assu}

With this assumption we are ready to prove the following result.

\begin{prop}[Representation with endogenous shares]\label{prop:representation_endog_shares}
    Assume that for all ZIP codes $z\in\Z(i)$ we have
    (a) homogeneous elasticity of per-capita housing demand to the MW 
    at workplace locations,
    $\xi^{\wkp}_{iz}=\xi^{\wkp}_{i}$, and
    (b) homogeneous elasticity of commuting shares to the MW,
    $\zeta_{iz}=\zeta_{i}$.
    Then, approximating $\pi_{iz} h_{iz} / \sum_{z'}\pi_{iz'} h_{iz'}\approx\pi_{iz}$,
    we can write
    $$
    d r_{i} = \left(\beta_i + \zeta_i\right) d \mw_{i}^{\wkp} 
            + \gamma_i d \mw^{\text{res}}_i
    $$
    where 
    $r_{i} = \ln R_i$,
    $\mw_{i}^{\wkp} = \sum_{z\in\Z(i)} \pi_{iz} \ln \MW_z$ 
    is ZIP code $i$'s \textbf{workplace MW}, 
    $\mw^{\res}_i = \ln \MW_i$ 
    is ZIP code $i$'s \textbf{residence MW}, and 
    $\beta_i > 0$, $\zeta_i<0$, and $\gamma_i < 0$ are parameters.
\end{prop}

\begin{proof}    
    Fully differentiate the market clearing condition with respect to $\ln R_i$ 
    and $\ln \MW_z$ for all $z\in\Z(i)$.
    Using \eqref{eq:equilibrium_simplified} and appropriate algebraic 
    manipulations, one can show that
    \begin{equation}\label{eq:diff_equilibrium_endog_shares}
        \Big(\eta_i - \sum_z \pi_{iz} \xi^R_{iz} \Big) d \ln R_i
        = 
        \left(\sum_z \pi_{iz} \xi^{\res}_{iz} \right)d \ln \MW_i 
        + \sum_z \pi_{iz} (\xi^{\wkp}_{iz} + \zeta_{iz}) d \ln \MW_z  ,
    \end{equation}
    where we also impose the approximation that 
    $\pi_{iz} h_{iz} / \sum_{z'}\pi_{iz'} h_{iz'}\approx\pi_{iz}$.
    In this expression
    $\xi^R_{iz} = \frac{d h_{iz}}{d R_i} \frac{R_i}{\sum_z \pi_{iz} h_{iz}}$
    is the elasticity of housing demand to rents,
    $\xi^{\res}_{iz} = \frac{d h_{iz}}{d \MW_i} \frac{\MW_i}{\sum_z \pi_{iz} h_{iz}}$
    is the elasticity of housing demand to the MW at $i$, 
    $\xi^{\wkp}_{iz} = \frac{d h_{iz}}{d \MW_z} \frac{\MW_z}{\sum_z \pi_{iz} h_{iz}}$
    is the elasticity of housing demand to the MW at workplace $z$, and
    $\zeta_{iz} = \frac{d \pi_{iz}}{d \MW_z} \frac{\MW_z}{\sum_z \pi_{iz} h_{iz}}$
    is the elasticity of commuting shares to the MW at $z$.
    
    Under the stated assumptions we can manipulate 
    \eqref{eq:diff_equilibrium_endog_shares} to write
    \begin{equation} \label{eq:theory_representation_endog_shares}
        d r_i = (\beta_i + \zeta_i)  d \mw^{\wkp}_i
              + \gamma_i d \mw^{\res}_i
    \end{equation}
    where
    $\beta_i = \frac{\xi^{\wkp}_i}
                    {\eta_{i} - \sum_z \pi_{iz} \xi_{iz}^R}
              > 0$,
    $\zeta_i = \frac{\zeta_i}
                    {\eta_{i} - \sum_z \pi_{iz} \xi_{iz}^R} \leq 0$, and
    $\gamma_i = \frac{\sum_z \pi_{iz} \xi^{\res}_{iz}}
                     {\eta_{i} - \sum_z \pi_{iz} \xi_{iz}^R} 
              < 0$
    are parameters.
    The sign of $\zeta_i$ is given by Assumption \ref{assu:commuting_shares}.
\end{proof}

This result implies that, up to an approximation, the response of rents to 
the workplace MW includes the negative effect of the MW on commuting shares.


\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Data Appendix}

\subsection{Matching census blocks to USPS ZIP codes}
\label{sec:blocks_to_uspszip}

One challenge of this project is that LODES data on commuting patterns are 
aggregated at the level of the \textit{census block}.
However, Zillow data are aggregated at the level of \textit{USPS ZIP codes},
and blocks and ZIP codes are not nested.
In this appendix section we describe the steps we took to construct a 
correspondence table between these geographies.

First, we collected the GIS map of 11,053,116 blocks from \textcite{cbTiger} and
computed their centroids.
Second, we assigned each block to a unique ZIP code using the GIS map from 
\textcite{ESRI} based on assigning to each block the ZIP code that contains its 
centroid.
If the centroid falls outside the block, we pick a point inside it at random.
We assigned 11,013,203 blocks using the spatial match (99.64 percent of the 
total).%
\footnote{545,566 of ZIP codes assigned via spatial match use 
a point of the census block picked at random (4.94 percent of the total).}
Third, for the blocks that remain unassigned we used the tract-to-ZIP-code 
correspondence from \textcite{hudCrosswalks}.
Specifically, for each tract we keep the ZIP code where the largest number 
of houses of the tract fall, and we assign it to each block using the tract 
identifier.
We assigned 22,819 blocks using this approach (0.21 percent).
There remain 17,094 unassigned blocks (0.15 percent), which we drop from the 
analysis.
This creates a unique mapping from census blocks to ZIP codes.

In the end, there are 11,036,022 blocks which are assigned to 31,754 ZIP codes, 
implying an average of 347.55 blocks per ZIP code.
Thus, even though there may be blocks that go beyond one ZIP code, we expect 
the error introduced by this process to be very small.

\subsection{Assigning minimum wage levels to USPS ZIP codes}
\label{sec:assigning_mw_levels}

Our main rents data is aggregated at the level of the USPS ZIP code.
To match this geographical level, we assign statutory MW levels to ZIP codes.
ZIP codes usually cross jurisdictions, and as a result parts of them are subject
to different statutory MW levels.
Trying to overcome this problem, we assign averages of the relevant MW levels to
each ZIP code.

We proceed as follows.
First, we collect a census crosswalk constructed by \textcite{CensusLODES} that 
contains, for each block, identifiers for block group, tract, county, CBSA 
(i.e., Core-Based Statistical Area), place (i.e., Census-Designated Place), and 
state.
Second, we assign the MW level of each jurisdiction to the relevant block.
We use the state code for state MW policies, and we match local MW policies 
based on the names of the county and the place.
We define the statutory MW at each census block as the maximum of the federal,
state, county, and place levels.
Then, based on the original correspondence table described in Online Appendix 
\ref{sec:blocks_to_uspszip}, we assign a ZIP code to each block.
Finally, we define \textit{the statutory MW} for ZIP code $i$ and month $t$, 
$\MW_{it}$, as the weighted average of the statutory MW levels in its
constituent blocks, where the weights are given by the number of housing 
units.%
\footnote{ZIP codes between 00001 and 00199 correspond to federal territories.
Thus, we assign as statutory MW the federal level.}
For ZIP codes that have no housing units in them, such as those corresponding to 
universities or airports, we use a simple average instead.

\subsubsection*{Locating minimum wage earners}

We approximate the share of people that earn at or below the MW as follows.
First, we collect data on the number of workers in each tract from the 5-year 
2010-2014 American Community Survey \parencite{CensusACS}.
Using our assignment of hourly statutory MW levels in January 2014 we compute 
the total yearly wage of a full-time worker earning the MW in each tract, which 
we denote by $\underline{YW}$.%
\footnote{We use the definition of full-time workers from \textcite{IRSfulltime}.
Specifically, we assume that a full-time employee works for 130 hours per week
for 12 months.}
We keep track of what wage bin $\underline{YW}$ falls into.
We estimate the number of MW earners in a tract as the total number of workers 
in all bins below the one where $\underline{YW}$ falls plus a fraction of the 
total number of workers in the bin $\underline{YW}$ falls given by 
$\left(\underline{YW} - b_\ell\right)/\left(b_h - b_\ell\right),$
where $b_h$ and $b_\ell$ represent the upper and lower limits of 
the bin.
We impute the tract estimates to ZIP codes proportionally to the share of 
houses in each tract that fall in every ZIP code the tract overlaps with.%
\footnote{More precisely, we compute a tract-to-ZIP-code correspondence from
the LODES correspondence between blocks and tracts, available in 
\textcite{CensusLODES}, and the geographical match between blocks and ZIP codes
from Online Appendix \ref{sec:blocks_to_uspszip}.
For each tract, we compute the share of houses that fall in each ZIP code, and 
we assume that the share in the tract-ZIP code combination equals the share of
houses times the estimated number of MW workers in the tract.}
Finally, we compute the share of MW workers who reside in each ZIP 
code dividing our estimate of the number of MW workers by the total
number of workers in the data.

Due to limitations in the ACS data, it is not possible to use the MW at 
workplace locations in the computation, nor to estimate the share of MW workers 
by workplace.

\subsection{Measuring housing expenditure at the ZIP code level}
\label{sec:measure_housing_expenditure}

For our counterfactual exercises we require several pieces of information.
First, to estimate the overall incidence of a MW policy we need the levels 
of total wages and total housing expenditure in each location.
Second, to estimate the ZIP code-specific incidence, we require a housing 
expenditure share that varies by ZIP code.
We construct these measures for 2018 using data from the \textcite{IRS} and
the \textcite{hudSAFMR}.

To construct these data we proceed as follows.
We approximate the levels of total wages and housing expenditure using per 
household variables.
From the IRS we obtain annual wage per household, which we 
divide by 12 to obtain a monthly measure.
From the HUD, we use the 2-bedroom SAFMR series as our monthly housing 
expenditure variable.%
\footnote{Average rents in a location would be better approximated as a
weighted average of rents for houses with different number of bedrooms,
weighted by the share of households that rent each type of housing.
However, these data are not publicly available.}
We define the ZIP code-specific housing share as the ratio of these two 
variables.

The computed variables have several missing values across the entire US, and 
small percentage of missing values within urban CBSAs 
(as defined in Table \ref{tab:stats_zip_samples}).
We impute missing values independently for each variable using an OLS
regression based on sociodemographic characteristics of each ZIP code 
(including data from the US Census and LODES) and CBSA by county fixed effects.
To limit the influence of outliers, we winsorize the results at the 0.5th and 
99.5th percentiles. 
The percentage of urban ZIP codes with non-imputed housing expenditure shares 
is $93.2$.
%
% Documented in analysis/expenditure_shares/share_missing_s.txt
%

\subsection{Posted rents and contracted rents: Quora question}
\label{sec:posted_rents}
	
We asked the following question: ``How different is the rent paid by a tenant 
and the rent posted online of the same housing unit? Do tenants have space 
to bargain the posted price, or is it common for tenants to just accept the
posted price?''
The question can be accessed at
\href{https://www.quora.com/How-different-is-the-rent-paid-by-a-tenant-and-the-rent-posted-online-of-the-same-housing-unit-Do-tenants-have-space-to-bargain-the-posted-price-or-is-it-common-for-tenants-to-just-accept-the-posted-price}{this link}.
		
\subsubsection*{Landlords}

\begin{itemize} \itshape
	\item As a landlord for over 40 years, I have never agreed to negotiate the rental
	price. I would rather lose that renter and later lower the list price and rent
	to someone else. ...
	
	\item ... The rent posted should be the actual rent available. As far as comparing 
	the rent to a newly available listed property and one that is being occupied 
	by another existing tenant, they will likely differ as the market continues 
	to evolve and inflation has an impact on everything as well as the law of 
	supply and demand. ...
	
	\item I've been a landlord for over 35 years, in three states and in three countries. 
	I do NOT ``bargain,'' and anyone trying would find their application in the round 
	file, instantly.
\end{itemize}
	
\subsubsection*{Tenants}
	
	\begin{itemize} \itshape
		\item Where I am, you accept the posted price unless there is something very 
		odd about the unit or you have a needed skill to offer. 
		Both are very rare.
		
		The payoff is that landlords often increase rent for renewing tenants at 
		a slightly lower rate than they set for a similar empty unit. 
		If you stay many years, you may have noticeably lower rent. ...
		
		\item Presumably, the landlord has done at least minimal research to figure 
		out how much the market is charging. That market price should bring in 
		multiple potential tenants wanting to rent. Given that, it would be very 
		rare for a landlord to accept lower offers. ...
	\end{itemize}
	
From a Real Estate Transaction Coordinator (boldface added by us):
	
\begin{itemize} \itshape
	\item 
	That's entirely up to the landlord.

	When dealing with a property management company or the manager of an
	apartment complex, they may have limits on what they can do as far as
	negotiations. I'm not familiar with any in my city who negotiate rent.
	\textbf{What's posted is the price. Period.}
	
	We mainly deal with private landlords who, of course, have 100\% control 
	over whether they are willing to negotiate the rent.
	\textbf{In 15 years, I've only seen it happen twice.}
	But our clients post the rent at a fair price—generally right in the 
	center of the ``fair market value range''—so they have no reason to 
	negotiate.

	What they WILL negotiate, and I've seen it done many times, is how the 
	deposits are collected. ...
\end{itemize}

\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Identification in a Potential Outcomes Framework}
\label{sec:potential_outcomes}

Following Section \ref{sec:model}, we assume that the effect of MW policies 
across locations can be summarized in the residence and workplace MW measures.
Thus, we consider the following causal model
\begin{equation}\label{eq:causal_model}
    r_{it} = r_{it}(\mw_{it}^{\res}, \mw_{it}^{\wkp}) .
\end{equation}

For this section we represent our dataset as
$\left\{\{r_{it}, \mw^{\res}_{it}, \mw^{\wkp}_{it}\}
       _{t=\underline{T}}^{\overline{T}}\right\}_{i\in\Z}$.
Monthly dates run from $\underline{T}$ to $\overline{T}$ for every unit,
and $\Z$ is the set of ZIP codes.
We assume that the data are $iid$.
We impose no anticipation, so units do not change their pretreatment outcome 
given future changes in the MW measures.

Every month in which some jurisdiction changes the level of the MW there will 
be units that are treated directly and units that are treated indirectly.
We follow \textcite{AngristImbens1995, CallawayEtAl2021} to define the 
treatment effects of interest.
We denote a unit's causal response to the residence MW as
$\partial r_{it}(\mw_{it}^{\res}, \mw_{it}^{\wkp})/\partial \mw_{it}^{\res} ,$
and to the workplace MW as 
$\partial r_{it}(\mw_{it}^{\res}, \mw_{it}^{\wkp})/\partial \mw_{it}^{\wkp} .$
Let the federal MW level be $\mw^{\fed}$.

\begin{definition}[Treatment Effects]\label{def:treatment_effects}
    Consider a group with a residence MW level of $w^{\res}$ and a workplace
    MW level of $w^{\wkp}$.
    Focus on the effect of the workplace MW.
    The average treatment effect on that group is
    \begin{equation*}
        ATT^{\wkp}(w^{\wkp} | w^{\res}, w^{\wkp}) 
            = \E\left[r_{it}(w^{\res}, w^{\wkp}) - r_{it}(w^{\res}, \mw^{\fed}) 
                    \big| \mw_{it}^{\res}=w^{\res}, \mw_{it}^{\wkp}=w^{\wkp}\right] .
    \end{equation*}
    The average causal response of the same group to the workplace MW is given by
    \begin{equation*}
        ACRT^{\wkp}(w^{\wkp} | w^{\res}, w^{\wkp}) 
            = \frac{\partial \E\left[r_{it}(w^{\res}, l) | \mw_{it}^{\res}=w^{\res}, \mw_{it}^{\wkp}=w^{\wkp}\right]}
                    {\partial \mw^{\wkp}} \Bigg|_{l=w^{\wkp}} .
    \end{equation*}
    These treatment effects may be heterogeneous across the distribution 
    of $(\mw_{it}^{\res},\mw_{it}^{\wkp})$.
    The average causal response across all groups treated with different 
    levels of the workplace and residence MW is
    \begin{equation*}
        ACR^{\wkp}(w^{\wkp}) = \frac{\partial \E\left[r_{it}(w^{\res}, w^{\wkp}) \right] }
                                    {\partial w^{\wkp}} .
    \end{equation*}
    Analogously, for the residence MW we define: $ATT^{\res}$, 
    $ACRT^{\res}(w^{\res} | w^{\res}, w^{\wkp})$, and $ACR^{\res}(w^{\res})$.
\end{definition}

Our main interest lies in the rent gradient to the MW, i.e., the 
average causal response of rents to each of the MW measures.
For that, we make a parallel trends assumption.

\begin{assu}[Parallel trends] \label{assu:PT}
    We assume that, for all levels of $w^{\res}$ and $w^{\wkp}$,
    \begin{align*}\label{eq:PT}
        \E\big[r_{it}(\mw^{\fed}, \mw^{\fed}) & - r_{i,t-1}(\mw^{\fed}, \mw^{\fed}) 
                \big| \mw_{it}^{\res}=w^{\res}, \mw_{it}^{\wkp}=w^{\wkp} \big] \\
        & = \E\big[r_{it}(\mw^{\fed}, \mw^{\fed}) - r_{i,t-1}(\mw^{\fed}, \mw^{\fed})
                \big| \mw_{it}^{\res}=w^{\res}, \mw_{it}^{\wkp}=\mw^{\fed} \big] \\
        & = \E\Big[r_{it}(\mw^{\fed}, \mw^{\fed}) - r_{i,t-1}(\mw^{\fed}, \mw^{\fed})
                \big| \mw_{it}^{\res}=\mw^{\fed}, \mw_{it}^{\wkp}=w^{\wkp} \big] .
    \end{align*}
\end{assu}

Assumption \ref{assu:PT} states that the untreated outcomes evolve in parallel 
between ZIP codes experiencing treatment levels $(w^{\res},w^{\wkp})$ and 
(a) ZIP codes with the same level of the residence MW but unchanged workplace MW and
(b) ZIP codes with the same level of the workplace MW but unchanged residence MW.
We further maintain a second assumption.

\begin{assu}[No selection on gains] \label{assu:no_selection}
    We assume that
    \begin{equation*}\label{eq:no_selection_workplace}
        \frac{\partial ATT^{\wkp}(w^{\wkp} | w^{\res}, l)}
             {\partial \mw^{\wkp}} \Big|_{l = w^{\wkp}} = 0
        \quad\text{\textit{ and }}\quad
        \frac{\partial ATT^{\res}(w^{\res} | l, w^{\wkp})}
             {\partial \mw^{\res}} \Big|_{l = w^{\res}} = 0 .
    \end{equation*}
\end{assu}

To identify $ACRT^{\wkp}$ we will compare ZIP codes that received similar levels 
of the residence MW and different levels of the workplace MW.
Analogous comparisons of ZIP codes with different residence MW and similar 
workplace MW will idenfity $ACRT^{\res}$.

\begin{prop}[Identification]\label{prop:PO_identification}
    Under Assumption \ref{assu:PT} we have that
    \begin{equation*}
        \begin{split}
        \frac{\partial \E\left[r_{it}(w^{\res}, w^{\wkp}) 
                              | \mw_{it}^{\res}=w^{\res}, \mw_{it}^{\wkp}=w^{\wkp}\right]}
             {\partial \mw^{\wkp}} 
        & = ACRT^{\wkp}(w^{\wkp} | w^{\res}, w^{\wkp})            \\
        &  + \frac{\partial ATT^{\wkp}(w^{\wkp} | w^{\res}, l)}
                  {\partial \mw^{\wkp}} \Big|_{l = w^{\res}} .    \\
        \end{split}
    \end{equation*}
    Furthermore, if Assumption \ref{assu:no_selection} holds, then
    \begin{equation*}
        \frac{\partial \E\left[r_{it}(w^{\res}, w^{\wkp}) | w^{\res}, w^{\wkp}\right]}
        {\partial w^{\wkp}} 
       = ACRT^{\wkp}(w | w^{\res}, w) .
    \end{equation*}
    Analogous expressions hold for the residence MW.
\end{prop}
\begin{proof}
    The setting is analogous to \textcite{CallawayEtAl2021} but with two 
    treatment variables.
    The proof is analogous as well, with the only difference being that one 
    must condition on the residence MW when deriving the expression for the 
    workplace MW, and viceversa.
\end{proof}

As extensively discussed by \textcite{CallawayEtAl2021}, Assumption \ref{assu:PT} 
is not enough to identify the average causal response in the context of 
continuous treatments.
The gradient of our rents function for the group $(w^{\res}, w^{\wkp})$ is a mix
of the average causal response of interest and a ``selection bias'' term that
captures the fact that the treatment for the particular group that received
$(w^{\res}, w^{\wkp})$ may be different for other groups at that level of 
treatment.
Assumption \ref{assu:no_selection} imposes that those selection bias
terms are zero.%
\footnote{There are several alternatives to this assumption. 
See \textcite[][Section 3.3]{CallawayEtAl2021} and discussion therein.}
We discuss the plausibility of these assumptions in Section 
\ref{sec:empirical_strategy}.

Consider now a functional form for \eqref{eq:causal_model} like the one used in 
the main analysis:
$$
r_{it} = \alpha_i + \tilde\delta_t 
         + \gamma \mw_{it}^{\res} + \beta \mw_{it}^{\wkp}
         + \epsilon_{it}
$$
where we exclude the controls for simplicity.
It is easy to see, if 
$\E[\epsilon_{it} | \mw_{it}^{\res}, \mw_{it}^{\wkp}] = 0$,
then both Assumptions \ref{assu:PT} and \ref{assu:no_selection} hold under 
this linear functional form with constant effects.
Furthermore, in this case we have that
\begin{equation*}
    ACRT^{\wkp}(w^{\wkp} | w^{\res}, w^{\wkp}) 
        = ACR^{\wkp}(w^{\wkp} | w^{\res}, w^{\wkp}) 
        = \beta
\end{equation*}
and that
\begin{equation*}
    ACRT^{\res}(w^{\res} | w^{\res}, w^{\wkp})
        = ACR^{\res}(w^{\res} | w^{\res}, w^{\wkp})
        = \gamma
\end{equation*}
for any $w^{\res}\geq\mw^{\fed}$ and $w^{\wkp}\geq\mw^{\fed}$.

\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{The Effect of the Minimum Wage on Income Across Space}
\label{sec:mw_on_income}

To estimate the effect of the MW on wage income we collect income data from the 
IRS yearly ZIP code aggregates \textcite{IRS}.
Thus, we construct a ZIP code by month panel where we collect, for each ZIP code
and year between 2010 and 2019, IRS income aggregates, the yearly average of our 
MW measures, and the yearly average of our QCEW variables. 
See Section \ref{sec:data_final_panel} for details on the construction of these 
data.

We estimate versions of
\begin{equation}\label{eq:wage_level_model}
    y_{it} = \gamma_i + \psi_t + \varepsilon \overline{\mw^{\wkp}}_{it} + 
             \overline{\mathbf{X}}^{'}_{it} \eta + \nu_{it} ,
\end{equation}
where 
$y_{it} = \log Y_{it}$ is the log of total wages at ZIP code $i$ in year $t$,
$\gamma_i$ and $\psi_t$ are ZIP code and year fixed effects,
$\overline{\mw^{\wkp}}_{it}$ is the yearly average of the workplace MW,
$\overline{\mathbf{X}}^{'}_{it}$ represents the yearly average of economic 
controls, and
$\nu_{it}$ is an error term.
Sometimes we interact the year fixed effects with indicators for different
geographies.
We use a model in levels because it is not feasible to take monthly first 
differences with yearly data.
A yearly model estimated with monthly averaged variables is identified under the 
same assumptions as the corresponding monthly model.
%%
%% Note that here we can think of $y_{it}$ as the monthly average of yearly 
%%    wages and everything works out
%%

Online Appendix Table \ref{tab:static_wages} shows estimates of $\varepsilon$ 
for different specifications of the model given in \eqref{eq:wage_level_model}.
Columns (1) through (3) estimate the effect of the workplace MW on log total
wages under different specifications.
The point estimates of $\varepsilon$ fluctuate between 0.0909 and 0.1275.
Our preferred specification in column (3), which includes
economic controls and CBSA by year fixed effects, suggests that a 10 percent 
increase in the workplace MW generates a 1.01 percent increase in total wages.
These estimates are consistent with those in \textcite{CegnizEtAl2019}.
\textcite[][Table I]{CegnizEtAl2019} estimates that a MW event increases wages
by 6.8 percent, and in their data the average MW event represents an increase in 
the statutory MW of 10.1 percent.
For illustration, assume that 15 percent of workers in a location earn the
minimum wage.
Then, \citeauthor{CegnizEtAl2019}'s (\citeyear{CegnizEtAl2019}) estimates imply 
that a 10 percent increase in the MW will increase total wages by 
$(6.8/10.1)\times 10\times 0.15 \approx 1.01$ percent.

Column (4) of Online Appendix Table \ref{tab:static_wages} replicates column (3)
but interacts the workplace MW measure with the standarized share of MW workers
estimated as explained in Online Appendix \ref{sec:assigning_mw_levels}.
As expected, we find that a higher share of MW workers makes the effect of
workplace MW increases larger.
Column (5) of Online Appendix Table \ref{tab:static_wages} shows, 
as a falsification test, 
estimates of the same model as in column (3) but using the log of total
dividends as dependent variable.
We obtain a positive but much lower effect that is statistically 
indistinguishable from zero, suggesting that dividends do not respond to 
MW changes as wages do.
