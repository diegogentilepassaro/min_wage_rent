
In this section, we present two empirical strategies we have used to estimate the impact of minimum wage changes on house rents and housing prices. To do this, we outline the main features of the specifications used along with the identifying assumptions used to reach identification of the parameters of interest. We further describe some of the complications we are facing and how we plan to address them in the future. We first present a standard event-study framework with level outcomes. We then discuss the issues arising in the presence of multiple events over the same unit, and what limitations they impose on the estimation. We discuss potential solutions to those limitations Finally, we discuss an alternative approach based on first differences of level variables. This specification  alleviates some of the main concerns of the event-studies, so at this point we think it provides the most trustworthy results.

\subsection{Event-study specifications} \label{subsec:empirical_strategy/event-study}

    Let $y_{ict}$ be an outcome of the housing market in zipcode $i$ belonging to county $c$ in period $t$, such as the median rent or the average housing price in Zillow's listings.\footnote{In practice, we will leverage on various measures capturing different aspects of the local housing market. As discussed in the Data section, Zillow provides rent values for houses of varying characteristics (e.g. single-family houses, condos, or 2 bedroom houses).} As introduced in \autoref{sec:intro}, our main specification will estimate the effect of MW changes on some outcome $y_{ict}$ using a panel event-study methodology which exploits the fine timing of hundreds of events in the 2010 decade staggered across zipcodes and months. These high frequency data should allow for precise identification of relative dynamics around the event, accounting for a very rich set of fixed effects that control for shifting unobservables.
    
    Ideally, we would like to estimate the following dynamic model
    \begin{equation}\label{eq:ideal-event-study}
        \begin{split}
            y_{ict} = \gamma_{i} + \alpha_{t} + \boldsymbol{X}_{ict} \boldsymbol{\beta} + \sum_{k = -w}^{w}\delta_{t + k} D_{ict}^k + \epsilon_{ict}
        \end{split}   
    \end{equation}
    where $i$, $c$, and $t$ index zipcodes, counties, and time; $\gamma_{i}$ is a zipcode fixed effect; $\alpha_{t}$ represents a flexible time trend common to all zipcodes; $\boldsymbol{X}_{ict}$ is a vector of time-varying controls, usually including dummies for the cumulative sum of unused events and county-specific parametric time trends; $D_{ict}^k$ is an indicator for a MW change taking place in zipcode $i$ of county $c$, $k$ periods relative to time $t$; and $w$ is a constant. The coefficients of interest are $\{\delta_{t + k}\}_{k=-w}^w$, which show the conditional dynamics of rents around ``salient'' MW increases.\footnote{We talk about MW ``increases'' because most MW changes tend to be positive, with a handful of exemptions were a local minimum wage was imposed and later overthrown by the state court. By ``salient'' we mean MW increases of at least 50 cents. We explore the sensitivity of our results to this cut-off.} Furthermore, under some assumptions on the behavior of the unobservable we would claim that these coefficients reveal the ``causal'' effect of a minimum wage increase on rents.

    For reasons discussed below, we do not estimate model \eqref{eq:ideal-event-study} in this draft. Instead, we present a simplified event-study in the same spirit that uses one event per zipcode.

\subsubsection{Mulitiple events per unit}

    The main issues we have faced with the above specification are of \textit{technical} nature. Usually, event-studies are constructed with one event per unit which takes place at different times. They are implemented by excluding the pre-period dummy and adding ``off window'' (or ``long-run'') dummies that saturate the model, so as to identify the relative time effects with respect to the pre-period. Our particular setting raises two issues that hamper this type of implementation. First of all, for a given window size $w$ it is common to observe events with overlapping windows, so the relative time coefficients may be contaminated by dynamics from other events. Secondly, given that we usually have multiple events per zipcode, it is not clear how to construct the off window indicators in our case. We illustrate each of these issues below.
    
    Figure \ref{fig:multiple-events-example} panel (a) shows an example of the first problem: overlapping windows. Consider a hypothetical zipcode $i$ in a state that increases the minimum wage every 12 months. Initially, the zipcode is bound by the state minimum wage, but after 6 months of the state change, we imagine that a higher local MW is introduced (which is a recurring feature of our data, specially in the later years). Consider a specification with $w = 6$. As shown in the picture, the time periods after the first MW increase are also the periods before the following MW change. This implies that the identification of the coefficients of interest potentially confounded if the issue is not properly accounted for in the model.
    
    Figure \ref{fig:multiple-events-example} panel (b) depicts a hypothetical situation where two events are separated by 13 months, and is aimed at illustrating the second problem. Suppose that, in this case, we are also interested in using a window of 6 months for estimation. Given that the events are separated by 13 months, the overlapping-windows problem does not arise. However, the implementation is still unclear. How should one construct the off window dummies that saturate the model? For example, if we just define those indicators as one anytime a time period is outside the window of an event, then they will turn on when other events are taking place, thus confounding the relative time coefficients.
    
    \begin{figure}[t!]
        \begin{subfigure}{1\textwidth} \centering
            \begin{tikzpicture}
                
                %Timeline
                \draw[thick, -Triangle] (0,0) -- (13.5,0) node[font=\scriptsize,below left=3pt and -8pt]{Periods};
                    
                %Ticks and event labels
                \foreach \x in {0,0.5,...,13}
                \draw (\x cm,3pt) -- (\x cm,-3pt);
                
                \foreach \x/\descr in {4.5/\begin{tabular}{c} Event 1 \\ (state) \end{tabular}, 7.5/\begin{tabular}{c} Event 2 \\ (local) \end{tabular}, 10.5/\begin{tabular}{c} State increase \\ (not binding) \end{tabular}}
                \node[font=\scriptsize, text height=5ex, text depth=.5ex] at (\x,.7) {$\descr$};
                
                \draw[very thick] (4.5 cm,3.5pt) -- (4.5 cm,-3.5pt);
                \draw[very thick] (7.5 cm,3.5pt) -- (7.5 cm,-3.5pt);
                \draw[very thick] (10.5 cm,3.5pt) -- (10.5 cm,-3.5pt);
                
                %event windows
                \draw (1.5, -.4) -- (7.5, -.4);
                \draw (4.5, -.7) -- (10.5, -.7);
                
                \foreach \x in {1.5,2,...,7.5}
                \draw (\x cm,-.35) -- (\x cm,-.45);
                \foreach \x in {4.5,5,...,10.5}
                \draw (\x cm,-.65) -- (\x cm,-.75);
                    
                %overlap area
                \draw[lightgray!75!red, line width=5.5pt] (4.5,-.55) -- +(3,0);
                    
            \end{tikzpicture}
            \caption{Overlapping windows}
        \end{subfigure}\\
        \begin{subfigure}{1\textwidth} \centering
            \begin{tikzpicture}
                
                %Timeline
                \draw[thick, -Triangle] (0,0) -- (13.5,0) node[font=\scriptsize,below left=3pt and -8pt]{Periods};
                    
                %Ticks and event labels
                \foreach \x in {0,0.5,...,13}
                \draw (\x cm,3pt) -- (\x cm,-3pt);
                \foreach \x/\descr in {3.5/\text{$ \ \ \ $Event 1}, 10/\text{$ \ \ \ $Event 2}}
                \node[font=\scriptsize, text height=4ex,
                    text depth=.5ex, text width=1.5cm] at (\x,.5) {$\descr$};
    
                \draw[very thick] (3.5 cm,3.5pt) -- (3.5 cm,-3.5pt);
                \draw[very thick] (10 cm,3.5pt) -- (10 cm,-3.5pt);
                
                %event windows
                \draw (.5, -.4) -- (6.5, -.4);
                \draw (7, -.7) -- (13, -.7);
                
                \foreach \x in {0.5,1,...,6.5}
                \draw (\x cm,-.35) -- (\x cm,-.45);
                \foreach \x in {7,7.5,...,13}
                \draw (\x cm,-.65) -- (\x cm,-.75);
                    
            \end{tikzpicture}
            \caption{Undefined off window dummies}
        \end{subfigure}
        \caption{An illustration of the multiple events problem in event-studies}
        \label{fig:multiple-events-example}
    \end{figure}
    
    We are working on two different ways to address these issues. Firstly, we are considering a model with ``infinite'' relative time dummies, in the spirit of \textcite[][, equation 1]{BorusyakJaravel2017}.\footnote{To be precise, in this model the window $w$ equals the maximum number of time periods relative of an event in the panel.} Secondly, we are working on a ``stacked'' event study framework, in the spirit of the implementation of \textcite{cengiz2019effect}, in which for each event one selects observations around a given time window, thus constructing a panel coded by event-relative time. In the first case the ``off window'' dummies do not need to be constructed and the model is, by definition, saturated. In the second case there are well-defined pre- and post-periods for each event. Thus, both are ways to solve the implementation problems.\footnote{At this point, it is not clear to us what are the advantages and disadvantages of each of them. This is something to explore in the near future.} We will add dummies to control for unused events that fall within the window of the main events used for the analysis.
    
    Estimating both of the before-mentioned alternatives is work in progress as of today. As a temporary workaround, we deliberately selected one event per zipcode to run a traditional event-study. This brings in its own complications, which we discuss below below. But before, let us formally introduce this framework, which is the one used for the event-study results in this draft.

\subsubsection{An event-study with one event per zipcode}

    One way to sort out the difficulties that arise from the multiple-events problem is by simply selecting one event per unit to run a traditional two-way fixed effects specification. In this initial draft, we take this approach. Specifically, we select the last minimum wage increase within each unit. We do this because Zillow adds zipcodes over time, and so the closer to the end of the panel the more units with valid rents data we have.\footnote{We also impose the restriction that the event must have a complete window of $w$ months after it.} We estimate several specifications of two-way fixed effects models, some excluding never-treated zipcodes and others that include them in a consistent way in our models. We add parametric county-specific controls to account for local business cycles. 

    The main estimating equation is
    \begin{equation}\label{eq:last-event-study}
        \begin{split}
            y_{ict} = & \gamma_{i} + \alpha_{t} + \boldsymbol{\beta} \boldsymbol{X}_{ict} \\
            & + \delta^{-} D_{ict}^{-} + \sum\limits_{k = -w}^{-2}\delta_{t + k}D_{ict}^k + \sum\limits_{k = 0}^{w}\delta_{t + k} D_{ict}^k + \delta^{+} D_{ict}^{+} + \epsilon_{ict} 
        \end{split}   
    \end{equation}
    where, as before, $\gamma_{i}$ and $\alpha_{t}$ are fixed effects; $\boldsymbol{X}_{ict}$ always includes dummies for the number of unused MW events (see next paragraph), and sometimes adds county-specific parametric time trends; $D_{ict}^k$ is an indicator for a minimum wage taking place $k$ periods relative to $t$; and $\{D_{ict}^{-}, D_{ict}^{+}\}$ are indicators for pre- and post-event periods.\footnote{Note that we omit the indicator for the month prior to the event.} The coefficients of interest are $\{\delta_{t-w}, ..., \delta_{t-2}$, $\delta_t$, $\delta_{t+1}, ...$, $\delta_{t+w}\}$, which show the dynamics of the outcome variable around selected MW events. This equation is not free of identification problems, of course. In particular, it suffers from under-identification of the dynamic coefficients $\delta_{t+k}$ up to a linear trend \parencite{BorusyakJaravel2017}. As discussed in the next subsection, we take several steps to address this issue.
    
    Before moving to discussing identification, some important notes about the regression equation \eqref{eq:last-event-study}. First of all, as we wrote down the specification, it suggests that only units that are treated in some period are included in the estimating sample. Under our most populated rent variable, this means using only around 45\% of the available zipcodes. We include never treated units in the next section, which not only increases power but also helps with the under-identification concerns. 
    
    Secondly, the fact that different zipcodes have a different number of accumulated MW increases means that they may also differ in the level of rents and, potentially, different dynamics. In an attempt to account for this, we include indicators for different values of the cumulative sum of unused events within the controls $\boldsymbol{X}_{ict}$.\footnote{For example, suppose a zipcode has two MW increases before the last event, at periods $\tau_1$ and $\tau_2$. In that case, we would include indicators for the period before any event $\mathds{1}\left(t \leq \tau_1\right)$, the period between the first and the second $\mathds{1}\left(\tau_1 <  t \leq \tau_2 \right)$, and an indicator after the second event $\mathds{1}\left(t > \tau_2\right)$. In here, $\mathds{1} (\cdot)$ is the indicator function.} Finally, the set of ``last minimum wage events'' is obviously a selected sample of all the events (e.g., these events are more likely to be local than average). This qualifies the interpretation of these preliminary results.

\subsubsection{Identification issues}
    
    \paragraph{The ideal model}
    
    Suppose we overcome the implementation issues discussed above, and so the model in equation \eqref{eq:ideal-event-study} can be estimated. Those results will be interpretable as the causal effect of salient MW increases on rents if the following identifying assumption holds: $$E \left[ \epsilon_{ict} D_{ict}^k \big| \gamma_j, \alpha_{t}, \boldsymbol{\beta} \boldsymbol{X}_{ict}\right]  = 0 \ \ \ \ \forall k\in\{-w, ..., -1, 0, 1, ..., w\}. $$ This means that unobservable determinants of the outcome are mean independent from the relative timing of the MW event conditional on the set of fixed effects and controls. We can also interpret this assumption as ``parallel-trends'': conditional in our rich set of controls, rents would have followed the same trends absent minimum wage changes. In other words, the counterfactual value of rents between zipcodes treated at different times within a given county does not differ systematically.
    
    Given that equation \eqref{eq:ideal-event-study} utilizes within zipcode variation to pin-down the effect, this assumption seems much more plausible than the assumptions needed when using within county variation and a much less flexible set of fixed effects. Conditional on time period fixed effects and county-specific parametric trends,\footnote{Note that these controls are a very high dimensional object.} the unobserved within zipcode variation is unlikely to be correlated with the determinants of the timing of the MW change, as these are not likely to be determined at the zipcode level. One important reason for this is that MW changes are usually enacted through federal or state law, or through local ordinances that are subject to higher level court blocks and revisions, and that may follow from ballot initiative. Therefore, the timing of the enactment of a MW change in a given zipcode could be thought as \textit{unpredictable}.
    % I think in here we want to use UNPREDICTABLE instead of RANDOM. See Borusyak and Jaravel (2017, section 3.2.1 in page 7)%
    Furthermore, we control for flexible local business cycles, alleviating concerns about differential trends when introducing a minimum wage.\footnote{It is plausible that political units, such as states and counties, introduce a minimum wage when they experience an economic boom, meaning that rents were already on an increasing trend. We will address this by controlling for the local business cycle, via county-specific parametric time trends.}
    
    \paragraph{The last event specification}
    
    As we anticipated above, restricting the pool of events used for estimating the treatment effect to one per unit introduces different identification issues. \textcite{BorusyakJaravel2017} show that the identification of a dynamic causal effect is hampered by the impossibility of separately estimating relative time and period fixed effects, as each of them occur only once per unit, making it impossible to pin them down up to a linear trend. Following these authors, we address this issue in two different ways.
    
    The first solution we try is simply dropping the unit fixed effects, and using instead fixed effects at a higher level of aggregation. This approach comes at the expense of stronger identification assumptions and lower statistical power. We implement this by running an alternative specification of \eqref{eq:last-event-study} where we replace zipcode-level fixed effects with county-level ones, i.e.,
    \begin{equation}\label{eq:last-event-study-countyFE}
        \begin{split}
            y_{ict} = & \gamma_{c} + \alpha_{t} + \boldsymbol{\beta} \boldsymbol{X}_{ict} \\
            & + \delta^{-} D_{ict}^{-} + \sum\limits_{k = -w}^{-2}\delta_{t + k}D_{ict}^k + \sum\limits_{k = 0}^{w}\delta_{t + k} D_{ict}^k + \delta^{+} D_{ict}^{+} + \epsilon_{ict} ,
        \end{split}   
    \end{equation}
    
    Note that the geographic fixed effects $\gamma_{c}$ now vary by county. Under this new framework, the identifying variation comes from comparing zipcodes within the same county. To interpret the effects as causal, the assumption is now more stringent than before: $$E \left[ \epsilon_{ict} D_{ict}^k | \gamma_c, \alpha_{t}, \boldsymbol{\beta} \boldsymbol{X}_{ict}\right]  = 0 \  \ \ \ \forall k\in\{-w, ..., -1, 0, 1, ..., w\} .$$ We also include county-specific time trends in this specification. Thus, we are still allowing for the possibility of unobserved time varying trends correlated both with MW changes and with prices at the county level.
    
    We try a different solution, also suggested by \textcite{BorusyakJaravel2017}, that includes zipcodes that are never treated in our sample period. All of our estimations begin after 2010, whereas the last federal minimum wage place took place in 2009. Therefore, zipcodes in states and counties that never introduced a minimum wage are effectively not treated. We include them by estimating the model given by
    \begin{equation}\label{eq:last-event-study-control}
        \begin{split}
            y_{ict} = & \gamma_{i} + \alpha_{t} + \boldsymbol{\beta} \boldsymbol{X}_{ict} \\
            & + T_j\cdot\left[\delta^{-} D_{ict}^{-} + \sum\limits_{k = -w}^{-2}\delta_{t + k}D_{ict}^k + \sum\limits_{k = 0}^{w}\delta_{t + k} D_{ict}^k + \delta^{+} D_{ict}^{+}\right] + \epsilon_{ict} , 
        \end{split}   
    \end{equation}
    where $T_j$ is an indicator for zipcode $i$ receiving any minimum wage increase in our sample period. Importantly, this approach increases the size of the sample used for estimation by approximately 60\% (see notes under figure \ref{fig:event_study_main} for exact sample sizes). Never treated units effectively pin down year effects, thus allowing us to separate the passing of time from the dynamics around MW changes for treated units. We estimate this specification both excluding and including county-specific trends as well.
    
    We discuss the results of these specifications in Section \ref{sec:results}.
    
    % COMMENT: Since the last basic TWFE does not show a discontinuous jump anymore, this paragraph seems unnecessary.
    % 
    % Finally, we also point out that the under-identification problems in equation \eqref{eq:last-event-study} arise up to a linear trend. If the dynamic effects show some discontinuous jump at the date of the event, or some non-linear dynamics after the event, then we can conclude that the the minimum wage had some effect on rents \textit{even if} the overall dynamics are weakly identified. The main problem is that the pre-trends assumption cannot be tested in this case. We extend on this in the results section.

\subsection{Panel difference-in-differences specifications} \label{subsec:empirical_strategy/first-difference}

    In this section, we explore a first-differences estimation approach that we think has several advantages over the first differences. First of all, it uses our complete sample and all the minimum wage changes. Secondly, not only it exploits the timing of a MW change but also its intensity. 
    
    We present two main specifications, a static model and a dynamic one. In the former we include only the current first difference in the log of the minimum wage. Whereas this shows a statistically significant results, one may worry about pre-trends that confound the effect. To account for this, in the dynamic model we add leads and lags of this variable, which allows us to formally test the hypothesis of pre-trends.

\subsubsection{Static models}

    Following \textcite{meer2016effects}, consider the following panel difference-in-differences model relating rents and the minimum wage:

\begin{equation}\label{eq:diff_main}
        \tilde{y}_{it} = \alpha_i + \alpha_t + \gamma_i t + \beta \tilde{MW}_{it-r} + \epsilon_{it}
\end{equation}
    
    where $\tilde{y}_{it}$ is the log rent per square foot, $\tilde{MW}$ is the log of the minimum wage, $\alpha_i$ is a zipcode fixed effect, $\alpha_t$ is a time fixed effect, and $\gamma_i$ is a zipcode-specific linear trend. Taking first differences, the model becomes:
    
\begin{equation}\label{eq:diff_main}
        \Delta \tilde{y}_{it} = \theta_t + \gamma_i + \beta \Delta \tilde{MW}_{it}+ \Delta \epsilon_{it}
\end{equation}
    
    In this model, identification comes from assuming that within a zipcode the change in the level of the logarithm of the minimum wage is mean independent of the change in the unobserved shock $\Delta \epsilon_{it}$ conditional on the time fixed effects and the zipcode-specific linear trend. If that's the case $\beta$ has a causal interpretation and is the elasticity of the rent per square foot to the MW. We focus on the first-differences model because we are interested in detecting month to month changes in the rent prices caused by changes in the MW rather than just differences in pre and post periods.
    
\subsubsection{Dynamic models}

One potential concern with the static model, is that pre existing time-paths of rents per square foot might be different in zipcodes that had a MW change relative to zipcodes that didn't experienced a change. To assess if that is the case, and to allow for dynamic effects, we extend our static model with leads and lags of the logarithm of the MW. The model becomes:

\begin{equation}\label{eq:diff_main}
        \Delta \tilde{y}_{it} = \theta_t + \gamma_i + \sum_{r=-s}^{s}\beta_r \Delta \tilde{MW}_{it-r}+ \Delta \epsilon_{it}
\end{equation}

Importantly, this model allows us to test whether $\beta_{-s} = \beta_{-s+1} = ... = \beta_{-1} = 0$. We do that in the results section and we fail to reject. Therefore, we estimate a model with distributed lags as follows:

\begin{equation}\label{eq:diff_main}
        \Delta \tilde{y}_{it} = \theta_t + \gamma_i + \sum_{r=0}^{s}\beta_r \Delta \tilde{MW}_{it-r}+ \Delta \epsilon_{it}
\end{equation}

This model allows us to estimate the change in the time-path of the logarithm of the rent per square foot relative to the change in the MW. We present results from this model in the results section. 

\subsection{Related topics} \label{subsec:empirical_strategy/related-topics}

    In this subsection we discuss some other issues that we have thought about, but have not implemented yet due to time constraints.

    \subsubsection{Measurement error in the outcome variable}

    In our setting, one may worry that the rents variable is measured with error, and that this error is correlated with the introduction of a minimum wage. If both the quality of houses listed in Zillow and their price increase as a minimum wage is introduced, then we would mistakenly attribute an increase in rents to the minimum wage.%\footnote{We thank Kenneth Chay for flagging this issue.}
    %% QUESTION: Ken Chay suggested this problem in my research meeting. Should we thank him in a footnote or something? Also, should we thank John and Jesse for their other comments?
    
    To account for this we exploit the fact that Zillow provides data by house category, thus effectively controlling for some observed characteristics. As discussed in the data section 
    % IS IT DISCUSSED? If not, mention this.
    , we observe listings of single family houses, condos, studios to up to 5 bedrooms, etc. Furthermore, we use rents per square foot, accounting then for the size of the houses in the market. We run our main regressions with single family houses and condos. We use some of the other categories as falsification tests --one would not expect an effect among houses in the right tail of the quality distribution--.
    % DO WE? If not, consider changing the last sentence %
    
    We believe that the use of monthly data also helps alleviate this problem. Once we use listings within a given category, we believe that it is unlikely those houses would markedly increase quality from one month to the other, following a MW increase. Presumably, improvements in unobserved quality take a longer time to be implemented.

    \subsubsection{Towards the effect of wages on rents}
    
    An object that is also of interest is the effect of wages in a local neighborhood on the rents paid by individuals living there, going beyond the minimum wage. In the future, we would like to estimate this parameter via a TSLS system, where we instrument wages with the minimum wage.
