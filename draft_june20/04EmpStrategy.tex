In this section, we present the empirical strategy used to estimate the impact of MW changes over house rents and prices. To do this, we outline the main features of the specification used along with the identifying assumptions used to reach identification of the parameters of interest. We first present a standard event-study framework with level outcomes. We then discuss the issues arising in the presence of multiple events over the same unit, and what limitation we need to impose. We finally show a first-difference event-study framework that alleviates identification concerns.  

Let $y_{jt}$ be an outcome of the housing market in zipcode $j$ in period $t$, such as the median rent or the average housing price. In practice, we will leverage on various measures capturing different aspects of the local housing market. For example, $y_{jt}$ could refer to a specific subset of property types (e.g. single-family houses, or condos). As introduced in \autoref{sec:intro}, we use a panel event-study methodology exploiting the fine timing of hundreds of MW changes staggered across zipcodes and months. These high frequency data allows for simultaneous identification of relative dynamics around the event and a very rich set of fixed effects. In particular, we use location fixed effects, county-specific time fixed effects, and county-specific calendar month fixed effects (to account for flexible seasonal pattern at the local level):

\begin{equation}\label{eq:main_ziplevel}
    \begin{aligned}
        y_{jt} = \delta_{w-}D_{jw-} + \sum\limits_{k = -w}^{-2}\delta_{t + k} D_{j(t+k)} + \sum\limits_{k = 0}^{w}\delta_{t + k} D_{j(t + k)}  + \delta_{w+}D_{jw+} + \alpha_{j} + \alpha_{ct} + \boldsymbol{\beta} \boldsymbol{X}_{jt} +\epsilon_{jt} 
    \end{aligned}   
\end{equation}

where

\begin{itemize}
    \item $j$: zipcode
    \item $t$: time
    \item $w$: event window
    \item $c$: county
    \item $D_{j (t + k)}$: indicator for MW change in zipcode $j$ in period $t+k$ ($D_{jw-}$ and $D_{jw+}$ control for all periods outside the $2w + 1$ window)
    \item $\boldsymbol{X}_{it}$: time and spatial controls (e.g. county-specific calendar month)\footnote{If a given zipcode always experience MW changes in a particular calendar month, say January, these fixed effects will partial out that effect from the dynamics. As there are many zipcodes that experience changes at different calendar months, those effects are identified jointly to the dynamic treatment effects.}
\end{itemize}

The main identifying assumption is that $E \left( \epsilon_{jt} D_{j(t+k)} | \alpha_j, \alpha_{ct}, \boldsymbol{\beta} \boldsymbol{X}_{jt}\right)  = 0  \ \ \ \forall k\in[-w, w]$. Intuitively, this means that unobservable determinants of the outcome are mean independent from the relative timing of the MW event conditional on the set of fixed effects and controls. In our context, as we use within zipcode variation this assumption seems much more plausible than the assumptions needed when using within county variation and a much less flexible set of fixed effects. Conditional on county-specific time fixed effects and county-specific calendar months\footnote{Note that these fixed effects are a very high dimensional object.}, the unobserved within zipcode variation is unlikely to be correlated with the determinants of the timing of the MW change, as these are not likely to be determined at the zipcode level. One important reason for this is that MW changes are usually enacted through federal or state law, or through local ordinances that are subject to higher level court blocks and revisions, and that may follow from ballot initiative. Therefore, the timing of the enactment of a MW change in a given zipcode could be thought as random. Furthermore, federal and state changes are, for the overwhelming majority of zipcodes, plausibly unrelated to any possible zipcode level political influence. 

\paragraph{Mulitiple events per unit}
In the present context, each zipcode is treated every time there's a MW change affecting it. When the event window size $k$ is chosen as such it leads to partial overlapping for two subsequent events, identification of the treatment effect is potentially confounded since post-event periods for the earlier event coincides with pre-event periods for the latter: 


\begin{center}
    \begin{tikzpicture}
    %Timeline
    \draw[thick, -Triangle] (0,0) -- (11,0) node[font=\scriptsize,below left=3pt and -8pt]{Periods};
    %Ticks and event labels
    \foreach \x in {0,1,...,10}
    \draw (\x cm,3pt) -- (\x cm,-3pt);
    \foreach \x/\descr in {4/\text{Event 1},7/\text{Event 2}}
    \node[font=\scriptsize, text height=1.75ex,
    text depth=.5ex] at (\x,.3) {$\descr$};
    %event windows
    \draw (1, -.4) -- (7, -.4); 
    \foreach \x in {1,7}
    \draw (\x cm,-.35) -- (\x cm,-.45);
    \draw (4, -.7) -- (10, -.7);
    \foreach \x in {4,10}
    \draw (\x cm,-.65) -- (\x cm,-.75);
    %overlap area
    \draw[lightgray!75!red, line width=6pt] 
    (4,-.545) -- +(3,0);
    \end{tikzpicture}
\end{center}

One partial solution is to select a subset of non-overlapping events while explicitly controlling for those not used in the estimation procedure \parencite{dube2016minimum}. 

To get a clearer interpretation of the results, we also consider a more standard setting in which every unit in the sample is treated only once: this can be done, for example, by focusing only on the most recent MW change for each zipcode.   


\paragraph{Identification issues in the fully-dynamic specification.} Restricting the pool of events used for estimating the treatment effect to one per unit, however, introduces different identification issues as pointed out by \textcite{borusyak2017revisiting}. Specifically, the identification of a dynamic causal effect is hampered by the impossibility of separately estimate relative time and period fixed effects, as each of them occur only once per unit, making it impossible to pin it down up to a linear trend. One possible solution is to remove the unit fixed effects at the expenses of a stronger identification assumption and less power. We perform this by running an alternative specification of \autoref{eq:main_ziplevel} where we replace zipcode-level fixed effects with county-level ones. Under this new framework, the identifying assumption becomes $E \left( \epsilon_{jt} D_{j(t+k)} | \alpha_c, \alpha_{ct}, \boldsymbol{\beta} \boldsymbol{X}_{jt}\right)  = 0  \ \ \ \forall k\in[-w, w]$. Altought we include a third-degree polynomial for time trend as additional controls, note that we are still allowing for the possibility of having unobserved time varying trends correlated both with MW changes and with prices. 

In addition to this, we then introduce a further specification with a control group made of zipcode that do not experience changes in MW in our sample [ADD EQUATION FOR CLARITY?]. This allows us to separately pin down year effects from the causal treatment effect of MW changes by the very fact that such units are indeed never treated. Note that, in order to test the strength of our results, we can add county-level trends since such geographical unit does not perfectly overlap with treated and control group. \\   



As suggested by \textcite{borusyak2017revisiting}, a further - and potentially superior - option is to focus on \textit{changes} in the outcome variable that are invariant up to a linear transformation. We show in [RESULTS LEVEL] that it is indeed the case in our framework. We therefore introduce the following event study specification in first differences: 

\begin{equation}\label{eq:diff_main}
    \Delta \tilde{y}_{jt} = \sum\limits_{k = -5}^{5} \delta_{t+k} \Delta \tilde{D}_{j(t+k)} + \alpha_{t} + \boldsymbol{\beta} \boldsymbol{X}_{jt} + \nu_{jt}
\end{equation}

where $\Delta \tilde{y}_{jt}$ and $\Delta \tilde{D}_{j(t+k)}$ are the first difference of log outcome and MW respectively. Note that the first difference specification already take care of the unit fixed effect, hence not included. Identification in the current setting is reached assuming changes in the outcome variable that are invariant up to a linear transformation \parencite{borusyak2017revisiting}. In [RESULTS] we show how the county-level FE version of \autoref{eq:main_ziplevel} indeed reveals a sudden jump in the outcome vairable at treatment time along with a fairly linear dynamic hence justifying the validity of this latter approach. 

We will discuss the no pre-trends assumption in the next section.
